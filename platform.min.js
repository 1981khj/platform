function SideTableInherit(t){this.map=new SideTable(t)}function PointerEvent(t,e){var n,e=e||{},i=e.which?e.button:-1;if(document.implementation.hasFeature("MouseEvent","4.0"))n=new MouseEvent(t,e);else{n=document.createEvent("MouseEvent");var r={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,buttons:void 0,relatedTarget:null};Object.keys(r).forEach(function(t){t in e&&(r[t]=e[t])}),n.initMouseEvent(t,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,i,r.relatedTarget)}var o=0;return o=e.pressure?e.pressure:void 0!==e.buttons?e.buttons?.5:0:i>-1?.5:0,Object.defineProperties(n,{pointerId:{value:e.pointerId||0,enumerable:!0},width:{value:e.width||0,enumerable:!0},height:{value:e.height||0,enumerable:!0},pressure:{value:o,enumerable:!0},tiltX:{value:e.tiltX||0,enumerable:!0},tiltY:{value:e.tiltY||0,enumerable:!0},pointerType:{value:e.pointerType||"",enumerable:!0},hwTimestamp:{value:e.hwTimestamp||0,enumerable:!0},isPrimary:{value:e.isPrimary||!1,enumerable:!0}}),n}function PointerGestureEvent(t,e){var n=e||{},i=document.createEvent("Event"),r={bubbles:!0,cancelable:!0};return Object.keys(r).forEach(function(t){t in n&&(r[t]=n[t])}),i.initEvent(t,r.bubbles,r.cancelable),Object.keys(n).forEach(function(t){i[t]=e[t]}),i.preventTap=this.preventTap,i}(function(){window.templateContent=window.templateContent||function(t){return t.content},window.wrap=window.unwrap=function(t){return t},window.createShadowRoot=function(t){return t.webkitCreateShadowRoot()},window.templateContent=function(t){if(window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(t),!t.content&&!t._content){for(var e=document.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t._content=e}return t.content||t._content}})(),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(t,i)}}),function(){"use strict";var t=DOMTokenList.prototype.add,e=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=0;arguments.length>e;e++)t.call(this,arguments[e])},DOMTokenList.prototype.remove=function(){for(var t=0;arguments.length>t;t++)e.call(this,arguments[t])},DOMTokenList.prototype.toggle=function(t,e){1==arguments.length&&(e=!this.contains(t)),e?this.add(t):this.remove(t)},window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}}())}(),window.templateContent=window.templateContent||function(t){return t.content},function(){var t;window.sinspect=function(n,i){t||(t=window.open("","ShadowDOM Inspector",null,!0),t.document.write(e),t.api={shadowize:shadowize}),r(n||wrap(document.body),i)};var e=["<!DOCTYPE html>","<html>","  <head>","    <title>ShadowDOM Inspector</title>","    <style>","      body {","      }","      pre {",'        font: 9pt "Courier New", monospace;',"        line-height: 1.5em;","      }","      tag {","        color: purple;","      }","      ul {","         margin: 0;","         padding: 0;","         list-style: none;","      }","      li {","         display: inline-block;","         background-color: #f1f1f1;","         padding: 4px 6px;","         border-radius: 4px;","         margin-right: 4px;","      }","    </style>","  </head>","  <body>",'    <ul id="crumbs">',"    </ul>",'    <div id="tree"></div>',"  </body>","</html>"].join("\n"),n=[],i=function(){var e=t.document,i=e.querySelector("#crumbs");i.textContent="";for(var o,a=0;o=n[a];a++){var s=e.createElement("a");s.href="#",s.textContent=o.localName,s.idx=a,s.onclick=function(t){for(var e;n.length>this.idx;)e=n.pop();r(e.shadow||e,e),t.preventDefault()},i.appendChild(e.createElement("li")).appendChild(s)}},r=function(e,r){var o=t.document;u=[];var a=r||e;n.push(a),i(),o.body.querySelector("#tree").innerHTML="<pre>"+c(e,e.childNodes)+"</pre>"},o=Array.prototype.forEach.call.bind(Array.prototype.forEach),a={STYLE:1,SCRIPT:1,"#comment":1,TEMPLATE:1},s=function(t){return a[t.nodeName]},c=function(t,e,n){if(s(t))return"";var i=n||"";if(t.localName||11==t.nodeType){var r=t.localName||"shadow-root",a=i+h(t);"content"==r&&(e=t.getDistributedNodes()),a+="<br/>";var u=i+"&nbsp;&nbsp;";o(e,function(t){a+=c(t,t.childNodes,u)}),a+=i,{br:1}[r]||(a+="<tag>&lt;/"+r+"&gt;</tag>",a+="<br/>")}else{var l=t.textContent.trim();a=l?i+'"'+l+'"'+"<br/>":""}return a},u=[],h=function(t){var e="<tag>&lt;",n=t.localName||"shadow-root";return t.webkitShadowRoot||t.shadowRoot?(e+=' <button idx="'+u.length+'" onclick="api.shadowize.call(this)">'+n+"</button>",u.push(t)):e+=n||"shadow-root",t.attributes&&o(t.attributes,function(t){e+=" "+t.name+(t.value?'="'+t.value+'"':"")}),e+="&gt;</tag>"};shadowize=function(){var t=Number(this.attributes.idx.value),e=u[t];e?r(e.webkitShadowRoot||e.shadowRoot,e):(console.log("bad shadowize node"),console.dir(this))}}(),function(t){"use strict";function e(){this.entries=[]}function n(){this.entries={},this.size=0}function i(t,e){this.scoreFunction=t,this.content=e||[],this.content.length&&this.build()}function r(t){this.stayFunc=t,this.methods=new e}function o(t,e){this.constraint=t,this.variable=e}function a(t){this.planner=t,this.methods=[]}function s(){this.variables=[],this.constraints=[],this.variableUIDCounter=1,this.methodUIDCounter=1}e.prototype={add:function(t){this.entries.indexOf(t)>=0||this.entries.push(t)},"delete":function(t){var e=this.entries.indexOf(t);0>e||this.entries.splice(e,1)},first:function(){return this.entries[0]},get size(){return this.entries.length}},n.prototype={add:function(t){void 0===this.entries[t.__UID__]&&(this.entries[t.__UID__]=t,this.size++)},"delete":function(t){void 0!==this.entries[t.__UID__]&&(this.entries[t.__UID__]=void 0,this.size--)}},i.prototype={get size(){return this.content.length},build:function(){for(var t=Math.floor(this.content.length/2)-1,e=t;e>=0;e--)this.sinkDown(e)},push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length&&(this.content[0]=e,this.sinkDown(0)),t},"delete":function(t){for(var e=this.content.length,n=0;e>n;n++)if(this.content[n]==t){var i=this.content.pop();return n!=e-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(node)?this.bubbleUp(n):this.sinkDown(n)),void 0}},bubbleUp:function(t){for(var e=this.content[t];t>0;){var n=Math.floor((t+1)/2)-1,i=this.content[n];if(this.scoreFunction(e)<=this.scoreFunction(i))break;this.content[n]=e,this.content[t]=i,t=n}},sinkDown:function(t){var e=this.content.length,n=this.content[t],i=this.scoreFunction(n);do{var r=2*(t+1),o=r-1,a=null,s=i;if(e>o){var c=this.content[o],u=this.scoreFunction(c);u>i&&(a=o,s=u)}if(e>r){var h=this.content[r],l=this.scoreFunction(h);l>s&&(a=r)}null!=a&&(this.content[t]=this.content[a],this.content[a]=n,t=a)}while(null!=a)}},r.prototype={freeMethod:function(){return this.methods.first()}},a.prototype={addMethod:function(t){var e=new o(this,t);return this.methods.push(e),e.__UID__=this.planner.methodUIDCounter++,e},reset:function(){this.methods.forEach(function(t){t.variable.methods.add(t)})},remove:function(){this.methods.forEach(function(t){t.variable.methods.delete(t)})}},s.prototype={addVariable:function(t){var e=new r(t);return e.__UID__=this.variableUIDCounter++,this.variables.push(e),e},addConstraint:function(){var t=new a(this);return this.constraints.push(t),t},removeConstraint:function(t){var e=this.constraints.indexOf(t);0>e||(t.remove(),this.constraints.splice(e,1),this.constraints.forEach(function(t){t.reset()}),this.variables=this.variables.filter(function(t){return t.methods.size}))},getPlan:function(){this.variables.forEach(function(t){t.priority=t.stayFunc()}),this.constraints.forEach(function(t){t.reset()});var t=[],e=[],r=new n;for(this.variables.forEach(function(t){var n=t.methods.size;n>1?r.add(t):1==n&&e.push(t)}),e=new i(function(t){return t.priority},e);e.size;){var o;do o=e.pop();while(e.size&&!o.methods.size);if(!o.methods.size)break;var a=o.freeMethod(),s=a.constraint;s.remove(),s.methods.forEach(function(t){var n=t.variable;1==n.methods.size&&(r.delete(n),e.push(n))}),t.push(a)}return r.size?void 0:t.reverse()}},t.Planner=s}(this),function(t){"use strict";function e(t){return+t===t>>>0}function n(t){return+t}function i(t){return t===Object(t)}function r(t,e){return t===e?0!==t||1/t===1/e:I(t)&&I(e)?!0:t!==t&&e!==e}function o(){function t(t){var e=n.get(t);return e||(e=Object.create(null),n.set(t,e)),e}function e(t){if(null===t)return"$0";var e,n;switch(typeof t){case"undefined":return"$1";case"boolean":return"$"+(t+2);case"object":case"function":return n=i.get(t),n||(n="$"+a++,i.set(t,n)),n;case"number":e=r;break;case"string":e=o}return n=e[t],n||(n="$"+a++,e[t]=n),n}if(!Map.prototype.forEach||!Set.prototype.forEach){var n=new WeakMap,i=new WeakMap,r=Object.create(null),o=Object.create(null),a=4,s=Map.prototype.set,c=Map.prototype.delete,u=Set.prototype.add,h=Set.prototype.delete;Map.prototype.set=function(n,i){var r=e(n),o=t(this);return o[r]=n,s.call(this,n,i)},Map.prototype.delete=function(n){var i=e(n),r=t(this);return delete r[i],c.call(this,n)},Map.prototype.forEach=function(e,n){var i=t(this);for(var r in i){var o=i[r],a=this.get(o);e.call(n||this,a,o,this)}},Set.prototype.add=function(n){var i=e(n),r=t(this);return r[i]=n,u.call(this,n)},Set.prototype.delete=function(n){var i=e(n),r=t(this);return delete r[i],h.call(this,n)},Set.prototype.forEach=function(e,n){var i=t(this);for(var r in i){var o=i[r];e.call(n||this,o,o,this)}},Map.getValueSet=function(t){var e=new Set;return t.forEach(function(t){e.add(t)}),e}}}function a(t){function e(){this.values_=[],this.keys_=[]}function n(){this.keys_=[]}e.prototype={get:function(t){return this.values_[this.keys_.indexOf(t)]},set:function(t,e){var n=this.keys_.indexOf(t);0>n&&(n=this.keys_.length),this.keys_[n]=t,this.values_[n]=e},has:function(t){return this.keys_.indexOf(t)>=0},"delete":function(t){var e=this.keys_.indexOf(t);return 0>e?!1:(this.keys_.splice(e,1),this.values_.splice(e,1),!0)},forEach:function(t,e){for(var n=0;this.keys_.length>n;n++)t.call(e||this,this.values_[n],this.keys_[n],this)},get size(){return this.keys_.length}},n.prototype={add:function(t){0>this.keys_.indexOf(t)&&this.keys_.push(t)},has:function(t){return this.keys_.indexOf(t)>=0},"delete":function(t){var e=this.keys_.indexOf(t);return 0>e?!1:(this.keys_.splice(e,1),!0)},forEach:function(t,e){for(var n=0;this.keys_.length>n;n++)t.call(e||this,this.keys_[n],this.keys_[n],this)},get size(){return this.keys_.length}},e.getValueSet=function(t){var e=new n;return e.keys_=t.values_.slice(),e},t.Map=e,t.Set=n}function s(t){return"string"!=typeof t?!1:(t=t.replace(/\s/g,""),""==t?!0:"."==t[0]?!1:N.test(t))}function c(t){return""==t.trim()?this:e(t)?(this.push(t+""),this):(t.split(/\./).filter(function(t){return t}).forEach(function(t){this.push(t)},this),void 0)}function u(t){var e,n=!0,r=!1,o=!1,a=!1,u={objectObservers:new Map,getObjectObserver:function(t){return this.objectObservers.get(t)},getOrCreateObjectObserver:function(t){var e=this.objectObservers.get(t);return e||(e=new E(this,t),this.objectObservers.set(t,e)),e},removeObjectObserver:function(t){this.objectObservers.delete(t)},addPathTracker:function(t,e){this.getOrCreateObjectObserver(t).addPathTracker(e)},removePathTracker:function(t,e){this.getObjectObserver(t).removePathTracker(e)},connect:function(){this.objectObservers.forEach(function(t){t.connect()})},disconnect:function(){this.objectObservers.forEach(function(t){t.disconnect()})},internalCallback:function(t){if(!t||!t.length)return console.error("Object.observe callback called with no records"),void 0;try{o||(this.activeObservers=new Set);for(var e,n,i=0;t.length>i;i++){var r=t[i];if(e!==r.object){if(e=r.object,n=this.getObjectObserver(e),!n){e=void 0;continue}this.activeObservers.add(n)}n.addChangeRecord(r)}if(o)return;o=!0,this.deliverSummaries(),o=!1}catch(a){console.error(a)}},dirtyCheck:function(){var t=0;do try{t++,this.activeObservers=Map.getValueSet(this.objectObservers),this.deliverSummaries()}catch(e){console.error(e)}while(a&&R>t)},deliverSummaries:function(){return e=[],this.activeObservers.forEach(function(t){t.checkPathValues()}),this.activeObservers.forEach(function(t){t.checkObjectsAndArrays()}),this.activeObservers.forEach(function(t){var n=t.produceSummary();t.reset(),n&&e.push(n)}),this.activeObservers=void 0,e.length||(e=void 0),r||!e?(a=!1,void 0):(t(e),e=void 0,a=!0,void 0)}};if(u.callback=u.internalCallback.bind(u),x){var h={};Object.observe(h,u.callback),Object.unobserve(h,u.callback)}this.observeObject=function(t){if(!i(t))throw Error("Invalid attempt to observe non-object: "+t);u.getOrCreateObjectObserver(t).observeObject()},this.unobserveObject=function(t){if(!i(t))throw Error("Invalid attempt to unobserve non-object: "+t);var e=u.getObjectObserver(t);e&&e.unobserveObject()},this.observeArray=function(t){if(!Array.isArray(t))throw Error("Invalid attempt to observe non-array: "+t);u.getOrCreateObjectObserver(t).observeArray()},this.unobserveArray=function(t){if(Array.isArray(t)){var e=u.getObjectObserver(t);e&&e.unobserveArray()}},this.observePath=function(t,e){if(!s(e))return void 0;var n=new c(e);if(!n.length)return t;if(!i(t))return void 0;var r=u.getOrCreateObjectObserver(t).observePath(n);return r.value},this.unobservePath=function(t,e){if(s(e)){var n=new c(e);if(n.length&&i(t)){var r=u.getObjectObserver(t);r&&r.unobservePath(n)}}},this.deliver=function(){if(!n)throw Error("Disconnected");x?Object.deliverChangeRecords(u.callback):u.dirtyCheck()},this.disconnect=function(){if(n&&(r=!0,this.deliver(),r=!1,u.disconnect(),n=!1,e)){var t=e;return e=void 0,t}},this.connect=function(){n||(u.connect(),n=!0)}}function h(t){var e="",n="obj",i=t.length;e+="if (obj";for(var r=0;i-1>r;r++){var o='["'+t[r]+'"]';n+=o,e+=" && "+n}return e+=") ",n+='["'+t[i-1]+'"]',e+="return "+n+"; else return undefined;",Function("obj",e)}function l(t,e){var n=""+e;return H[n]||(H[n]=h(e)),H[n](t)}function d(t,e){var n;return e.walkPropertiesFrom(t,function(t,i,r){r===e.length&&(n=i)}),n}function p(t,e,n){var r=!1;return e.walkPropertiesFrom(t,function(t,o,a){i(o)&&a==e.length-1&&(r=!0,o[t]=n)}),r}function f(t){for(var e in t)return!1;return!0}function v(t){return f(t.added)&&f(t.removed)&&f(t.changed)}function m(t,e){var n={},i={},r={};for(var o in e){var a=t[o];(void 0===a||a!==e[o])&&(o in t?a!==e[o]&&(r[o]=a):i[o]=void 0)}for(var o in t)o in e||(n[o]=t[o]);return Array.isArray(t)&&t.length!==e.length&&(r.length=t.length),{added:n,removed:i,changed:r}}function b(t,e){var n=e||(Array.isArray(t)?[]:{});for(var i in t)n[i]=t[i];return Array.isArray(t)&&(n.length=t.length),n}function g(t){this.object=t,this.changed=!1,this.diff=void 0,this.oldValues=void 0,this.reset(!0)}function y(t){this.array=t,this.changed=!1,this.splices=void 0,this.reset(!0)}function T(t,e,n,i){this.object=t,this.path=e,this.pathString=n,this.observed=e.length>1?Array(e.length-2):void 0,this.changed=!1,this.oldValue=void 0,this.internal=i,this.reset(!0)}function E(t,e){this.internal=t,this.object=e,this.objectTracker=void 0,this.arrayTracker=void 0,this.pathTrackers=void 0,this.pathTrackerMap=void 0,this.changeRecords=void 0,this.dirtyPathTrackers=void 0,this.connect()}function w(t,e,n){for(var i={},r={},o=0;e.length>o;o++){var a=e[o];Y[a.type]?(a.name in n||(n[a.name]=a.oldValue),"updated"!=a.type&&("new"!=a.type?a.name in i?(delete i[a.name],delete n[a.name]):r[a.name]=!0:a.name in r?delete r[a.name]:i[a.name]=!0)):(console.error("Unknown changeRecord type: "+a.type),console.error(a))}for(var s in i)i[s]=t[s];for(var s in r)r[s]=void 0;var c={};for(var s in n)if(!(s in i||s in r)){var u=t[s];n[s]!==u&&(c[s]=u)}return{added:i,removed:r,changed:c}}function _(t,e,n,i,r,o){for(var a=o-r+1,s=n-e+1,c=Array(a),u=0;a>u;u++)c[u]=Array(s),c[u][0]=u;for(var h=0;s>h;h++)c[0][h]=h;for(var u=1;a>u;u++)for(var h=1;s>h;h++)if(i[r+u-1]===t[e+h-1])c[u][h]=c[u-1][h-1];else{var l=c[u-1][h]+1,d=c[u][h-1]+1;c[u][h]=d>l?l:d}return c}function O(t){for(var e=t.length-1,n=t[0].length-1,i=t[e][n],r=[];e>0||n>0;)if(0!=e)if(0!=n){var o,a=t[e-1][n-1],s=t[e-1][n],c=t[e][n-1];o=c>s?a>s?s:a:a>c?c:a,o==a?(a==i?r.push(X):(r.push(q),i=a),e--,n--):o==s?(r.push(B),e--,i=s):(r.push(G),n--,i=c)}else r.push(B),e--;else r.push(G),n--;return r.reverse(),r}function k(t,e,n){for(var i=0;n>i;i++)if(t[i]!==e[i])return i;return n}function P(t,e,n){for(var i=t.length,r=e.length,o=0;n>o&&t[--i]===e[--r];)o++;return o}function M(t,e,n,i,r,o){function a(t,e,n){return{index:t,removed:e,addedCount:n}}var s=0,c=0,u=Math.min(n-e,o-r);if(0==e&&0==r&&(s=k(t,i,u)),n==t.length&&o==i.length&&(c=P(t,i,u-s)),e+=s,r+=s,n-=c,o-=c,0==n-e&&0==o-r)return[];if(e==n){for(var h=a(e,[],0);o>r;)h.removed.push(i[r++]);return[h]}if(r==o)return[a(e,[],n-e)];for(var l=O(_(t,e,n,i,r,o)),h=void 0,d=[],p=e,f=r,v=0;l.length>v;v++)switch(l[v]){case X:h&&(d.push(h),h=void 0),p++,f++;break;case q:h||(h=a(p,[],0)),h.addedCount++,p++,h.removed.push(i[f]),f++;break;case G:h||(h=a(p,[],0)),h.addedCount++,p++;break;case B:h||(h=a(p,[],0)),h.removed.push(i[f]),f++}return h&&d.push(h),d}function C(t,e,i){function r(e,i){Object.keys(e).forEach(function(e){var r=n(e);if(!(A(r)||0>r||r>=a)){var c=i[r];t.length>r?s[r]=c:o.removed[r-t.length]=i[r]}})}var o,a="length"in i?n(i.length):t.length;t.length>a?o={index:a,removed:[],addedCount:t.length-a}:a>t.length&&(o={index:t.length,removed:Array(a-t.length),addedCount:0});var s=[];r(e.added,i),r(e.removed,i),r(e.changed,i);var c,u=[];for(var h in s){if(h=n(h),c){if(c.index+c.removed.length==h){c.removed.push(s[h]);continue}c.addedCount=Math.min(t.length,c.index+c.removed.length)-c.index,u.push(c),c=void 0}c={index:h,removed:[s[h]]}}return c?(c.addedCount=Math.min(t.length,c.index+c.removed.length)-c.index,o?c.index+c.removed.length==o.index?(c.addedCount=c.addedCount+o.addedCount,c.removed=c.removed.concat(o.removed),u.push(c)):(u.push(c),u.push(o)):u.push(c)):o&&u.push(o),u}function S(t,e,n){var i=[];return C(t,e,n).forEach(function(e){i=i.concat(M(t,e.index,e.index+e.addedCount,e.removed,0,e.removed.length))}),i}function j(){function t(t){var n=e.get(t.object);n&&(n.object&&(t.added||t.removed||t.changed)&&n.object.forEach(function(e){try{e(t.added,t.removed,t.changed,t.getOldValue,t.object)}catch(n){console.log("Exception thrown during callback: "+n),u._errorThrownDuringCallback=!0}}),n.array&&t.splices&&n.array.forEach(function(e){try{e(t.splices,t.object)}catch(n){console.log("Exception thrown during callback: "+n),u._errorThrownDuringCallback=!0}}),n.path&&t.pathChanged&&Object.keys(n.path).forEach(function(e){t.pathChanged.hasOwnProperty(e)&&n.path[e].forEach(function(n){try{n(t.pathChanged[e],t.getOldValue(e),t.object,e)}catch(i){console.log("Exception thrown during callback: "+i),u._errorThrownDuringCallback=!0}})}))}var e="function"==typeof WeakMap?new WeakMap:new Map,n=new u(function(e){e.forEach(t)});this.observeObject=function(t,i){var r=e.get(t);r||(r={},e.set(t,r)),r.object||(r.object=new Set,n.observeObject(t)),r.object.add(i)},this.unobserveObject=function(t,i){var r=e.get(t);r&&r.object&&(r.object.delete(i),r.object.size||(n.unobserveObject(t),r.object=void 0),r.object||r.array||r.path||e.delete(t))},this.observeArray=function(t,i){if(!Array.isArray(t))throw Error("Invalid attempt to observe non-array: "+arr);var r=e.get(t);r||(r={},e.set(t,r)),r.array||(r.array=new Set,n.observeArray(t)),r.array.add(i)},this.unobserveArray=function(t,i){if(Array.isArray(t)){var r=e.get(t);r&&r.array&&(r.array.delete(i),r.array.size||(n.unobserveArray(t),r.array=void 0),r.object||r.array||r.path||e.delete(t))}},this.observePath=function(t,r,o){if(!s(r))return void 0;if(""==r.trim())return t;if(!i(t))return void 0;var a=e.get(t);a||(a={},e.set(t,a)),a.path||(a.path={});var c,h=a.path[r];return h?c=u.getValueAtPath(t,r):(h=new Set,a.path[r]=h,c=n.observePath(t,r)),h.add(o),c},this.unobservePath=function(t,r,o){if(s(r)&&i(t)){var a=e.get(t);if(a&&a.path){var c=a.path[r];c&&(c.delete(o),c.size||(n.unobservePath(t,r),delete a.path[r]),Object.keys(a.path).length||(a.path=void 0),a.object||a.array||a.path||e.delete(t))}}},this.deliver=n.deliver.bind(n)}var x="function"==typeof Object.observe,I=t.Number.isNaN||function A(e){return"number"==typeof e&&t.isNaN(e)},L="__proto__"in{}?function(t){return t}:function(t){var e=t.__proto__;if(!e)return t;var n=Object.create(e);return Object.getOwnPropertyNames(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}),n};"function"==typeof Map&&"function"==typeof Set&&"function"==typeof WeakMap?o():a(t);var D="[$a-z0-9_]+[$a-z0-9_\\d]*",N=RegExp("^(?:#?"+D+")?"+"(?:"+"(?:\\."+D+")"+")*"+"$","i");c.prototype=L({__proto__:[],toString:function(){return this.join(".")},walkPropertiesFrom:function(t,e,n){for(var i,r=0;this.length+1>r;r++)i=this[r],e.call(n,i,t,r),t=r==this.length||null===t||void 0===t?void 0:t[i]}});var R=1e3,H={};u.getValueAtPath=function(t,e){if(!s(e))return void 0;var n=new c(e);if(!n.length)return t;if(i(t))return U?l(t,n):d(t,n)},u.setValueAtPath=function(t,e,n){if(s(e)){var r=new c(e);r.length&&i(t)&&p(t,r,n)}},u.applySplices=function(t,e,n){n.forEach(function(n){for(var i=[n.index,n.removed.length],r=n.index;n.index+n.addedCount>r;)i.push(e[r]),r++;Array.prototype.splice.apply(t,i)})},g.prototype={check:function(t){var e,n;if(x){if(!t)return!1;n={},e=w(this.object,t,n)}else n=this.oldObject,e=m(this.object,this.oldObject);return v(e)?!1:(this.diff=e,this.oldValues=n,this.changed=!0,!0)},summarize:function(t,e){t.added=this.changed?this.diff.added:{},t.removed=this.changed?this.diff.removed:{},t.changed=this.changed?this.diff.changed:{},b(this.oldValues,e)},reset:function(t){x||!t&&!this.diff||(this.oldObject=b(this.object)),this.changed=!1,this.diff=void 0,this.oldValues=void 0}},y.prototype={check:function(t){var e;if(x){if(!t)return!1;var n={},i=w(this.array,t,n);e=S(this.array,i,n)}else e=M(this.array,0,this.array.length,this.oldArray,0,this.oldArray.length);return e.length?(this.splices=e,this.changed=!0,!0):!1},summarize:function(t){t.splices=this.splices?this.splices:[]},reset:function(t){x||!t&&!this.splices||(this.oldArray=this.array.slice()),this.changed=!1,this.splices=void 0}};var U=!1;try{var F=Function("","return true;");U=F()}catch(z){}var V;V=x?function(t){var e;return this.path.walkPropertiesFrom(this.object,function(t,n,r){if(r===this.path.length)return e=n,void 0;if(0!==r){var o=this.observed[r-1];if(n!==o){if(void 0!==o){this.observed[r-1]=o=void 0;for(var a=!1,s=0;this.observed.length>s;s++)if(this.observed[s]===o){a=!0;break}a||this.internal.removePathTracker(o,this)}i(n)&&(this.observed[r-1]=o=n,this.internal.addPathTracker(o,this))}}},this),this.valueMaybeChanged(e,t)}:U?function(t){return this.checkFunc||(this.checkFunc=h(this.path)),this.valueMaybeChanged(this.checkFunc(this.object),t)}:function(t){var e=d(this.object,this.path);return this.valueMaybeChanged(e,t)},T.prototype={check:V,valueMaybeChanged:function(t,e){return e?this.value=t:this.changed?(this.value=t,r(this.value,this.oldValue)&&(this.changed=!1,this.oldValue=void 0)):r(this.value,t)||(this.oldValue=this.value,this.value=t,this.changed=!0),this.changed},summarize:function(t,e){t.pathChanged[this.pathString]=this.value,e[this.pathString]=this.oldValue},reset:function(t){t&&this.check(!0),this.oldValue=void 0,this.changed=!1},destroy:function(){this.object=void 0,this.reset(!0)}},E.prototype={observeObject:function(){this.objectTracker=this.objectTracker||new g(this.object)},unobserveObject:function(){this.objectTracker=void 0,this.destroyIfEmpty()},observeArray:function(){this.arrayTracker=this.arrayTracker||new y(this.object)},unobserveArray:function(){this.arrayTracker=void 0,this.destroyIfEmpty()},addPathTracker:function(t,e){this.pathTrackers||(this.pathTrackers=[],this.pathTrackerMap={}),e&&(this.pathTrackerMap[e]=t),this.pathTrackers.push(t)},removePathTracker:function(t){this.pathTrackers&&(this.pathTrackers.splice(this.pathTrackers.indexOf(t),1),this.pathTrackers.length||(this.pathTrackers=void 0),this.destroyIfEmpty())},observePath:function(t){var e,n=""+t;return this.pathTrackers&&this.pathTrackerMap&&(e=this.pathTrackerMap[n]),e?e.check():(e=new T(this.object,t,n,this.internal),this.addPathTracker(e,n)),e},unobservePath:function(t){if(this.pathTrackerMap){var e=""+t,n=this.pathTrackerMap[e];n&&(n.destroy(),delete this.pathTrackerMap[e],Object.keys(this.pathTrackerMap).length||(this.pathTrackerMap=void 0),this.pathTrackers.splice(this.pathTrackers.indexOf(n),1),this.pathTrackers.length||(this.pathTrackers=void 0),this.destroyIfEmpty())}},connect:function(){x&&Object.observe(this.object,this.internal.callback),this.reset(!0)},disconnect:function(){x&&Object.unobserve(this.object,this.internal.callback)},destroyIfEmpty:function(){this.objectTracker||this.arrayTracker||this.pathTrackers||(this.internal.removeObjectObserver(this.object),this.destroy())},destroy:function(){this.disconnect(),this.internal=void 0},addChangeRecord:function(t){this.changeRecords||(this.changeRecords=[]),this.changeRecords.push(t)},checkPathValues:function(){if(this.internal&&this.pathTrackers)for(var t=0;this.pathTrackers.length>t;t++){var e=this.pathTrackers[t];if(e.check()){var n=this.object===e.object,i=n?this:this.internal.getOrCreateObjectObserver(e.object);i.addDirtyPath(e),n||this.internal.activeObservers.add(i)}}},checkObjectsAndArrays:function(){this.internal&&(this.objectTracker&&this.objectTracker.check(this.changeRecords),this.arrayTracker&&this.arrayTracker.check(this.changeRecords))},addDirtyPath:function(t){this.dirtyPathTrackers||(this.dirtyPathTrackers=new Set),this.dirtyPathTrackers.add(t)},produceSummary:function(){if(this.objectTracker&&this.objectTracker.changed||this.arrayTracker&&this.arrayTracker.changed||this.dirtyPathTrackers){var t,e={object:this.object};(this.objectTracker||this.pathTrackerMap)&&(t={},e.getOldValue=function(e){return t[e]}),this.pathTrackerMap&&(e.pathChanged={});var n=!1;return this.objectTracker&&(this.objectTracker.summarize(e,t),n=n||this.objectTracker.changed),this.arrayTracker&&(this.arrayTracker.summarize(e),n=n||this.arrayTracker.changed),this.dirtyPathTrackers&&this.dirtyPathTrackers.forEach(function(i){i.changed&&(i.summarize(e,t),n=!0)}),n?e:void 0}},reset:function(t){this.objectTracker&&this.objectTracker.reset(t),this.arrayTracker&&this.arrayTracker.reset(t);var e=t?this.pathTrackers:this.dirtyPathTrackers;e&&e.forEach(function(e){e.reset(t)}),this.changeRecords=void 0,this.dirtyPathTrackers=void 0}};var Y={"new":!0,updated:!0,deleted:!0},X=0,q=1,G=2,B=3;t.ChangeSummary=u,t.ChangeSummary.CallbackRouter=j}(this);var createObject="__proto__"in{}?function(t){return t}:function(t){var e=t.__proto__;if(!e)return t;var n=Object.create(e);return Object.getOwnPropertyNames(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}),n};if("boolean"!=typeof document.createElement("div").hidden){Object.defineProperty(HTMLElement.prototype,"hidden",{get:function(){return this.hasAttribute("hidden")},set:function(t){t?this.setAttribute("hidden",""):this.removeAttribute("hidden")},enumerable:!0,configurable:!0});var styleElement=document.createElement("style");styleElement.textContent="[hidden] { display: none }",document.head.appendChild(styleElement)}var SideTable;"undefined"!=typeof WeakMap?SideTable=WeakMap:(SideTable=function(t){this.name="__$"+t+"$__"},SideTable.prototype={set:function(t,e){Object.defineProperty(t,this.name,{value:e,writable:!0})},get:function(t){return t[this.name]},"delete":function(t){this.set(t,void 0)}}),SideTableInherit.prototype={set:function(t,e){this.map.set(t,e)},get:function(t){if(null===t)return void 0;var e=this.map.get(t);return void 0!==e?e:this.get(Object.getPrototypeOf(t))},"delete":function(t){this.map.delete(t)}},this.Model=function(){var t=new ChangeSummary.CallbackRouter;return{notifyChanges:function(){t.deliver()},getValueAtPath:ChangeSummary.getValueAtPath,setValueAtPath:ChangeSummary.setValueAtPath,observeObject:t.observeObject.bind(t),unobserveObject:t.unobserveObject.bind(t),observeArray:t.observeArray.bind(t),unobserveArray:t.unobserveArray.bind(t),observePath:t.observePath.bind(t),unobservePath:t.unobservePath.bind(t)}}(),function(){"use strict";function t(t,e,n){console.error("Unhandled binding to Node: ",this,t,e,n)}function e(){}function n(){}function i(t,e,n){this.model=t,this.path=e,this.changed=n;var i=Model.observePath(this.model,this.path,this.changed);this.changed(i)}function r(t){return function(e){t.data=e}}function o(t,e,n){if("textContent"!==t)return Node.prototype.bind.call(this,t,e,n);this.unbind("textContent");var o=new i(e,n,r(this));w.set(this,o)}function a(t){if("textContent"!=t)return Node.prototype.unbind.call(this,t);var e=w.get(this);e&&(e.unbind(),w.delete(this))}function s(){this.unbind("textContent"),Node.prototype.unbindAll.call(this)}function c(t,e,n){return n?function(n){n?t.setAttribute(e,""):t.removeAttribute(e)}:function(n){t.setAttribute(e,(void 0===n?"":n)+"")}}function u(){this.bindingMap=Object.create(null)}function h(t,e,n){var i=_.get(this);i||(i=new u,_.set(this,i)),i.add(this,t,e,n)}function l(t){var e=_.get(this);e&&e.remove(t)}function d(){var t=_.get(this);t&&(_.delete(this),t.removeAll(),Node.prototype.unbindAll.call(this))}function p(t){switch(t.type){case"checkbox":return"click";case"radio":case"select-multiple":case"select-one":return"change";default:return"input"}}function f(t,e,n){this.element=t,this.boundValueChanged=this.valueChanged.bind(this),this.boundUpdateBinding=this.updateBinding.bind(this),this.binding=new i(e,n,this.boundValueChanged),this.element.addEventListener(p(this.element),this.boundUpdateBinding,!0)}function v(t,e,n){f.call(this,t,e,n)}function m(t){return t.ownerDocument.contains(t)}function b(t){if(!m(t))return[];if(t.form)return P(t.form.elements,function(e){return e!=t&&"INPUT"==e.tagName&&"radio"==e.type&&e.name==t.name});var e=t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]');return P(e,function(e){return e!=t&&!e.form})}function g(t,e,n){f.call(this,t,e,n)}function y(t,e,n){switch(t){case"value":this.unbind("value"),this.removeAttribute("value"),O.set(this,new v(this,e,n));break;case"checked":this.unbind("checked"),this.removeAttribute("checked"),k.set(this,new g(this,e,n));break;default:return Element.prototype.bind.call(this,t,e,n)}}function T(t){switch(t){case"value":var e=O.get(this);e&&(e.unbind(),O.delete(this));break;case"checked":var n=k.get(this);n&&(n.unbind(),k.delete(this));break;default:return Element.prototype.unbind.call(this,t)}}function E(){this.unbind("value"),this.unbind("checked"),Element.prototype.unbindAll.call(this)}Node.prototype.bind=t,Node.prototype.unbind=e,Node.prototype.unbindAll=n;var w=new SideTable("textContentBinding");i.prototype={unbind:function(){Model.unobservePath(this.model,this.path,this.changed)},set value(t){Model.setValueAtPath(this.model,this.path,t)}},Text.prototype.bind=o,Text.prototype.unbind=a,Text.prototype.unbindAll=s;var _=new SideTable("attributeBindings");u.prototype={add:function(t,e,n,r){t.removeAttribute(e);var o="?"==e[e.length-1];o&&(e=e.slice(0,-1)),this.remove(e);var a=new i(n,r,c(t,e,o));this.bindingMap[e]=a},remove:function(t){var e=this.bindingMap[t];e&&(e.unbind(),delete this.bindingMap[t])},removeAll:function(){Object.keys(this.bindingMap).forEach(function(t){this.remove(t)},this)}},Element.prototype.bind=h,Element.prototype.unbind=l,Element.prototype.unbindAll=d;
var O=new SideTable("valueBinding"),k=new SideTable("checkedBinding");f.prototype={unbind:function(){this.binding.unbind(),this.element.removeEventListener(p(this.element),this.boundUpdateBinding,!0)}},v.prototype=createObject({__proto__:f.prototype,valueChanged:function(t){this.element.value=(null==t?"":t)+""},updateBinding:function(){this.binding.value=this.element.value,Model.notifyChanges()}});var P=Array.prototype.filter.call.bind(Array.prototype.filter);g.prototype=createObject({__proto__:f.prototype,valueChanged:function(t){this.element.checked=Boolean(t)},updateBinding:function(){var t=this.element.checked;this.binding.value=t,"INPUT"===this.element.tagName&&"radio"===this.element.type&&b(this.element).forEach(function(t){var e=k.get(t);e&&(e.binding.value=!1)}),Model.notifyChanges()}}),HTMLInputElement.prototype.bind=y,HTMLInputElement.prototype.unbind=T,HTMLInputElement.prototype.unbindAll=E}(),function(t){"use strict";function e(t){if(!t)throw Error("Assertion failed")}function n(t){return t.querySelectorAll(Y)}function i(t){return z[t.tagName]&&t.hasAttribute("template")}function r(t){return"TEMPLATE"==t.tagName||i(t)}function o(t){return V&&"TEMPLATE"==t.tagName}function a(t){function e(t){HTMLTemplateElement.decorate(t)||a(t.content)}var i=n(t);r(t)&&e(t),D(i,e)}function s(t,e){Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}function c(t){if(!t.defaultView)return t;var e=B.get(t);if(!e){for(e=t.implementation.createHTMLDocument("");e.lastChild;)e.removeChild(e.lastChild);B.set(t,e)}return e}function u(t){for(var e=t.cloneNode(!1),n=t.attributes,i=n.length;i-->0;){var r=n[i];F[r.name]?e.removeAttribute(r.name):t.removeAttribute(r.name)}return e}function h(t){var e=t.content;if(i(t)){for(var n,r=u(t);n=t.firstChild;)r.appendChild(n);e.appendChild(r)}else for(var n;n=t.firstChild;)e.appendChild(n)}function l(t){"TEMPLATE"===t.tagName?V||(q?t.__proto__=HTMLTemplateElement.prototype:s(t,HTMLTemplateElement.prototype)):(s(t,HTMLTemplateElement.prototype),Object.defineProperty(t,"content",Q))}function d(t){var e=t.ref?t.ref.content:t.content,n=T(e);return"function"==typeof HTMLTemplateElement.__instanceCreated&&HTMLTemplateElement.__instanceCreated(n),n}function p(t,e){this.type=t,this.value=e}function f(t){for(var e=[],n=t.length,i=0,r=0;n>r;){if(i=t.indexOf("{{",r),0>i){e.push(new p(K,t.slice(r)));break}if(i>0&&i>r&&e.push(new p(K,t.slice(r,i))),r=i+2,i=t.indexOf("}}",r),0>i){var o=t.slice(r-2),a=e[e.length-1];a&&a.type==K?a.value+=o:e.push(new p(K,o));break}var s=t.slice(r,i).trim();e.push(new p(J,s)),r=i+2}return e}function v(t,e,n,i,r){var o;r&&"function"==typeof r&&(o=r(i,n),o&&(n=o,i="value")),t.bind(e,n,i)}function m(t,e,n,i,r){var o=f(e);if(o.length&&(1!=o.length||o[0].type!=K)){if(1==o.length&&o[0].type==J)return v(t,n,i,o[0].value,r),void 0;for(var a=new M,s=0;o.length>s;s++){var c=o[s];c.type==J&&v(a,s,i,c.value,r)}a.combinator=function(t){for(var e="",n=0;o.length>n;n++){var i=o[n];if(i.type===K)e+=i.value;else{var r=t[n];void 0!==r&&(e+=r)}}return e},t.bind(n,a,"value")}}function b(t,n,i){if(e(t),t.attributes&&t.attributes.length){for(var r=[],o=0;t.attributes.length>o;o++)r.push(t.attributes[o]);for(var o=0;r.length>o;o++)m(t,r[o].value,r[o].name,n,i)}}function g(t,n,i){e(t),t.nodeType===Node.ELEMENT_NODE?(i&&r(t)&&t.bind(H,i),b(t,n,i)):t.nodeType===Node.TEXT_NODE&&m(t,t.data,"textContent",n,i);for(var o=t.firstChild;o;o=o.nextSibling)g(o,n,i)}function y(t){t.unbindAll();for(var e=t.firstChild;e;e=e.nextSibling)y(e)}function T(t){var e=t.cloneNode(!1);r(e)&&HTMLTemplateElement.decorate(e,t);for(var n=t.firstChild;n;n=n.nextSibling)e.appendChild(T(n));return e}function E(t,e){if(k(e),r(e)){var n=te.get(e);n&&(n.abandon(),te.delete(e))}t.removeChild(e),y(e),e.model=e.delegate=void 0}function w(t,e){if(this.template_=t,this.previousTerminator_=null,this.previousIndex_=-1,this.terminator_=t,this.index_=0,e)for(;e-->0;)this.next()}function _(t,e,n){this.firstNode=t,this.lastNode=e,this.model=n}function O(t,e){if(t.firstChild)for(var n=new _(t.firstChild,t.lastChild,e),i=n.firstNode;i;)Z.set(i,n),i=i.nextSibling}function k(t){Z.delete(t)}function P(t,e,n){this.model=t,this.path=e,this.changed=n,this.changed(Model.observePath(this.model,this.path,this.changed))}function M(t){this.bindings={},this.values={},this.value=void 0,this.size=0,this.combinator_=t,this.boundResolve=this.resolve.bind(this),this.diposed=!1}function C(t){this.templateElement_=t,this.instanceCount=0,this.iteratedValue=void 0,this.observing=!1,this.boundHandleSplices=this.handleSplices.bind(this),this.inputs=new M(this.resolveInputs.bind(this)),this.valueBinding=new P(this.inputs,"value",this.valueChanged.bind(this))}function S(t){var e=te.get(t);return e?e.instanceCount:0}function j(){this.instanceTerminatorCount_=0}function x(t){var e=ee.get(t);return e||(e=new j,ee.set(t,e)),e}function I(t){x(t).incrementInstanceTerminatorCount()}function A(t){x(t).decrementInstanceTerminatorCount()}function L(t){var e=ee.get(t);return e?e.instanceTerminatorCount():0}var D=Array.prototype.forEach.call.bind(Array.prototype.forEach),N="bind",R="repeat",H="delegate",U="if",F={template:!0,repeat:!0,bind:!0,ref:!0},z={THEAD:!0,TBODY:!0,TFOOT:!0,TH:!0,TR:!0,TD:!0,COLGROUP:!0,COL:!0,OPTION:!0},V="undefined"!=typeof HTMLTemplateElement,Y="template, "+Object.keys(z).map(function(t){return t.toLowerCase()+"[template]"}).join(", "),X=function(){function t(t){i.indexOf(t)>=0||n.indexOf(t)>=0||(n.push(t),o==r.value&&(r.value=!r.value))}function e(){for(o=r.value,i=n,n=[];i.length;){var t=i.shift();t()}}var n=[],i=[],r={value:0},o=r.value;return Model.observePath(r,"value",e),t}();document.addEventListener("DOMContentLoaded",function(){a(document),Model.notifyChanges()},!1),V||(t.HTMLTemplateElement=function(){throw TypeError("Illegal constructor")});var q="__proto__"in{},G=new SideTable("templateContents"),B=new SideTable("templateContentsOwner"),W=new SideTable("templateInstanceRef");HTMLTemplateElement.decorate=function(t,e){if(t.templateIsDecorated_)return!1;if(t.templateIsDecorated_=!0,l(t),!o(t)){var n=c(t.ownerDocument);G.set(t,n.createDocumentFragment())}return e?(W.set(t,e),!0):(o(t)?a(t.content):h(t),!0)},HTMLTemplateElement.bootstrap=a,HTMLTemplateElement.bindTree=g;var $=t.HTMLUnknownElement||HTMLElement,Q={get:function(){return G.get(this)},enumerable:!0,configurable:!0};V||(HTMLTemplateElement.prototype=Object.create($.prototype),Object.defineProperty(HTMLTemplateElement.prototype,"content",Q)),s(HTMLTemplateElement.prototype,{bind:function(t,e,n){switch(t){case H:case N:case R:case U:var i=te.get(this);i||(i=new C(this),te.set(this,i)),t===H?i.delegate=e:i.inputs.bind(t,e,n||"");break;default:return Element.prototype.bind.call(this,t,e,n)}},unbind:function(t,e,n){switch(t){case H:break;case N:case R:case U:var i=te.get(this);if(!i)break;i.inputs.unbind(t);break;default:return Element.prototype.unbind.call(this,t,e,n)}},unbindAll:function(){this.unbind(N),this.unbind(R),this.unbind(U),Element.prototype.unbindAll.call(this)},createInstance:function(t,e){return d(this,t,e)},get ref(){var t,e=this.getAttribute("ref");return e&&(t=this.ownerDocument.getElementById(e)),t||(t=W.get(this)),t||null}});var K=0,J=1,Z=new SideTable("templateInstance");Object.defineProperty(Node.prototype,"templateInstance",{get:function(){var t=Z.get(this);return t?t:this.parentNode?this.parentNode.templateInstance:void 0}}),w.prototype={next:function(){for(this.previousTerminator_=this.terminator_,this.previousIndex_=this.index_,this.index_++;this.index_>L(this.terminator_);)this.index_-=L(this.terminator_),this.terminator_=this.terminator_.nextSibling,"TEMPLATE"===this.terminator_.tagName&&(this.index_+=S(this.terminator_))},abandon:function(){e(S(this.template_)),e(L(this.terminator_)),e(this.index_),A(this.terminator_),this.index_--},insert:function(t,n){e(this.template_.parentNode),this.previousTerminator_=this.terminator_,this.previousIndex_=this.index_,this.index_++;var i=d(this.template_);if(g(i,t,n),O(i,t),this.terminator_=i.lastChild||this.previousTerminator_,this.template_.parentNode.insertBefore(i,this.previousTerminator_.nextSibling),I(this.terminator_),this.terminator_!==this.previousTerminator_)for(;L(this.previousTerminator_)>this.previousIndex_;)A(this.previousTerminator_),I(this.terminator_)},remove:function(){if(e(-1!==this.previousIndex_),e(this.previousTerminator_&&(this.previousIndex_>0||this.previousTerminator_===this.template_)),e(this.terminator_&&this.index_>0),e(this.template_.parentNode),e(S(this.template_)),this.previousTerminator_===this.terminator_)return e(this.index_==this.previousIndex_+1),A(this.terminator_),this.terminator_=this.template_,this.previousTerminator_=null,this.previousIndex_=-1,void 0;A(this.terminator_);for(var t=this.template_.parentNode;this.previousTerminator_.nextSibling!==this.terminator_;)E(t,this.previousTerminator_.nextSibling);E(t,this.terminator_),this.terminator_=this.previousTerminator_,this.index_=this.previousIndex_,this.previousTerminator_=null,this.previousIndex_=-1}},P.prototype={dispose:function(){Model.unobservePath(this.model,this.path,this.changed)},set value(t){Model.setValueAtPath(this.model,this.path,t)}},M.prototype={set combinator(t){this.combinator_=t,this.scheduleResolve()},bind:function(t,e,n){this.unbind(t),this.size++,this.bindings[t]=new P(e,n,function(e){this.values[t]=e,this.scheduleResolve()}.bind(this))},unbind:function(t,e){this.bindings[t]&&(this.size--,this.bindings[t].dispose(),delete this.bindings[t],delete this.values[t],e||this.scheduleResolve())},scheduleResolve:function(){X(this.boundResolve)},resolve:function(){if(!this.disposed){if(!this.combinator_)throw Error("CompoundBinding attempted to resolve without a combinator");this.value=this.combinator_(this.values)}},dispose:function(){Object.keys(this.bindings).forEach(function(t){this.unbind(t,!0)},this),this.disposed=!0,this.value=void 0}},C.prototype={resolveInputs:function(t){return U in t&&!t[U]?void 0:R in t?t[R]:N in t?[t[N]]:void 0},valueChanged:function(t){this.clear(),Array.isArray(t)&&(this.iteratedValue=t,Model.observeArray(this.iteratedValue,this.boundHandleSplices),this.observing=!0,this.handleSplices([{index:0,addedCount:this.iteratedValue.length,removed:[]}]))},handleSplices:function(t){t.forEach(function(t){t.removed.forEach(function(){var e=new w(this.templateElement_,t.index+1);e.remove(),this.instanceCount--},this);for(var e=t.index;t.index+t.addedCount>e;e++){var n=new w(this.templateElement_,e);n.insert(this.iteratedValue[e],this.delegate),this.instanceCount++}},this)},unobserve:function(){this.observing&&(Model.unobserveArray(this.iteratedValue,this.boundHandleSplices),this.observing=!1)},clear:function(){if(this.unobserve(),this.iteratedValue=void 0,this.instanceCount){for(var t=0;this.instanceCount>t;t++){var e=new w(this.templateElement_,1);e.remove()}this.instanceCount=0}},abandon:function(){this.unobserve(),this.valueBinding.dispose(),this.inputs.dispose()}};var te=new SideTable("templateIterator");j.prototype={instanceTerminatorCount:function(){return this.instanceTerminatorCount_},incrementInstanceTerminatorCount:function(){this.instanceTerminatorCount_++},decrementInstanceTerminatorCount:function(){this.instanceTerminatorCount_--}};var ee=new SideTable("instanceTerminatorCount");t.CompoundBinding=M,HTMLTemplateElement.allTemplatesSelectors=Y}(this),function(){HTMLTemplateElement.__instanceCreated=function(t){document.adoptNode(t),document.upgradeElements(t)},window.dirtyCheck=function(){logFlags.data&&console.group("Model.dirtyCheck()"),t(),logFlags.data&&console.groupEnd()};var t=function(){Model.notifyChanges()},e=125;window.addEventListener("WebComponentsReady",function(){dirtyCheck(),setInterval(t,e)})}(),function(){function t(t){return n(t,o)}function e(t){return n(t,"stylesheet")}function n(t,e){return"link"===t.localName&&t.getAttribute("rel")===e}function i(t,e){var n=document.implementation.createHTMLDocument(o);n._URL=e;var i=n.createElement("base");return i.setAttribute("href",document.baseURI),n.head.appendChild(i),n.body.innerHTML=t,n}var r,o="import",a={documents:{},preloadSelectors:["link[rel="+o+"]","script[src]","link[rel=stylesheet]"].join(","),load:function(t,e){r=new s(a.loaded,e),a.cache=r.cache,a.preload(t)},preload:function(e){var n=e.querySelectorAll(a.preloadSelectors);e===document&&(n=Array.prototype.filter.call(n,function(e){return t(e)})),r.addNodes(n)},loaded:function(n,r,o){if(t(r)){var s=a.documents[n];s||(s=i(o,n),c.resolvePathsInHTML(s),a.documents[n]=s,a.preload(s)),r.content=r.__resource=s}else r.__resource=o,e(r)&&c.resolvePathsInStylesheet(r)}},s=function(t,e){this.onload=t,this.oncomplete=e,this.inflight=0,this.pending={},this.cache={}};s.prototype={addNodes:function(t){this.inflight+=t.length,p(t,this.require,this),this.checkDone()},require:function(t){var e=c.nodeUrl(t);t.__nodeUrl=e,this.dedupe(e,t)||this.fetch(e,t)},dedupe:function(t,e){return this.pending[t]?(this.pending[t].push(e),!0):this.cache[t]?(this.onload(e,t,r.cache[t]),this.tail(),!0):(this.pending[t]=[e],!1)},fetch:function(t,e){d.load(t,function(n,i){this.receive(t,e,n,i)}.bind(this))},receive:function(t,e,n,i){n||(r.cache[t]=i),r.pending[t].forEach(function(){n||this.onload(t,e,i),this.tail()},this),r.pending[t]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}};var c={nodeUrl:function(t){return c.resolveUrl(document.URL,c.hrefOrSrc(t))},hrefOrSrc:function(t){return t.getAttribute("href")||t.getAttribute("src")},documentUrlFromNode:function(t){var e=c.getDocumentUrl(t.ownerDocument);return e=e.split("#")[0]},getDocumentUrl:function(t){return t&&(t._URL||t.impl&&t.impl._URL||t.URL)||""},resolveUrl:function(t,e,n){if(this.isAbsUrl(e))return e;var i=this.compressUrl(this.urlToPath(t)+e);return n&&(i=c.makeRelPath(document.URL,i)),i},isAbsUrl:function(t){return/(^data:)|(^http[s]?:)|(^\/)/.test(t)},urlToPath:function(t){var e=t.split("/");return e.pop(),e.push(""),e.join("/")},compressUrl:function(t){for(var e,n=t.split("/"),i=0;n.length>i;i++)e=n[i],".."===e&&(n.splice(i-1,2),i-=2);return n.join("/")},makeRelPath:function(t,e){var n,i;for(n=this.compressUrl(t).split("/"),i=this.compressUrl(e).split("/");n.length&&n[0]===i[0];)n.shift(),i.shift();for(var r=0,o=n.length-1;o>r;r++)i.unshift("..");var a=i.join("/");return a},resolvePathsInHTML:function(t){var e=c.documentUrlFromNode(t.body);c._resolvePathsInHTML(t.body,e)},_resolvePathsInHTML:function(t,e){if(c.resolveAttributes(t,e),c.resolveStyleElts(t,e),window.templateContent){var n=t.querySelectorAll("template");n&&p(n,function(t){window.ShadowDOMPolyfill&&!t.impl&&(t=ShadowDOMPolyfill.wrap(t)),c._resolvePathsInHTML(templateContent(t),e)})}},resolvePathsInStylesheet:function(t){var e=c.nodeUrl(t);t.__resource=c.resolveCssText(t.__resource,e)},resolveStyleElts:function(t,e){var n=t.querySelectorAll("style");n&&p(n,function(t){t.textContent=c.resolveCssText(t.textContent,e)})},resolveCssText:function(t,e){return t.replace(/url\([^)]*\)/g,function(t){var n=t.replace(/["']/g,"").slice(4,-1);return n=c.resolveUrl(e,n,!0),"url("+n+")"})},resolveAttributes:function(t,e){var n=t&&t.querySelectorAll(h);n&&p(n,function(t){this.resolveNodeAttributes(t,e)},this)},resolveNodeAttributes:function(t,e){u.forEach(function(n){var i=t.attributes[n];if(i&&i.value&&0>i.value.search(l)){var r=c.resolveUrl(e,i.value,!0);i.value=r}})}},u=["href","src","action"],h="["+u.join("],[")+"]",l="{{.*}}",d={async:!0,ok:function(t){return t.status>=200&&300>t.status||304===t.status},load:function(t,e,n){var i=new XMLHttpRequest;i.open("GET",t+"?"+Math.random(),d.async),i.addEventListener("readystatechange",function(){4===i.readyState&&e.call(n,!d.ok(i)&&i,i.response,t)}),i.send()}},p=Array.prototype.forEach.call.bind(Array.prototype.forEach);window.HTMLImports=a,"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t){var e=document.createEvent("HTMLEvents");return e.initEvent(t,!0,!0),e}),window.addEventListener("load",function(){a.load(document,function(){var t=window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrap(document):document;t.body.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))})})}(),function(){function t(t,r){var o=r||{};if(!t)throw Error("Name argument must not be empty");if(o.name=t,!o.prototype)throw Error("Options missing required prototype property");return o.lifecycle=o.lifecycle||{},o.ancestry=e(o.extends),n(o),i(o),d(t,o),o.ctor=p(o),o.ctor.prototype=o.prototype,document.upgradeElements(),o.ctor}function e(t){var n=T[t];return n?e(n.extends).concat([n]):[]}function n(t){for(var e,n=t.extends,i=0;e=t.ancestry[i];i++)n=e.is&&e.tag;t.tag=n||t.name,n&&(t.is=t.name)}function i(t){if(!Object.__proto__)if(t.is)var e=document.createElement(t.tag),n=Object.getPrototypeOf(e);else n=HTMLElement.prototype;t.native=n}function r(t){return o(_(t.tag),t)}function o(t,e){return a(t,e),e.is&&t.setAttribute("is",e.is),t.__upgraded__=!0,m(t),c(t,e),t}function a(t,e){Object.__proto__?t.__proto__=e.prototype:(s(t,e.prototype,e.native),t.__proto__=e.prototype)}function s(t,e,n){for(var i={},r=e;r!==n&&r!==HTMLUnknownElement.prototype;){for(var o,a=Object.getOwnPropertyNames(r),s=0;o=a[s];s++)i[o]||(Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o)),i[o]=1);r=Object.getPrototypeOf(r)}}function c(t,e){h(t,e),u(t,e),l("readyCallback",e,t)}function u(t,e){if(g){var n=new g(function(n){n.forEach(function(n){"attributes"===n.type&&l("attributeChangedCallback",e,t,[n.attributeName,n.oldValue])})});window.ShadowDOMPolyfill&&t.impl&&(t=ShadowDOMPolyfill.unwrap(t)),n.observe(t,{attributes:!0,attributeOldValue:!0})}return n}function h(t,e){var n=function(n,i){t.addEventListener(n,function(n){n.target===t&&(n.stopPropagation(),l(i,e,t))},!1)};n("DOMNodeInserted","insertedCallback"),n("DOMNodeRemoved","removedCallback")}function l(t,e,n,i){var r=e.lifecycle[t]||n[t];r&&r.apply(n,i||y)}function d(t,e){T[t]=e,E+=E?",":"",e.extends&&(E+=e.tag+"[is="+e.is+"],"),E+=t}function p(t){return function(){return r(t)}}function f(t){var e=T[t];return e?new e.ctor:_(t)}function v(t){if(!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var e=t.getAttribute("is")||t.localName,n=T[e];return n&&o(t,n)}}function m(t,e){var n=t||document;if(n.querySelectorAll){var i=e||E;if(i){var r=n.querySelectorAll(i);w(r,v)}}}function b(t){k.observe(t,{childList:!0,subtree:!0})}var g=window.MutationObserver||window.WebKitMutationObserver||window.JsMutationObserver;g||console.warn("no mutation observer support");var y=[],T={},E="",w=Array.prototype.forEach.call.bind(Array.prototype.forEach),_=document.createElement.bind(document);if(document.register=document.webkitRegister||document.register,document.register&&"native"===flags.register){var O=function(){};document.upgradeElement=O,document.upgradeElements=O,document.watchDOM=O}else{if(g)var k=new g(function(t){t.forEach(function(t){"childList"==t.type&&w(t.addedNodes,function(t){v(t)||m(t)})})});document.register=t,document.createElement=f,document.upgradeElement=v,document.upgradeElements=m,document.watchDOM=b}}(),function(){function parseElementElement(t){var e={name:"","extends":null};takeAttributes(t,e);var n=HTMLElement.prototype;if(e.extends){var i=document.createElement(e.extends);n=i.__proto__||Object.getPrototypeOf(i)}e.prototype=Object.create(n),t.options=e;var r=t.querySelector("script,scripts");r&&executeComponentScript(r.textContent,t,e.name),document.register(e.name,e)}function takeAttributes(t,e){for(var n in e){var i=t.attributes[n];i&&(e[n]=i.value)}}function executeComponentScript(inScript,inContext,inName){context=inContext;var owner=context.ownerDocument,code="__componentScript('"+inName+"', function(){"+inScript+"});"+"\n//@ sourceURL="+(owner._URL||owner.URL)+"\n";eval(code)}function mixin(t){for(var e=t||{},n=1;arguments.length>n;n++){var i=arguments[n];try{for(var r in i)copyProperty(r,i,e)}catch(o){}}return e}function copyProperty(t,e,n){var i=getPropertyDescriptor(e,t);Object.defineProperty(n,t,i)}function getPropertyDescriptor(t,e){if(t){var n=Object.getOwnPropertyDescriptor(t,e);return n||getPropertyDescriptor(Object.getPrototypeOf(t),e)}}var HTMLElementElement=function(t){return t.register=HTMLElementElement.prototype.register,parseElementElement(t),t};HTMLElementElement.prototype={register:function(t){t&&(this.options.lifecycle=t.lifecycle,t.prototype&&mixin(this.options.prototype,t.prototype))}};var context;window.__componentScript=function(t,e){e.call(context)},window.HTMLElementElement=HTMLElementElement,window.mixin=mixin}(),function(){function t(t){return t.ownerDocument===document||t.ownerDocument.impl===document}function e(t){return"link"===t.localName&&t.getAttribute("rel")===r}function n(t){return t.parentNode&&"element"===t.parentNode.localName?!0:void 0}function i(){setTimeout(function(){document.watchDOM(document.body),o.parse(document);var t=window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrap(document):document;t.body.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))},0)}var r="import",o={selectors:["link[rel="+r+"]","link[rel=stylesheet]","script[src]","script","style","element"],map:{link:"parseLink",script:"parseScript",element:"parseElement",style:"parseStyle"},parse:function(t){if(!t.__parsed){t.__parsed=!0,document.upgradeElements(t);var e=t.querySelectorAll(a.selectors);s(e,function(t){a[a.map[t.localName]](t)})}},parseLink:function(i){e(i)?i.content&&a.parse(i.content):t(i)||!i.parentNode||n(i)||document.head.appendChild(i)},parseScript:function(e){if(!t(e)&&!n(e)){var i=e.__resource||e.textContent;i&&eval.call(window,i)}},parseStyle:function(t){n(t)||document.querySelector("head").appendChild(t)},parseElement:function(t){new HTMLElementElement(t)}},a=o,s=Array.prototype.forEach.call.bind(Array.prototype.forEach);"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t){var e=document.createEvent("HTMLEvents");return e.initEvent(t,!0,!0),e}),window.HTMLImports?document.addEventListener("HTMLImportsLoaded",i):window.addEventListener("load",i)}(),function(){function t(t){return'[touch-action="'+t+'"]'}function e(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}var n=["none","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["scroll","pan-x pan-y","pan-y pan-x"]}],i="";n.forEach(function(n){i+=n+""===n?t(n)+e(n):n.selectors.map(t)+e(n.rule)});var r=document.createElement("style");r.textContent=i,document.head.appendChild(r)}(),function(t){function e(){this.ids=[],this.pointers=[]}t=t||{},e.prototype={set:function(t,e){var n=this.ids.indexOf(t);n>-1?this.pointers[n]=e:(this.ids.push(t),this.pointers.push(e))},has:function(t){return this.ids.indexOf(t)>-1},"delete":function(t){var e=this.ids.indexOf(t);e>-1&&(this.ids.splice(e,1),this.pointers.splice(e,1))},get:function(t){var e=this.ids.indexOf(t);return this.pointers[e]},item:function(t){return this.pointers[t]},get size(){return this.pointers.length}},t.PointerMap=e,window.PointerEventsPolyfill=t}(window.PointerEventsPolyfill),function(t){var e;"undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?e=WeakMap:(e=function(t){this.name="__$"+t+"$__"},e.prototype={set:function(t,e){Object.defineProperty(t,this.name,{value:e,writable:!0})},get:function(t){return t[this.name]}}),t.SideTable=e}(window.PointerEventsPolyfill),function(t){var e={targets:new t.SideTable("target"),handledEvents:new t.SideTable("pointer"),scrollType:new t.SideTable("scrollType"),pointermap:new t.PointerMap,events:[],eventMap:{},eventSources:{},registerSource:function(t,e){var n=e,i=n.events;i&&(this.events=this.events.concat(i),i.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n)},registerTarget:function(t,e){this.scrollType.set(t,e||"none"),this.listen(this.events,t,this.boundHandler)},unregisterTarget:function(t){this.scrollType.set(t,null),this.unlisten(this.events,t,this.boundHandler)},down:function(t){this.fireEvent("pointerdown",t)},move:function(t){this.fireEvent("pointermove",t)},up:function(t){this.fireEvent("pointerup",t)},enter:function(t){this.fireEvent("pointerenter",t)},leave:function(t){this.fireEvent("pointerleave",t)},over:function(t){this.fireEvent("pointerover",t)},out:function(t){this.fireEvent("pointerout",t)},cancel:function(t){this.fireEvent("pointercancel",t)},eventHandler:function(t){if(!this.handledEvents.get(t)){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),this.handledEvents.set(t,!0)}},listen:function(t,e,n){t.forEach(function(t){this.addEvent(t,n,!1,e)},this)},unlisten:function(t,e,n){t.forEach(function(t){this.removeEvent(t,n,!1,e)},this)},addEvent:function(t,e,n,i){i.addEventListener(t,e,n)},removeEvent:function(t,e,n,i){i.removeEventListener(t,e,n)},makeEvent:function(t,e){var n=new PointerEvent(t,e);return this.targets.set(n,this.targets.get(e)||e.target),n},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){var e={};for(var n in t)e[n]=t[n];return e},getTarget:function(t){return this.captureInfo&&this.captureInfo.id===t.pointerId?this.captureInfo.target:this.targets.get(t)},setCapture:function(t,e){this.captureInfo&&this.releaseCapture(this.captureInfo.id),this.captureInfo={id:t,target:e};var n=new PointerEvent("gotpointercapture",{bubbles:!0});this.implicitRelease=this.releaseCapture.bind(this,t),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),this.targets.set(n,e),this.asyncDispatchEvent(n)},releaseCapture:function(t){if(this.captureInfo&&this.captureInfo.id===t){var e=new PointerEvent("lostpointercapture",{bubbles:!0}),n=this.captureInfo.target;this.captureInfo=null,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),this.targets.set(e,n),this.asyncDispatchEvent(e)}},dispatchEvent:function(t){var e=this.getTarget(t);return e?e.dispatchEvent(t):void 0},asyncDispatchEvent:function(t){setTimeout(this.dispatchEvent.bind(this,t),0)}};e.boundHandler=e.eventHandler.bind(e),t.dispatcher=e}(window.PointerEventsPolyfill),function(t){var e=t.dispatcher,n=Array.prototype.forEach.call.bind(Array.prototype.forEach),i=Array.prototype.map.call.bind(Array.prototype.map),r={ATTRIB:"touch-action",SELECTOR:"[touch-action]",EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|scroll$/,OBSERVER_INIT:{subtree:!0,childList:!0,attributes:!0,attributeFilter:["touch-action"]},watchSubtree:function(t){s.observe(t,this.OBSERVER_INIT)},enableOnSubtree:function(t){var e=t||document;this.watchSubtree(t),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(t){n(this.findElements(t),this.addElement,this)},findElements:function(t){var e=t||document;return e.querySelectorAll?e.querySelectorAll(this.SELECTOR):[]},touchActionToScrollType:function(t){var e=t;return e===this.EMITTER?"none":e===this.XSCROLLER?"X":e===this.YSCROLLER?"Y":this.SCROLLER.exec(e)?"XY":void 0},removeElement:function(n){e.unregisterTarget(n);var i=t.targetFinding.shadow(n);i&&e.unregisterTarget(i)},addElement:function(n){var i=n.getAttribute&&n.getAttribute(this.ATTRIB),r=this.touchActionToScrollType(i);if(r){e.registerTarget(n,r);var o=t.targetFinding.shadow(n);o&&e.registerTarget(o,r)}},elementChanged:function(t){this.removeElement(t),this.addElement(t)},concatLists:function(t,e){for(var n,i=0,r=e.length;r>i&&(n=e[i]);i++)t.push(n);return t},installOnLoad:function(){document.addEventListener("DOMContentLoaded",this.installNewSubtree.bind(this,document))},flattenMutationTree:function(t){var e=i(t,this.findElements,this);return e.push(t),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){var e=t;if("childList"===e.type){var n=this.flattenMutationTree(e.addedNodes);n.forEach(this.addElement,this);var i=this.flattenMutationTree(e.removedNodes);i.forEach(this.removeElement,this)}else"attributes"===e.type&&this.elementChanged(e.target)}},o=r.mutationWatcher.bind(r);t.installer=r,t.register=r.enableOnSubtree.bind(r),t.setTouchAction=function(t,n){var i=this.touchActionToScrollType(n);i?e.registerTarget(t,i):e.unregisterTarget(t)}.bind(r);var a=window.MutationObserver||window.WebKitMutationObserver;if(a)var s=new a(o);else r.watchSubtree=function(){console.warn("PointerEventsPolyfill: MutationObservers not found, touch-action will not be dynamically detected")}}(window.PointerEventsPolyfill),function(t){var e={shadow:function(t){if(t){var e=t.webkitShadowRoot||t.shadowRoot;if(e&&e.elementFromPoint)return e}},searchRoot:function(t,e,n){if(t){var i,r,o,a=t.elementFromPoint(e,n);for(r=this.shadow(a);r;){if(i=r.elementFromPoint(e,n)){var s=this.shadow(i);return this.searchRoot(s,e,n)||i}o=r.querySelector("shadow"),r=o&&o.olderShadowRoot}return a}},findTarget:function(t){var e=t.clientX,n=t.clientY;return this.searchRoot(document,e,n)}};t.targetFinding=e,t.findTarget=e.findTarget.bind(e)}(window.PointerEventsPolyfill),function(t){var e=t.dispatcher,n=t.installer,i=t.findTarget,r=e.pointermap,o=Array.prototype.map.call.bind(Array.prototype.map),a=2500,s=25,c={events:["touchstart","touchmove","touchend","touchcancel"],POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){null===this.firstTouch&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryTouch:function(t){this.isPrimaryTouch(t)&&(this.firstTouch=null,this.firstXY=null)},touchToPointer:function(t){var n=e.cloneEvent(t);return n.pointerId=t.identifier+2,n.target=i(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=1,n.isPrimary=this.isPrimaryTouch(t),n.pointerType=this.POINTER_TYPE,n},processTouches:function(t,e){var n=t.changedTouches,i=o(n,this.touchToPointer,this);i.forEach(e,this)},shouldScroll:function(t){if(this.firstXY){var n,i=e.scrollType.get(t.currentTarget);if("none"===i)n=!1;else if("XY"===i)n=!0;else{var r=t.changedTouches[0],o=i,a="Y"===i?"X":"Y",s=Math.abs(r["client"+o]-this.firstXY[o]),c=Math.abs(r["client"+a]-this.firstXY[a]);n=s>=c}return this.firstXY=null,n}},findTouch:function(t,e){for(var n,i=0,r=t.length;r>i&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(r.size>=e.length){var n=[];r.ids.forEach(function(t){if(1!==t&&!this.findTouch(e,t-2)){var i=r.get(t).out;n.push(this.touchToPointer(i))}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){r.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),e.over(t),e.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var n=t,i=r.get(n.pointerId),o=i.out,a=i.outTarget;e.move(n),o&&a!==n.target&&(o.relatedTarget=n.target,n.relatedTarget=a,o.target=a,e.out(o),e.over(n)),i.out=n,i.outTarget=n.target},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(e.up(t),e.out(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){e.cancel(t),e.out(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){r.delete(t.pointerId),this.removePrimaryTouch(t)},dedupSynthMouse:function(t){var e=u.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};e.push(i);var r=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,i);setTimeout(r,a)}}},u={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],global:["mousedown","mouseup","mouseover","mouseout"],lastTouches:[],mouseHandler:e.eventHandler.bind(e),isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,r=t.clientY,o=0,a=n.length;a>o&&(e=n[o]);o++){var c=Math.abs(i-e.x),u=Math.abs(r-e.y);
if(s>=c&&s>=u)return!0}},prepareEvent:function(t){var n=e.cloneEvent(t);return n.pointerId=this.POINTER_ID,n.isPrimary=!0,n.pointerType=this.POINTER_TYPE,n},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var n=r.has(this.POINTER_ID);if(n&&(this.cancel(t),n=!1),!n){var i=this.prepareEvent(t);r.set(this.POINTER_ID,t),e.down(i),e.listen(this.global,document,this.mouseHandler)}}},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var n=this.prepareEvent(t);e.move(n)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var n=r.get(this.POINTER_ID);if(n&&n.button===t.button){var i=this.prepareEvent(t);e.up(i),this.cleanupMouse()}}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var n=this.prepareEvent(t);e.over(n)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var n=this.prepareEvent(t);e.out(n)}},cancel:function(t){var n=this.prepareEvent(t);e.cancel(n),this.cleanupMouse()},cleanupMouse:function(){r.delete(this.POINTER_ID),e.unlisten(this.global,document,this.mouseHandler)}},h={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var n=e.cloneEvent(t);return n.pointerType=this.POINTER_TYPES[t.pointerType],n},MSPointerDown:function(t){var n=this.prepareEvent(t);e.down(n)},MSPointerMove:function(t){var n=this.prepareEvent(t);e.move(n)},MSPointerUp:function(t){var n=this.prepareEvent(t);e.up(n)},MSPointerOut:function(t){var n=this.prepareEvent(t);e.out(n)},MSPointerOver:function(t){var n=this.prepareEvent(t);e.over(n)},MSPointerCancel:function(t){var n=this.prepareEvent(t);e.cancel(n)},MSLostPointerCapture:function(t){var n=e.makeEvent("lostpointercapture",t);e.dispatchEvent(n)},MSGotPointerCapture:function(t){var n=e.makeEvent("gotpointercapture",t);e.dispatchEvent(n)}};if(void 0===window.navigator.pointerEnabled){if(window.navigator.msPointerEnabled){var l=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:l,enumerable:!0}),e.registerSource("ms",h),e.registerTarget(document)}else e.registerSource("mouse",u),"ontouchstart"in window&&e.registerSource("touch",c),n.enableOnSubtree(document),e.listen(["mousemove"],document,e.boundHandler);Object.defineProperty(window.navigator,"pointerEnabled",{value:!0,enumerable:!0})}}(window.PointerEventsPolyfill),function(t){var e,n,i=t.dispatcher,r=window.navigator,o=function(t){if(!i.pointermap.has(t))throw Error("InvalidPointerId");return!0};r.msPointerEnabled?(e=Element.prototype.msSetPointerCapture,n=Element.prototype.msReleasePointerCapture):(e=function(t){o(t)&&i.setCapture(t,this)},n=function(t){o(t)&&i.releaseCapture(t,this)}),Element.prototype.setPointerCapture||Object.defineProperties(Element.prototype,{setPointerCapture:{value:e},releasePointerCapture:{value:n}})}(window.PointerEventsPolyfill),PointerGestureEvent.prototype.preventTap=function(){this.tapPrevented=!0},function(t){t=t||{},t.utils={LCA:{find:function(t,e){if(t===e)return t;if(t.compareDocumentPosition){var n=t.compareDocumentPosition(e);if(n&Node.DOCUMENT_POSITION_CONTAINS)return e;if(n&Node.DOCUMENT_POSITION_CONTAINED_BY)return t}var i=this.depth(t),r=this.depth(e),o=i-r;for(o>0?t=this.walk(t,o):e=this.walk(e,-o);t&&e&&t!==e;)t=this.walk(t,1),e=this.walk(e,1);return t},walk:function(t,e){for(var n=0;e>n;n++)t=t.parentNode;return t},depth:function(t){for(var e=0;t;)e++,t=t.parentNode;return e}}},t.findLCA=function(e,n){return t.utils.LCA.find(e,n)},window.PointerGestures=t}(window.PointerGestures),function(t){var e;"undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?e=WeakMap:(e=function(t){this.name="__$"+t+"$__"},e.prototype={set:function(t,e){Object.defineProperty(t,this.name,{value:e,writable:!0})},get:function(t){return t[this.name]}}),t.SideTable=e}(window.PointerGestures),function(t){function e(){this.ids=[],this.pointers=[]}e.prototype={set:function(t,e){var n=this.ids.indexOf(t);n>-1?this.pointers[n]=e:(this.ids.push(t),this.pointers.push(e))},has:function(t){return this.ids.indexOf(t)>-1},"delete":function(t){var e=this.ids.indexOf(t);e>-1&&(this.ids.splice(e,1),this.pointers.splice(e,1))},get:function(t){var e=this.ids.indexOf(t);return this.pointers[e]},item:function(t){return this.pointers[t]},get size(){return this.pointers.length}},t.PointerMap=e}(window.PointerGestures),function(t){var e={handledEvents:new t.SideTable("gesture"),targets:new t.SideTable("target"),handlers:{},recognizers:{},events:["pointerdown","pointermove","pointerup","pointerover","pointerout","pointercancel"],registerRecognizer:function(t,e){var n=e;this.recognizers[t]=n,this.events.forEach(function(t){if(n[t]){var e=n[t].bind(n);this.addHandler(t,e)}},this)},addHandler:function(t,e){var n=t;this.handlers[n]||(this.handlers[n]=[]),this.handlers[n].push(e)},registerTarget:function(t){this.listen(this.events,t)},unregisterTarget:function(t){this.unlisten(this.events,t)},eventHandler:function(t){if(!this.handledEvents.get(t)){var e,n=t.type;(e=this.handlers[n])&&this.makeQueue(e,t),this.handledEvents.set(t,!0)}},makeQueue:function(t,e){var n=this.cloneEvent(e);setTimeout(this.runQueue.bind(this,t,n),0)},runQueue:function(t,e){this.currentPointerId=e.pointerId;for(var n,i=0,r=t.length;r>i&&(n=t[i]);i++)n(e);this.currentPointerId=0},listen:function(t,e){t.forEach(function(t){this.addEvent(t,this.boundHandler,!1,e)},this)},unlisten:function(t){t.forEach(function(t){this.removeEvent(t,this.boundHandler,!1,inTarget)},this)},addEvent:function(t,e,n,i){i.addEventListener(t,e,n)},removeEvent:function(t,e,n,i){i.removeEventListener(t,e,n)},makeEvent:function(t,e){return new PointerGestureEvent(t,e)},cloneEvent:function(t){var e={};for(var n in t)e[n]=t[n];return e},dispatchEvent:function(t,e){var n=e||this.targets.get(t);n&&(n.dispatchEvent(t),t.tapPrevented&&this.preventTap(this.currentPointerId))},asyncDispatchEvent:function(t,e){var n=function(){this.dispatchEvent(t,e)}.bind(this);setTimeout(n,0)},preventTap:function(t){var e=this.recognizers.tap;e&&e.preventTap(t)}};e.boundHandler=e.eventHandler.bind(e),t.dispatcher=e,t.register=function(e){var n=window.PointerEventsPolyfill;n&&n.register(e),t.dispatcher.registerTarget(e)},e.registerTarget(document)}(window.PointerGestures),function(t){var e=t.dispatcher,n={HOLD_DELAY:200,WIGGLE_THRESHOLD:16,events:["pointerdown","pointermove","pointerup","pointercancel"],heldPointer:null,holdJob:null,pulse:function(){var t=Date.now()-this.heldPointer.timeStamp,e=this.held?"holdpulse":"hold";this.fireHold(e,t),this.held=!0},cancel:function(){clearInterval(this.holdJob),this.held&&this.fireHold("release"),this.held=!1,this.heldPointer=null,this.target=null,this.holdJob=null},pointerdown:function(t){t.isPrimary&&!this.heldPointer&&(this.heldPointer=t,this.target=t.target,this.holdJob=setInterval(this.pulse.bind(this),this.HOLD_DELAY))},pointerup:function(t){this.heldPointer&&this.heldPointer.pointerId===t.pointerId&&this.cancel()},pointercancel:function(){this.cancel()},pointermove:function(t){if(this.heldPointer&&this.heldPointer.pointerId===t.pointerId){var e=t.clientX-this.heldPointer.clientX,n=t.clientY-this.heldPointer.clientY;e*e+n*n>this.WIGGLE_THRESHOLD&&this.cancel()}},fireHold:function(t,n){var i={pointerType:this.heldPointer.pointerType};n&&(i.holdTime=n);var r=e.makeEvent(t,i);e.dispatchEvent(r,this.target),r.tapPrevented&&e.preventTap(this.heldPointer.pointerId)}};e.registerRecognizer("hold",n)}(window.PointerGestures),function(t){var e=t.dispatcher,n=new t.PointerMap,i={events:["pointerdown","pointermove","pointerup","pointercancel"],WIGGLE_THRESHOLD:4,clampDir:function(t){return t>0?1:-1},calcPositionDelta:function(t,e){var n=0,i=0;return t&&e&&(n=e.clientX-t.clientX,i=e.clientY-t.clientY),{x:n,y:i}},fireTrack:function(t,n,i){var r=i,o=this.calcPositionDelta(r.downEvent,n),a=this.calcPositionDelta(r.lastMoveEvent,n);a.x&&(r.xDirection=this.clampDir(a.x)),a.y&&(r.yDirection=this.clampDir(a.y));var s=e.makeEvent(t,{dx:o.x,dy:o.y,ddx:a.x,ddy:a.y,xDirection:r.xDirection,yDirection:r.yDirection,trackInfo:r.trackInfo,pointerType:n.pointerType});r.lastMoveEvent=n,e.dispatchEvent(s,r.downTarget)},pointerdown:function(t){if(t.isPrimary){var e={downEvent:t,downTarget:t.target,trackInfo:{},lastMoveEvent:null,xDirection:0,yDirection:0,tracking:!1};n.set(t.pointerId,e)}},pointermove:function(t){var e=n.get(t.pointerId);if(e)if(e.tracking)this.fireTrack("track",t,e);else{var i=this.calcPositionDelta(e.downEvent,t),r=i.x*i.x+i.y*i.y;r>this.WIGGLE_THRESHOLD&&(e.tracking=!0,this.fireTrack("trackstart",e.downEvent,e),this.fireTrack("track",t,e))}},pointerup:function(t){var e=n.get(t.pointerId);e&&(e.tracking&&this.fireTrack("trackend",t,e),n.delete(t.pointerId))},pointercancel:function(t){this.pointerup(t)}};e.registerRecognizer("track",i)}(window.PointerGestures),function(t){var e=t.dispatcher,n={MIN_VELOCITY:.5,MAX_QUEUE:4,moveQueue:[],target:null,pointerId:null,events:["pointerdown","pointermove","pointerup","pointercancel"],pointerdown:function(t){t.isPrimary&&!this.pointerId&&(this.pointerId=t.pointerId,this.target=t.target,this.addMove(t))},pointermove:function(t){t.pointerId===this.pointerId&&this.addMove(t)},pointerup:function(t){t.pointerId===this.pointerId&&this.fireFlick(t),this.cleanup()},pointercancel:function(){this.cleanup()},cleanup:function(){this.moveQueue=[],this.target=null,this.pointerId=null},addMove:function(t){this.moveQueue.length>=this.MAX_QUEUE&&this.moveQueue.unshift(),this.moveQueue.push(t)},fireFlick:function(t){for(var n,i,r,o,a,s,c,u=t,h=this.moveQueue.length,l=0,d=0,p=0,f=0;h>f&&(c=this.moveQueue[f]);f++)n=u.timeStamp-c.timeStamp,i=u.clientX-c.clientX,r=u.clientY-c.clientY,o=i/n,a=r/n,s=Math.sqrt(o*o+a*a),s>p&&(l=o,d=a,p=s);var v=Math.abs(l)>Math.abs(d)?"x":"y",m=this.calcAngle(l,d);if(Math.abs(p)>=this.MIN_VELOCITY){var b=e.makeEvent("flick",{xVelocity:l,yVelocity:d,velocity:p,angle:m,majorAxis:v,pointerType:t.pointerType});e.dispatchEvent(b,this.target)}},calcAngle:function(t,e){return 180*Math.atan2(e,t)/Math.PI}};e.registerRecognizer("flick",n)}(window.PointerGestures),function(t){var e=t.dispatcher,n=new t.PointerMap,i={events:["pointerdown","pointermove","pointerup","pointercancel"],pointerdown:function(t){t.isPrimary&&!t.tapPrevented&&n.set(t.pointerId,{target:t.target,x:t.clientX,y:t.clientY})},pointermove:function(t){if(t.isPrimary){var e=n.get(t.pointerId);e&&t.tapPrevented&&n.delete(t.pointerId)}},pointerup:function(i){var r=n.get(i.pointerId);if(r&&!i.tapPrevented){var o=t.findLCA(r.target,i.target);if(o){var a=e.makeEvent("tap",{x:i.clientX,y:i.clientY,pointerType:i.pointerType});e.dispatchEvent(a,o)}}n.delete(i.pointerId)},pointercancel:function(t){n.delete(t.pointerId)},preventTap:function(t){n.delete(t)}};e.registerRecognizer("tap",i)}(window.PointerGestures);
//@ sourceMappingURL=platform.min.js.map