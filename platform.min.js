function SideTableInherit(e){this.map=new SideTable(e)}function MDVDelegate(e){function t(e){return e.replace(/\s/g,"")}function n(e,n){var e=t(e);e=e?e.split(","):[];for(var i="return ("+n+")",r=[],o=[],a=0;e.length>a;a++){var s=e[a],c=s.split("@"),u=t(c[0]);if(!u)return;var h;if(c.length>1)h=t(c[1]);else{var l=u.indexOf(".");h=0>l?u:u.substring(l+1)}if(0==h.length)return;r.push(u),o.push(h)}return[r,Function.apply(null,o.concat(i))]}function i(e,t,i,r,o){var a="if"==t;if(!i)return[[e,o],function(e,t){return t?a?e:void 0:a?void 0:e}];var s=n(i,r);return[[e].concat(s[0]),function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=s[1].apply(void 0,t);return n?a?e:void 0:a?void 0:e}]}function r(e,t){var n=e.substring(0,t).trim(),i=e.substring(t+1).trim(),r=/^(?:"([^"]*)"|'([^']*)')$/,o=/^([a-z_]+[a-z_\d]*)(?:\(([^\)]*)\))?$/i,a=i.match(o);if(null!=a){var s=a[1].trim(),c=a[2];c&&(c=c.trim());var u,h=c?c.split(","):[],l=h.map(function(e){if(e=e.trim(),""===e)return void 0;if(r.test(e)){var t=e.match(r);return t[1]||t[2]}switch(e){case"true":return!0;case"false":return!1;case"null":return null;default:var n=Number(e);return isNaN(n)?void 0:n}}),d=Transform.create(s,l),t=n.indexOf(".");return u=0>t?n:n.substring(t+1),[[n],function(){return d.toTarget.apply(d,Array.prototype.slice.apply(arguments).concat(u))},function(e){return d.toSource.apply(d,[e])}]}}var o=/^expr\s*\(([^)]*)\s*\)\s*((?:.|\n)*)$/m,a=e.match(o);if(null!=a)return n(a[1],a[2]);var s=/^\s*(\S*)\s+(if|unless)\s+(expr\s*\(([^)]*)\s*\)\s*((?:.|\n)*)$|(\S*))/m,a=e.match(s);if(null!=a)return i(a[1],a[2],a[4],a[5],a[6]);var c=e.indexOf("|");return c>=0?r(e,c):null}(function(){var e={preloadSelectors:["link[rel=component]","script[src]","link[rel=stylesheet]"],preload:function(e,n){t.cache=loader.cache;var i=e.querySelectorAll(t.preloadSelectors);i=Array.prototype.filter.call(i,function(e){return"script"!==e.localName||e.ownerDocument!==document}),loader.loadAll(i,n,t.eachPreload)},eachPreload:function(i,r,o,a){if(t.isDocumentLink(a)){var s=n(i,o);a.component=a.__resource=loader.cache[o]=s,e.preload(s,r)}else r()},isDocumentLink:function(e){return"link"===e.localName&&"component"===e.getAttribute("rel")}},t=e;t.preloadSelectors=t.preloadSelectors.join(",");var n=function(e,t){var n=document.implementation.createHTMLDocument("component");return n.body.innerHTML=e,n._URL=t,n};loader={cache:{},loadAll:function(e,t,n){function a(e){c++;var t=i.nodeUrl(e),n=loader.cache[t];n&&(e.__resource=n,s()),r.load(t,function(t,n,i){t?s():(e.__resource=loader.cache[i]=n,u(n,s,i,e))})}function s(){--c||t()}e.length||t();var c=0,u=n||s;o(e,a)}};var i={nodeUrl:function(e){return i.resolveNodeUrl(e,i.hrefOrSrc(e))},hrefOrSrc:function(e){return e.getAttribute("href")||e.getAttribute("src")},resolveNodeUrl:function(e,t){return this.resolveUrl(this.documentUrlFromNode(e),t)},documentUrlFromNode:function(e){var t=e.ownerDocument,n=t&&(t._URL||t.URL||window.unwrap&&unwrap(t)._URL)||"";return n=n.split("#")[0]},resolveUrl:function(e,t){return this.isAbsUrl(t)?t:this.compressUrl(this.urlToPath(e)+t)},isAbsUrl:function(e){return/(^data:)|(^http[s]?:)|(^\/)/.test(e)},urlToPath:function(e){var t=e.split("/");return t.pop(),t.push(""),t.join("/")},compressUrl:function(e){for(var t,n=e.split("/"),i=0;n.length>i;i++)t=n[i],".."===t&&(n.splice(i-1,2),i-=2);return n.join("/")}},r={async:!0,ok:function(e){return e.status>=200&&300>e.status||304===e.status},load:function(e,t,n){var i=new XMLHttpRequest;i.open("GET",e+"?"+Math.random(),r.async),i.addEventListener("readystatechange",function(){4===i.readyState&&t.call(n,!r.ok(i)&&i,i.response,e)}),i.send()}},o=Array.prototype.forEach.call.bind(Array.prototype.forEach);if(window.WebComponents=e,"function"!=typeof a)var a=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t};window.addEventListener("load",function(){e.preload(document,function(){var e=window.wrap?wrap(document):document;e.body.dispatchEvent(new a("WebComponentsLoaded",{bubbles:!0}))})})})(),function(){function e(e,r){var o=r||{};if(!e)throw Error("Name argument must not be empty");if(o.name=e,!o.prototype)throw Error("Options missing required prototype property");return o.lifecycle=o.lifecycle||{},o.ancestry=t(o.extends),n(o),i(o),u(e,o),o.ctor=h(o),o.ctor.prototype=o.prototype,document.upgradeElements(),o.ctor}function t(e){var n=b[e];return n?t(n.extends).concat([n]):[]}function n(e){for(var t,n=e.extends,i=0;t=e.ancestry[i];i++)n=t.is&&t.tag;e.tag=n||e.name,n&&(e.is=e.name)}function i(e){if(window.WrapperElement&&!(e.prototype instanceof WrapperElement)||!Object.__proto__)if(e.is){var t=_(e.tag),n=Object.getPrototypeOf(t);window.WrapperElement&&(t=unwrap(t));var i=Object.getPrototypeOf(t)}else i=HTMLElement.prototype,window.WrapperElement&&(n=WrapperHTMLUnknownElement.prototype);if(e.native=i,window.WrapperElement&&!(e.prototype instanceof WrapperElement)&&Object.__proto__){for(var r,o=e.prototype;;){if(r=Object.getPrototypeOf(o),r===i||r==HTMLUnknownElement.prototype)break;o=r}o.__proto__=n}}function r(e){return o(_(e.tag),e)}function o(e,t){return a(e,t),t.is&&e.setAttribute("is",t.is),e.__upgraded__=!0,c(e,t),e}function a(e,t){Object.__proto__?e.__proto__=t.prototype:(Object.__proto__||(e.__proto__=t.prototype),s(e,t.prototype,t.native))}function s(e,t,n){for(var i={},r=t;r!==n&&r!==HTMLUnknownElement.prototype;){for(var o,a=Object.getOwnPropertyNames(r),s=0;o=a[s];s++)i[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o)),i[o]=1);r=Object.getPrototypeOf(r)}}function c(e,t){var n=t.lifecycle.readyCallback||e.readyCallback;n&&n.call(e)}function u(e,t){b[e]=t,m+=m?",":"",t.extends&&(m+=t.tag+"[is="+t.is+"],"),m+=e}function h(e){return function(){return r(e)}}function l(e){var t=b[e];return t?new t.ctor:_(e)}function d(e){if(!e.__upgraded__){var t=e.getAttribute("is")||e.localName,n=b[t];return n&&o(e,n)}}function f(e,t){var n=t||m;if(n){var i=e||document;y(i.querySelectorAll(n),d)}}function p(e){for(var t=e||{},n=1;arguments.length>n;n++){var i=arguments[n];try{for(var r in i)v(r,i,t)}catch(o){}}return t}function v(e,t,n){var i=g(t,e);Object.defineProperty(n,e,i)}function g(e,t){if(e){var n=Object.getOwnPropertyDescriptor(e,t);return n||g(Object.getPrototypeOf(e),t)}}console.group||(console.group=function(e){console.log("[group] "+e)},console.groupEnd=function(){console.log("[end]")});var b={},m="",y=Array.prototype.forEach.call.bind(Array.prototype.forEach),_=document.createElement.bind(document);document.register=e,document.upgradeElement=d,document.upgradeElements=f,document.createElement=l,window.mixin=p}(),function(){function parseElementElement(e){var t={name:"","extends":null};takeAttributes(e,t);var n=HTMLElement.prototype;if(t.extends){var i=document.createElement(t.extends);n=i.__proto__||Object.getPrototypeOf(i)}t.prototype=Object.create(n),e.options=t;var r=e.querySelector("script,scripts");r&&executeComponentScript(r.textContent,e,t.name),document.register(t.name,t)}function takeAttributes(e,t){for(var n in t){var i=e.attributes[n];i&&(t[n]=i.value)}}function executeComponentScript(inScript,inContext,inName){context=inContext;var owner=context.ownerDocument,code="__componentScript('"+inName+"', function(){"+inScript+"});"+"\n//@ sourceURL="+(owner._URL||owner.URL)+"\n";eval(code)}var HTMLElementElement=function(e){return e.register=HTMLElementElement.prototype.register,parseElementElement(e),e};HTMLElementElement.prototype={register:function(e){e&&(this.options.lifecycle=e.lifecycle,e.prototype&&mixin(this.options.prototype,e.prototype))}};var context;window.__componentScript=function(e,t){t.call(context)},window.HTMLElementElement=HTMLElementElement}(),function(){function bootstrap(){setTimeout(function(){componentParser.parse(document),sdocument.body.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))},0)}var sdocument=window.wrap?wrap(document):document,componentParser={selectors:["link[rel=component]","link[rel=stylesheet]","script[src]","script","style","element"],map:{link:"parseLink",script:"parseScript",element:"parseElement",style:"parseStyle"},parse:function(e){if(e){document.upgradeElements(e);var t=e.querySelectorAll(cp.selectors);forEach(t,function(e){cp[cp.map[e.localName]](e)}),document.upgradeElements(e)}},parseLink:function(e){this.isDocumentLink(e)&&cp.parse(e.__resource)},isDocumentLink:function(e){return"link"===e.localName&&"component"===e.getAttribute("rel")},parseScript:function(inScriptElt){if(inScriptElt.ownerDocument!==sdocument&&"element"!==inScriptElt.parentNode.localName){var code=inScriptElt.__resource||inScriptElt.textContent;code&&eval(code)}},parseStyle:function(e){document.querySelector("head").appendChild(e)},parseElement:function(e){new HTMLElementElement(e)}},cp=componentParser,forEach=Array.prototype.forEach.call.bind(Array.prototype.forEach);if("function"!=typeof CustomEvent)var CustomEvent=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t};window.WebComponents?sdocument.addEventListener("WebComponentsLoaded",bootstrap):window.addEventListener("load",bootstrap)}(),function(e){"use strict";function t(){this.entries=[]}function n(){this.entries={},this.size=0}function i(e,t){this.scoreFunction=e,this.content=t||[],this.content.length&&this.build()}function r(e){this.stayFunc=e,this.methods=new t}function o(e,t){this.constraint=e,this.variable=t}function a(e){this.planner=e,this.methods=[]}function s(){this.variables=[],this.constraints=[],this.variableUIDCounter=1,this.methodUIDCounter=1}t.prototype={add:function(e){this.entries.indexOf(e)>=0||this.entries.push(e)},"delete":function(e){var t=this.entries.indexOf(e);0>t||this.entries.splice(t,1)},first:function(){return this.entries[0]},get size(){return this.entries.length}},n.prototype={add:function(e){void 0===this.entries[e.__UID__]&&(this.entries[e.__UID__]=e,this.size++)},"delete":function(e){void 0!==this.entries[e.__UID__]&&(this.entries[e.__UID__]=void 0,this.size--)}},i.prototype={get size(){return this.content.length},build:function(){for(var e=Math.floor(this.content.length/2)-1,t=e;t>=0;t--)this.sinkDown(t)},push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length&&(this.content[0]=t,this.sinkDown(0)),e},"delete":function(e){for(var t=this.content.length,n=0;t>n;n++)if(this.content[n]==e){var i=this.content.pop();return n!=t-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(node)?this.bubbleUp(n):this.sinkDown(n)),void 0}},bubbleUp:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,i=this.content[n];if(this.scoreFunction(t)<=this.scoreFunction(i))break;this.content[n]=t,this.content[e]=i,e=n}},sinkDown:function(e){var t=this.content.length,n=this.content[e],i=this.scoreFunction(n);do{var r=2*(e+1),o=r-1,a=null,s=i;if(t>o){var c=this.content[o],u=this.scoreFunction(c);u>i&&(a=o,s=u)}if(t>r){var h=this.content[r],l=this.scoreFunction(h);l>s&&(a=r)}null!=a&&(this.content[e]=this.content[a],this.content[a]=n,e=a)}while(null!=a)}},r.prototype={freeMethod:function(){return this.methods.first()}},a.prototype={addMethod:function(e){var t=new o(this,e);return this.methods.push(t),t.__UID__=this.planner.methodUIDCounter++,t},reset:function(){this.methods.forEach(function(e){e.variable.methods.add(e)})},remove:function(){this.methods.forEach(function(e){e.variable.methods.delete(e)})}},s.prototype={addVariable:function(e){var t=new r(e);return t.__UID__=this.variableUIDCounter++,this.variables.push(t),t},addConstraint:function(){var e=new a(this);return this.constraints.push(e),e},removeConstraint:function(e){var t=this.constraints.indexOf(e);0>t||(e.remove(),this.constraints.splice(t,1),this.constraints.forEach(function(e){e.reset()}),this.variables=this.variables.filter(function(e){return e.methods.size}))},getPlan:function(){this.variables.forEach(function(e){e.priority=e.stayFunc()}),this.constraints.forEach(function(e){e.reset()});var e=[],t=[],r=new n;for(this.variables.forEach(function(e){var n=e.methods.size;n>1?r.add(e):1==n&&t.push(e)}),t=new i(function(e){return e.priority},t);t.size;){var o;do o=t.pop();while(t.size&&!o.methods.size);if(!o.methods.size)break;var a=o.freeMethod(),s=a.constraint;s.remove(),s.methods.forEach(function(e){var n=e.variable;1==n.methods.size&&(r.delete(n),t.push(n))}),e.push(a)}return r.size?void 0:e.reverse()}},e.Planner=s}(this),function(e){"use strict";function t(e){return+e===e>>>0}function n(e){return+e}function i(e){return e===Object(e)}function r(){function e(e){var t=n.get(e);return t||(t=Object.create(null),n.set(e,t)),t}function t(e){if(null===e)return"$0";var t,n;switch(typeof e){case"undefined":return"$1";case"boolean":return"$"+(e+2);case"object":case"function":return n=i.get(e),n||(n="$"+a++,i.set(e,n)),n;case"number":t=r;break;case"string":t=o}return n=t[e],n||(n="$"+a++,t[e]=n),n}if(!Map.prototype.forEach||!Set.prototype.forEach){var n=new WeakMap,i=new WeakMap,r=Object.create(null),o=Object.create(null),a=4,s=Map.prototype.set,c=Map.prototype.delete,u=Set.prototype.add,h=Set.prototype.delete;Map.prototype.set=function(n,i){var r=t(n),o=e(this);return o[r]=n,s.call(this,n,i)},Map.prototype.delete=function(n){var i=t(n),r=e(this);return delete r[i],c.call(this,n)},Map.prototype.forEach=function(t,n){var i=e(this);for(var r in i){var o=i[r],a=this.get(o);t.call(n||this,a,o,this)}},Set.prototype.add=function(n){var i=t(n),r=e(this);return r[i]=n,u.call(this,n)},Set.prototype.delete=function(n){var i=t(n),r=e(this);return delete r[i],h.call(this,n)},Set.prototype.forEach=function(t,n){var i=e(this);for(var r in i){var o=i[r];t.call(n||this,o,o,this)}},Map.getValueSet=function(e){var t=new Set;return e.forEach(function(e){t.add(e)}),t}}}function o(e){function t(){this.values_=[],this.keys_=[]}function n(){this.keys_=[]}t.prototype={get:function(e){return this.values_[this.keys_.indexOf(e)]},set:function(e,t){var n=this.keys_.indexOf(e);0>n&&(n=this.keys_.length),this.keys_[n]=e,this.values_[n]=t},has:function(e){return this.keys_.indexOf(e)>=0},"delete":function(e){var t=this.keys_.indexOf(e);return 0>t?!1:(this.keys_.splice(t,1),this.values_.splice(t,1),!0)},forEach:function(e,t){for(var n=0;this.keys_.length>n;n++)e.call(t||this,this.values_[n],this.keys_[n],this)},get size(){return this.keys_.length}},n.prototype={add:function(e){0>this.keys_.indexOf(e)&&this.keys_.push(e)},has:function(e){return this.keys_.indexOf(e)>=0},"delete":function(e){var t=this.keys_.indexOf(e);return 0>t?!1:(this.keys_.splice(t,1),!0)},forEach:function(e,t){for(var n=0;this.keys_.length>n;n++)e.call(t||this,this.keys_[n],this.keys_[n],this)},get size(){return this.keys_.length}},t.getValueSet=function(e){var t=new n;return t.keys_=e.values_.slice(),t},e.Map=t,e.Set=n}function a(e){return"string"!=typeof e?!1:(e=e.replace(/\s/g,""),""==e?!0:"."==e[0]?!1:S.test(e))}function s(e){return""==e.trim()?this:t(e)?(this.push(e+""),this):(e.split(/\./).filter(function(e){return e}).forEach(function(e){this.push(e)},this),void 0)}function c(t){var n,r=!0,o=!1,c=!1,u=!1,h={objectObservers:new Map,bindingPriorityCounter:1,getObjectObserver:function(e){return this.objectObservers.get(e)},getOrCreateObjectObserver:function(e){var t=this.objectObservers.get(e);return t||(t=new b(this,e),this.objectObservers.set(e,t)),t},removeObjectObserver:function(e){this.objectObservers.delete(e)},nextBindingPriority:function(){return this.bindingPriorityCounter++},addPathTracker:function(e,t){this.getOrCreateObjectObserver(e).addPathTracker(t)},removePathTracker:function(e,t){this.getObjectObserver(e).removePathTracker(t)},connect:function(){this.objectObservers.forEach(function(e){e.connect()})},disconnect:function(){this.objectObservers.forEach(function(e){e.disconnect()})},internalCallback:function(e){if(!e||!e.length)return console.error("Object.observe callback called with no records"),void 0;try{c||(this.activeObservers=new Set);for(var t,n,i=0;e.length>i;i++){var r=e[i];if(t!==r.object){if(t=r.object,n=this.getObjectObserver(t),!n){t=void 0;continue}this.activeObservers.add(n)}n.addChangeRecord(r)}if(c)return;c=!0,this.deliverSummaries(),c=!1}catch(o){console.error(o)}},dirtyCheck:function(){var e=0;do try{e++,this.activeObservers=Map.getValueSet(this.objectObservers),this.deliverSummaries()}catch(t){console.error(t)}while(u&&A>e)},resolveBindings:function(){var e=this.planner.getPlan();e||console.error("Error: bindings are over-constrained");for(var t=!1,n=0;e.length>n;n++){var i=e[n],r=i.to;if(!r.setValue(i.from.value))break;t=!0;var o=this.getOrCreateObjectObserver(r.object);o.addDirtyPath(r),this.activeObservers.add(o)}return t},deliverSummaries:function(){n=[];var e=!1;return this.activeObservers.forEach(function(t){e=t.checkPathValues()||e}),e&&this.resolveBindings()&&j&&Object.deliverChangeRecords(h.callback),this.activeObservers.forEach(function(e){e.checkObjectsAndArrays()}),this.activeObservers.forEach(function(e){var t=e.produceSummary();e.reset(),t&&n.push(t)}),this.activeObservers=void 0,n.length||(n=void 0),o||!n?(u=!1,void 0):(t(n),n=void 0,u=!0,void 0)}};if(h.callback=h.internalCallback.bind(h),j){var l={};Object.observe(l,h.callback),Object.unobserve(l,h.callback)}this.observeObject=function(e){if(!i(e))throw Error("Invalid attempt to observe non-object: "+e);h.getOrCreateObjectObserver(e).observeObject()},this.unobserveObject=function(e){if(!i(e))throw Error("Invalid attempt to unobserve non-object: "+e);var t=h.getObjectObserver(e);t&&t.unobserveObject()},this.observeArray=function(e){if(!Array.isArray(e))throw Error("Invalid attempt to observe non-array: "+e);h.getOrCreateObjectObserver(e).observeArray()},this.unobserveArray=function(e){if(Array.isArray(e)){var t=h.getObjectObserver(e);t&&t.unobserveArray()}},this.observePath=function(e,t){if(!a(t))return void 0;var n=new s(t);if(!n.length)return e;if(!i(e))return void 0;var r=h.getOrCreateObjectObserver(e).observePath(n);return r.value},this.unobservePath=function(e,t){if(a(t)){var n=new s(t);if(n.length&&i(e)){var r=h.getObjectObserver(e);r&&r.unobservePath(n)}}},this.bind=function(t,n,r,o){if("function"!=typeof e.Planner)throw Error("Binding requires Planner library");if(!a(n)||!a(o))throw Error("Not implemented");var c=new s(n),u=new s(o);if(!(c.length&&u.length&&i(t)&&i(r)))throw Error("Not implemented");h.planner||(h.planner=new Planner);var l=h.getOrCreateObjectObserver(t).observePath(c,!0),d=h.getOrCreateObjectObserver(r).observePath(u,!0);if(!(d.bindings&&tracker2.bindings.has(l)||l.bindings&&l.bindings.has(d))){if(l.bindings||(l.bindings=new Map),!l.variable){var f=h.nextBindingPriority();l.variable=h.planner.addVariable(function(){return l.changed?f:1/0})}if(!d.variable){var p=h.nextBindingPriority();d.variable=h.planner.addVariable(function(){return d.changed?p:1/0})}var v=h.planner.addConstraint();l.bindings.set(d,v);var g=v.addMethod(d.variable),b=v.addMethod(l.variable);g.from=l,g.to=d,g.name=""+d.path+"->"+(""+l.path),b.from=d,b.to=l,g.name=""+l.path+"->"+(""+d.path),l.value!==d.value&&(void 0===l.value?l.setValue(d.value):d.setValue(l.value))}},this.unbind=function(){throw Error("Not implemented")},this.deliver=function(){if(!r)throw Error("Disconnected");j?Object.deliverChangeRecords(h.callback):h.dirtyCheck()},this.disconnect=function(){if(r&&(o=!0,this.deliver(),o=!1,h.disconnect(),r=!1,n)){var e=n;return n=void 0,e}},this.connect=function(){r||(h.connect(),r=!0)}}function u(e,t,n){var r=!1;return t.walkPropertiesFrom(e,function(e,o,a){i(o)&&a==t.length-1&&(r=!0,o[e]=n)}),r}function h(e){for(var t in e)return!1;return!0}function l(e){return h(e.added)&&h(e.removed)&&h(e.changed)}function d(e,t){var n={},i={},r={};for(var o in t){var a=e[o];(void 0===a||a!==t[o])&&(o in e?a!==t[o]&&(r[o]=a):i[o]=void 0)}for(var o in e)o in t||(n[o]=e[o]);return Array.isArray(e)&&e.length!==t.length&&(r.length=e.length),{added:n,removed:i,changed:r}}function f(e,t){var n=t||(Array.isArray(e)?[]:{});for(var i in e)n[i]=e[i];return Array.isArray(e)&&(n.length=e.length),n}function p(e){this.object=e,this.changed=!1,this.diff=void 0,this.oldValues=void 0,this.reset(!0)}function v(e){this.array=e,this.changed=!1,this.splices=void 0,this.reset(!0)}function g(e,t,n,i){this.object=e,this.path=t,this.pathString=n,this.observed=t.length>1?Array(t.length-2):void 0,this.changed=!1,this.oldValue=void 0,this.bound=!1,this.reporting=!1,this.bindings=void 0,this.variable=void 0,this.internal=i,this.reset(!0)}function b(e,t){this.internal=e,this.object=t,this.objectTracker=void 0,this.arrayTracker=void 0,this.pathTrackers=void 0,this.pathTrackerMap=void 0,this.changeRecords=void 0,this.dirtyPathTrackers=void 0,this.connect()}function m(e,t,n){for(var i={},r={},o=0;t.length>o;o++){var a=t[o];V[a.type]?(a.name in n||(n[a.name]=a.oldValue),"updated"!=a.type&&("new"!=a.type?a.name in i?(delete i[a.name],delete n[a.name]):r[a.name]=!0:a.name in r?delete r[a.name]:i[a.name]=!0)):(console.error("Unknown changeRecord type: "+a.type),console.error(a))}for(var s in i)i[s]=e[s];for(var s in r)r[s]=void 0;var c={};for(var s in n)if(!(s in i||s in r)){var u=e[s];n[s]!==u&&(c[s]=u)}return{added:i,removed:r,changed:c}}function y(e,t,n,i,r,o){for(var a=o-r+1,s=n-t+1,c=Array(a),u=0;a>u;u++)c[u]=Array(s),c[u][0]=u;for(var h=0;s>h;h++)c[0][h]=h;for(var u=1;a>u;u++)for(var h=1;s>h;h++)if(i[r+u-1]===e[t+h-1])c[u][h]=c[u-1][h-1];else{var l=c[u-1][h]+1,d=c[u][h-1]+1;c[u][h]=d>l?l:d}return c}function _(e){for(var t=e.length-1,n=e[0].length-1,i=e[t][n],r=[];t>0||n>0;)if(0!=t)if(0!=n){var o,a=e[t-1][n-1],s=e[t-1][n],c=e[t][n-1];o=c>s?a>s?s:a:a>c?c:a,o==a?(a==i?r.push(B):(r.push(I),i=a),t--,n--):o==s?(r.push(R),t--,i=s):(r.push(H),n--,i=c)}else r.push(R),t--;else r.push(H),n--;return r.reverse(),r}function T(e,t,n){for(var i=0;n>i;i++)if(e[i]!==t[i])return i;return n}function w(e,t,n){for(var i=e.length,r=t.length,o=0;n>o&&e[--i]===t[--r];)o++;return o}function k(e,t,n,i,r,o){function a(e,t,n){return{index:e,removed:t,addedCount:n}}var s=0,c=0,u=Math.min(n-t,o-r);if(0==t&&0==r&&(s=T(e,i,u)),n==e.length&&o==i.length&&(c=w(e,i,u-s)),t+=s,r+=s,n-=c,o-=c,0==n-t&&0==o-r)return[];if(t==n){for(var h=a(t,[],0);o>r;)h.removed.push(i[r++]);return[h]}if(r==o)return[a(t,[],n-t)];for(var l=_(y(e,t,n,i,r,o)),h=void 0,d=[],f=t,p=r,v=0;l.length>v;v++)switch(l[v]){case B:h&&(d.push(h),h=void 0),f++,p++;break;case I:h||(h=a(f,[],0)),h.addedCount++,f++,h.removed.push(i[p]),p++;break;case H:h||(h=a(f,[],0)),h.addedCount++,f++;break;case R:h||(h=a(f,[],0)),h.removed.push(i[p]),p++}return h&&d.push(h),d}function E(e,t,i){function r(t,i){Object.keys(t).forEach(function(t){var r=n(t);if(!(isNaN(r)||0>r||r>=a)){var c=i[r];e.length>r?s[r]=c:o.removed[r-e.length]=i[r]}})}var o,a="length"in i?n(i.length):e.length;e.length>a?o={index:a,removed:[],addedCount:e.length-a}:a>e.length&&(o={index:e.length,removed:Array(a-e.length),addedCount:0});var s=[];r(t.added,i),r(t.removed,i),r(t.changed,i);var c,u=[];for(var h in s){if(h=n(h),c){if(c.index+c.removed.length==h){c.removed.push(s[h]);continue}c.addedCount=Math.min(e.length,c.index+c.removed.length)-c.index,u.push(c),c=void 0}c={index:h,removed:[s[h]]}}return c?(c.addedCount=Math.min(e.length,c.index+c.removed.length)-c.index,o?c.index+c.removed.length==o.index?(c.addedCount=c.addedCount+o.addedCount,c.removed=c.removed.concat(o.removed),u.push(c)):(u.push(c),u.push(o)):u.push(c)):o&&u.push(o),u}function O(e,t,n){var i=[];return E(e,t,n).forEach(function(t){i=i.concat(k(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length))}),i}function C(){function e(e){var n=t.get(e.object);n&&(n.object&&(e.added||e.removed||e.changed)&&n.object.forEach(function(t){try{t(e.added,e.removed,e.changed,e.getOldValue,e.object)}catch(n){console.log("Exception thrown during callback: "+n)}}),n.array&&e.splices&&n.array.forEach(function(t){try{t(e.splices,e.object)}catch(n){console.log("Exception thrown during callback: "+n)}}),n.path&&e.pathChanged&&Object.keys(n.path).forEach(function(t){e.pathChanged.hasOwnProperty(t)&&n.path[t].forEach(function(n){try{n(e.pathChanged[t],e.getOldValue(t),e.object,t)}catch(i){console.log("Exception thrown during callback: "+i)}})}))}var t="function"==typeof WeakMap?new WeakMap:new Map,n=new c(function(t){t.forEach(e)});this.observeObject=function(e,i){var r=t.get(e);r||(r={},t.set(e,r)),r.object||(r.object=new Set,n.observeObject(e)),r.object.add(i)},this.unobserveObject=function(e,i){var r=t.get(e);r&&r.object&&(r.object.delete(i),r.object.size||(n.unobserveObject(e),r.object=void 0),r.object||r.array||r.path||t.delete(e))},this.observeArray=function(e,i){if(!Array.isArray(e))throw Error("Invalid attempt to observe non-array: "+arr);var r=t.get(e);r||(r={},t.set(e,r)),r.array||(r.array=new Set,n.observeArray(e)),r.array.add(i)},this.unobserveArray=function(e,i){if(Array.isArray(e)){var r=t.get(e);r&&r.array&&(r.array.delete(i),r.array.size||(n.unobserveArray(e),r.array=void 0),r.object||r.array||r.path||t.delete(e))}},this.observePath=function(e,r,o){if(!a(r))return void 0;if(""==r.trim())return e;if(!i(e))return void 0;var s=t.get(e);s||(s={},t.set(e,s)),s.path||(s.path={});var u,h=s.path[r];return h?u=c.getValueAtPath(e,r):(h=new Set,s.path[r]=h,u=n.observePath(e,r)),h.add(o),u},this.unobservePath=function(e,r,o){if(a(r)&&i(e)){var s=t.get(e);if(s&&s.path){var c=s.path[r];c&&(c.delete(o),c.size||(n.unobservePath(e,r),delete s.path[r]),Object.keys(s.path).length||(s.path=void 0),s.object||s.array||s.path||t.delete(e))}}},this.bind=function(e,t,i,r){n.bind(e,t,i,r)},this.unbind=function(e,t,i,r){n.unbind(e,t,i,r)},this.deliver=n.deliver.bind(n)}var j="function"==typeof Object.observe,x="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n};"function"==typeof Map&&"function"==typeof Set&&"function"==typeof WeakMap?r():o(e);var M="[$a-z0-9_]+[$a-z0-9_\\d]*",S=RegExp("^(?:#?"+M+")?"+"(?:"+"(?:\\."+M+")"+")*"+"$","i");s.prototype=x({__proto__:[],toString:function(){return this.join(".")},walkPropertiesFrom:function(e,t,n){for(var i,r=0;this.length+1>r;r++)i=this[r],t.call(n,i,e,r),e=r==this.length||null===e||void 0===e?void 0:e[i]}});var A=1e3;c.getValueAtPath=function(e,t){if(!a(t))return void 0;var n=new s(t);if(!n.length)return e;if(i(e)){var r;return n.walkPropertiesFrom(e,function(e,t,n){n==this.length&&(r=t)},n),r}},c.setValueAtPath=function(e,t,n){if(a(t)){var r=new s(t);r.length&&i(e)&&u(e,r,n)}},c.applySplices=function(e,t,n){n.forEach(function(n){for(var i=[n.index,n.removed.length],r=n.index;n.index+n.addedCount>r;)i.push(t[r]),r++;Array.prototype.splice.apply(e,i)})},p.prototype={check:function(e){var t,n;if(j){if(!e)return!1;n={},t=m(this.object,e,n)}else n=this.oldObject,t=d(this.object,this.oldObject);return l(t)?!1:(this.diff=t,this.oldValues=n,this.changed=!0,!0)},summarize:function(e,t){e.added=this.changed?this.diff.added:{},e.removed=this.changed?this.diff.removed:{},e.changed=this.changed?this.diff.changed:{},f(this.oldValues,t)},reset:function(e){j||!e&&!this.diff||(this.oldObject=f(this.object)),this.changed=!1,this.diff=void 0,this.oldValues=void 0}},v.prototype={check:function(e){var t;if(j){if(!e)return!1;var n={},i=m(this.array,e,n);t=O(this.array,i,n)}else t=k(this.array,0,this.array.length,this.oldArray,0,this.oldArray.length);return t.length?(this.splices=t,this.changed=!0,!0):!1},summarize:function(e){e.splices=this.splices?this.splices:[]},reset:function(e){j||!e&&!this.splices||(this.oldArray=this.array.slice()),this.changed=!1,this.splices=void 0}};var P=!1;try{var D=Function("","return true;");P=D()}catch(N){}var L;L=j?function(){var e;return this.path.walkPropertiesFrom(this.object,function(t,n,r){if(r===this.path.length)return e=n,void 0;if(0!==r){var o=this.observed[r-1];if(n!==o){if(void 0!==o){this.observed[r-1]=o=void 0;for(var a=!1,s=0;this.observed.length>s;s++)if(this.observed[s]===o){a=!0;break}a||this.internal.removePathTracker(o,this)}i(n)&&(this.observed[r-1]=o=n,this.internal.addPathTracker(o,this))}}},this),this.isChanged(e)}:P?function(){if(!this.checkFunc){var e="",t="obj",n=this.path.length;e+="if (obj";for(var i=0;n-1>i;i++){var r='["'+this.path[i]+'"]';t+=r,e+=" && "+t}e+=") ",t+='["'+this.path[n-1]+'"]',e+="return "+t+"; else return undefined;",this.checkFunc=Function("obj",e)}return this.isChanged(this.checkFunc(this.object))}:function(){var e;return this.path.walkPropertiesFrom(this.object,function(t,n,i){i===this.path.length&&(e=n)},this),this.isChanged(e)},g.prototype={check:L,isChanged:function(e){return this.changed||(this.oldValue=this.value),this.value=e,this.changed=this.oldValue!==this.value},setValue:function(e){var t=u(this.object,this.path,e);return t?(this.isChanged(e),t):!1},summarize:function(e,t){e.pathChanged[this.pathString]=this.value,t[this.pathString]=this.oldValue},reset:function(e){e&&this.check(),this.oldValue=void 0,this.changed=!1},destroy:function(){this.object=void 0,this.reset(!0)}},b.prototype={observeObject:function(){this.objectTracker=this.objectTracker||new p(this.object)},unobserveObject:function(){this.objectTracker=void 0,this.destroyIfEmpty()},observeArray:function(){this.arrayTracker=this.arrayTracker||new v(this.object)},unobserveArray:function(){this.arrayTracker=void 0,this.destroyIfEmpty()},addPathTracker:function(e,t){this.pathTrackers||(this.pathTrackers=[],this.pathTrackerMap={}),t&&(this.pathTrackerMap[t]=e),this.pathTrackers.push(e)},removePathTracker:function(e){this.pathTrackers&&(this.pathTrackers.splice(this.pathTrackers.indexOf(e),1),this.pathTrackers.length||(this.pathTrackers=void 0),this.destroyIfEmpty())},observePath:function(e,t){var n,i=""+e;return this.pathTrackers&&this.pathTrackerMap&&(n=this.pathTrackerMap[i]),n?n.check():(n=new g(this.object,e,i,this.internal),this.addPathTracker(n,i)),t?n.bound=!0:n.reporting=!0,n},unobservePath:function(e,t){if(this.pathTrackerMap){var n=""+e,i=this.pathTrackerMap[n];i&&(t?i.bound=t:i.reporting=!1,i.bound||i.reporting||(i.destroy(),delete this.pathTrackerMap[n],Object.keys(this.pathTrackerMap).length||(this.pathTrackerMap=void 0),this.pathTrackers.splice(this.pathTrackers.indexOf(i),1),this.pathTrackers.length||(this.pathTrackers=void 0),this.destroyIfEmpty()))}},connect:function(){j&&Object.observe(this.object,this.internal.callback),this.reset(!0)},disconnect:function(){j&&Object.unobserve(this.object,this.internal.callback)},destroyIfEmpty:function(){this.objectTracker||this.arrayTracker||this.pathTrackers||(this.internal.removeObjectObserver(this.object),this.destroy())},destroy:function(){this.disconnect(),this.internal=void 0},addChangeRecord:function(e){this.changeRecords||(this.changeRecords=[]),this.changeRecords.push(e)},checkPathValues:function(){if(this.internal&&this.pathTrackers){for(var e=!1,t=0;this.pathTrackers.length>t;t++){var n=this.pathTrackers[t];if(n.check()){var i=this.object===n.object,r=i?this:this.internal.getOrCreateObjectObserver(n.object);r.addDirtyPath(n),i||this.internal.activeObservers.add(r),n.variable&&(e=!0)}}return e}},checkObjectsAndArrays:function(){this.internal&&(this.objectTracker&&this.objectTracker.check(this.changeRecords),this.arrayTracker&&this.arrayTracker.check(this.changeRecords))},addDirtyPath:function(e){this.dirtyPathTrackers||(this.dirtyPathTrackers=new Set),this.dirtyPathTrackers.add(e)},produceSummary:function(){if(this.objectTracker&&this.objectTracker.changed||this.arrayTracker&&this.arrayTracker.changed||this.dirtyPathTrackers){var e,t={object:this.object};(this.objectTracker||this.pathTrackerMap)&&(e={},t.getOldValue=function(t){return e[t]}),this.pathTrackerMap&&(t.pathChanged={});var n=!1;return this.objectTracker&&(this.objectTracker.summarize(t,e),n=n||this.objectTracker.changed),this.arrayTracker&&(this.arrayTracker.summarize(t),n=n||this.arrayTracker.changed),this.dirtyPathTrackers&&this.dirtyPathTrackers.forEach(function(i){i.changed&&i.reporting&&(i.summarize(t,e),n=!0)
}),n?t:void 0}},reset:function(e){this.objectTracker&&this.objectTracker.reset(e),this.arrayTracker&&this.arrayTracker.reset(e);var t=e?this.pathTrackers:this.dirtyPathTrackers;t&&t.forEach(function(t){t.reset(e)}),this.changeRecords=void 0,this.dirtyPathTrackers=void 0}};var V={"new":!0,updated:!0,deleted:!0},B=0,I=1,H=2,R=3;e.ChangeSummary=c,e.ChangeSummary.CallbackRouter=C}(this);var createObject="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n};if("boolean"!=typeof document.createElement("div").hidden){Object.defineProperty(HTMLElement.prototype,"hidden",{get:function(){return this.hasAttribute("hidden")},set:function(e){e?this.setAttribute("hidden",""):this.removeAttribute("hidden")},enumerable:!0,configurable:!0});var styleElement=document.createElement("style");styleElement.textContent="[hidden] { display: none }",document.head.appendChild(styleElement)}var SideTable;"undefined"!=typeof WeakMap?SideTable=WeakMap:(SideTable=function(e){this.name="__$"+e+"$__"},SideTable.prototype={set:function(e,t){Object.defineProperty(e,this.name,{value:t,writable:!0})},get:function(e){return e[this.name]},"delete":function(e){this.set(e,void 0)}}),SideTableInherit.prototype={set:function(e,t){this.map.set(e,t)},get:function(e){if(null===e)return void 0;var t=this.map.get(e);return void 0!==t?t:this.get(Object.getPrototypeOf(e))},"delete":function(e){this.map.delete(e)}},this.Model=function(){var e=new ChangeSummary.CallbackRouter,t=[],n=!1;return{enqueue:function(e){t.push(e)},notifyChanges:function(){if(!n){for(n=!0,e.deliver();t.length>0;){var i=t.shift();i()}n=!1}},getValueAtPath:ChangeSummary.getValueAtPath,setValueAtPath:ChangeSummary.setValueAtPath,observeObject:e.observeObject.bind(e),unobserveObject:e.unobserveObject.bind(e),observeArray:e.observeArray.bind(e),unobserveArray:e.unobserveArray.bind(e),observePath:e.observePath.bind(e),unobservePath:e.unobservePath.bind(e),bind:e.bind.bind(e),unbind:e.unbind.bind(e)}}();var ScriptValueBinding,DelegatedValueBinding;(function(){"use strict";function e(e){return Object(e)===e}function t(e){return e>>>0}function n(e){return"function"==typeof e}function i(e){if(!e)throw Error("Assertion failed")}ScriptValueBinding=function(e,t,n){this.model_=null,this.path_=t,this.observer_=n,this.boundCallback_=this.scriptPropertyChanged.bind(this),this.setModel(e)},ScriptValueBinding.prototype={unbind:function(){Model.unobservePath(this.model_,this.path_,this.boundCallback_)},scriptPropertyChanged:function(t){e(t)&&t.mutation||this.value_!==t&&(this.value_=t,this.observer_.valueChanged(this))},setModel:function(e){Model.unobservePath(this.model_,this.path_,this.boundCallback_),this.model_=e;var t=this.value_;return this.value_=Model.observePath(this.model_,this.path_,this.boundCallback_),this.value_!==t},get value(){return this.value_},set value(e){Model.setValueAtPath(this.model_,this.path_,e)}},DelegatedValueBinding=function(e,t,n,i,r){this.observer_=r,this.bindingText_=n,this.type_=i,this.paths_=[],this.bindings_=[],this.toSourceFunction_=null,this.toTargetFunction_=null,this.setDelegate(e,t)};var r=1,o=2;DelegatedValueBinding.Type={ONE_WAY:r,TWO_WAY:o},DelegatedValueBinding.prototype={unbind:function(){this.bindings_.forEach(function(e){e.unbind()})},valueChanged:function(){this.computeValue()&&this.observer_.valueChanged(this)},setModel:function(e){var t=!1;return this.bindings_.forEach(function(n){t=n.setModel(e)||t}),t?this.computeValue():!1},setDelegate:function(e,t){this.paths_=[],this.bindings_=[],this.constructDelegate(t)||this.paths_.push(this.bindingText_);for(var n=0;this.paths_.length>n;n++)this.bindings_.push(new ScriptValueBinding(e,this.paths_[n],this));return this.computeValue()},set value(e){i(this.type_===o),this.bindings_[0].value=this.invokeToSource(e)},get value(){return this.value_},constructDelegate:function(i){if(!i||!n(i))return!1;var r=i(this.bindingText_);if(!e(r))return!1;var a=r[0];if(!e(a))return!1;var s=t(a.length);if(!s)return!1;for(var c=0;s>c;c++){var u=a[c];if("string"!=typeof u)return this.paths_=[],!1;this.paths_.push(u)}var h=r[1];n(h)&&(this.toTargetFunction_=h);var l=r[2];return this.type_===o&&n(l)&&(this.toSourceFunction_=l),!0},invokeToTarget:function(){if(!this.toTargetFunction_)return this.bindings_[0].value;i(n(this.toTargetFunction_));var e=this.bindings_.map(function(e){return e.value});return this.toTargetFunction_.apply(null,e)},invokeToSource:function(e){return this.toSourceFunction_?(i(n(this.toSourceFunction_)),this.toSourceFunction_(e)):e},computeValue:function(){var e=this.invokeToTarget();return this.value_===e?!1:(this.value_=e,!0)}}})();var TextReplacementsBinding=function(){"use strict";function e(e){if(!e)throw Error("Assertion failed")}function t(e,t){this.type=e,this.value=t}function n(e){for(var n=[],i=e.length,r=0,s=0;i>s;){if(r=e.indexOf("{{",s),0>r){n.push(new t(o,e.slice(s)));break}if(r>0&&r>s&&n.push(new t(o,e.slice(s,r))),s=r+2,r=e.indexOf("}}",s),0>r){var c=e.slice(s-2),u=n[n.length-1];u&&u.type==o?u.value+=c:n.push(new t(o,c));break}var h=e.slice(s,r).trim();n.push(new t(a,h)),s=r+2}return n}function i(e,t,i,r){this.observer_=r,this.value_="",this.bindingText_=i,this.bindings_=[],this.tokens_=n(i),this.bindPlaceHolders(e,t),this.computeValue()}var r=DelegatedValueBinding.Type.ONE_WAY,o=0,a=1;return i.prototype={unbind:function(){this.bindings_.forEach(function(e){e.unbind()})},get value(){return this.value_},valueIsSimpleNull:function(){return 1===this.tokens_.length&&1===this.bindings_.length&&null===this.bindings_[0].value},setModel:function(e){for(var t=!1,n=0;this.bindings_.length>n;n++)t=this.bindings_[n].setModel(e)||t;return t?this.computeValue():!1},setDelegate:function(e,t){for(var n=!1,i=0;this.bindings_.length>i;i++)n=this.bindings_[i].setDelegate(e,t)||n;return n&&this.computeValue(),n},get bindingText(){return this.bindingText_},valueChanged:function(){this.computeValue()&&this.observer_.valueChanged(this)},computeValue:function(){for(var t,n="",i=this.tokens_,r=this.bindings_,a=0,s=0;this.tokens_.length>s;s++){var c=i[s];c.type===o?n+=c.value:(e(this.bindings_.length>a),t=r[a++].value,void 0!==t&&(n+=t))}return n!==this.value_?(this.value_=n,!0):!1},bindPlaceHolders:function(e,t){for(var n=0;this.tokens_.length>n;n++)this.tokens_[n].type===a&&this.bindings_.push(new DelegatedValueBinding(e,t,this.tokens_[n].value,r,this))}},i}(),ElementAttributeBindings=function(){"use strict";function e(e,t,n){this.element_=e,this.attributeName_=t,this.binding_=new TextReplacementsBinding(e.model,e.modelDelegate,n,this)}function t(){this.attributeBindings_=Object.create(null)}return e.prototype={unbind:function(){this.binding_.unbind()},modelChanged:function(e){this.binding_.setModel(e)&&this.valueChanged(this.binding_)},modelDelegateChanged:function(e){this.binding_.setDelegate(this.element_.model,e)&&this.valueChanged(this.binding_)},valueChanged:function(e){e.valueIsSimpleNull()?this.element_.removeAttribute(this.attributeName_):this.element_.setAttribute(this.attributeName_,e.value)},fire:function(){this.valueChanged(this.binding_)},get bindingText(){return this.binding_.bindingText}},t.prototype={addBinding:function(t,n,i){this.removeBinding(n);var r=new e(t,n,i);this.attributeBindings_[n]=r,r.fire()},removeBinding:function(e){var t=this.attributeBindings_[e];t&&(t.unbind(),delete this.attributeBindings_[e])},modelChanged:function(e){for(var t in this.attributeBindings_)this.attributeBindings_[t].modelChanged(e)},modelDelegateChanged:function(e){for(var t in this.attributeBindings_)this.attributeBindings_[t].modelDelegateChanged(e)},bindingText:function(e){var t=this.attributeBindings_[e];return t?t.bindingText:null}},t}(),modelChangedTable=new SideTableInherit("modelChanged"),modelDelegateChangedTable=new SideTableInherit("modelDelegateChanged");(function(){"use strict";function e(e,t){var n=w.get(this);n||(n=new ElementAttributeBindings,w.set(this,n)),n.addBinding(this,e,t)}function t(e){var t=w.get(this);t&&t.removeBinding(e)}function n(e){return{valueChanged:function(t){m(e,t)}}}function i(e){this.removeBinding();var t=new TextReplacementsBinding(this.model,this.modelDelegate,e,n(this));T.set(this,t),m(this,t)}function r(){var e=T.get(this);e&&(e.unbind(),T.delete(this))}function o(e){return void 0!==y.get(e)}function a(e){return void 0!==_.get(e)}function s(e){return void 0!==w.get(e)||void 0!==T.get(e)}function c(){s(this)&&Model.enqueue(g.bind(this));for(var e,t=this.firstChild;t;t=t.nextSibling)!o(t)&&(e=modelChangedTable.get(t))&&e.call(t)}function u(){s(this)&&Model.enqueue(b.bind(this));for(var e,t=this.firstChild;t;t=t.nextSibling)!o(t)&&(e=modelDelegateChangedTable.get(t))&&e.call(t)}function h(e){return function(){for(var t=this;t;t=t.parentNode){var n=e.get(t);if(void 0!==n)return n}return void 0}}function l(e){var t=e.target;o(t)||modelChangedTable.get(t).call(t)}function d(e){o(e)||a(e)?(e.addEventListener("DOMNodeInserted",l,!0),e.addEventListener("DOMNodeRemoved",l,!0)):(e.removeEventListener("DOMNodeInserted",l,!0),e.removeEventListener("DOMNodeRemoved",l,!0))}function f(e){var t=y.get(this);t!==e&&(y.set(this,e),d(this),modelChangedTable.get(this).call(this,this))}function p(e){var t=_.get(this);t!==e&&(_.set(this,e),d(this),modelDelegateChangedTable.get(this).call(this,this))}function v(e,t){return{get:e,set:t,enumerable:!0,configurable:!0}}function g(){var e=w.get(this);e&&e.modelChanged(this.model);var t=T.get(this);t&&t.setModel(this.model)&&m(this,t)}function b(){var e=w.get(this);e&&e.modelDelegateChanged(this.modelDelegate);var t=T.get(this);t&&t.setDelegate(this.model,this.modelDelegate)&&m(this,t)}function m(e,t){e.data=t.value}var y=new SideTable("model"),_=new SideTable("modelDelegate"),T=new SideTable("textContentBinding"),w=new SideTable("attributeBindings"),k={model:v(h(y),f),modelDelegate:v(h(_),p)};[Element,Text,DocumentFragment].forEach(function(e){Object.defineProperties(e.prototype,k),modelChangedTable.set(e.prototype,c),modelDelegateChangedTable.set(e.prototype,u)}),Element.prototype.addBinding=e,Element.prototype.removeBinding=t,Text.prototype.addBinding=i,Text.prototype.removeBinding=r,Object.defineProperty(Attr.prototype,"bindingText",v(function(){var e=this.ownerElement;if(!e)return null;var t=w.get(e);return t?t.bindingText(this.name):null})),Object.defineProperty(Text.prototype,"bindingText",v(function(){var e=T.get(this);return e?e.bindingText:null}))})(),function(){"use strict";function e(e){switch(e.type){case"checkbox":return"click";case"radio":case"select-multiple":case"select-one":return"change";default:return"input"}}function t(t,n){this.element_=t,this.path_=n,this.lastValue_=void 0,this.binding_=new DelegatedValueBinding(t.model,t.modelDelegate,n,c,this),this.boundUpdateBinding_=this.updateBinding.bind(this),this.element_.addEventListener(e(this.element_),this.boundUpdateBinding_,!0)}function n(e,n){t.call(this,e,n),this.valueChanged(this.binding_)}function i(e){return e.ownerDocument.contains(e)}function r(e){if(!i(e))return[];if(e.form)return u(e.form.elements,function(t){return t!=e&&"INPUT"==t.tagName&&"radio"==t.type&&t.name==e.name});var t=e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]');return u(t,function(t){return t!=e&&!t.form})}function o(e,n){t.call(this,e,n),this.valueChanged(this.binding_)}function a(){var e=h.get(this);e&&e.setModel(this.model);var t=l.get(this);t&&t.setModel(this.model)}function s(){var e=h.get(this);e&&e.setDelegate(this.model,this.modelDelegate);var t=l.get(this);t&&t.setDelegate(this.model,this.modelDelegate)}var c=DelegatedValueBinding.Type.TWO_WAY;t.prototype={unbind:function(){this.binding_.unbind(),this.element_.removeEventListener(e(this.element_),this.boundUpdateBinding_,!0)},setModel:function(e){this.binding_.setModel(e)&&this.valueChanged(this.binding_)},setDelegate:function(e,t){this.binding_.setDelegate(e,t)&&this.valueChanged(this.binding_)}},n.prototype=createObject({__proto__:t.prototype,valueChanged:function(e){var t=e.value,n="";null!=t&&(n=t+""),n!==this.lastValue_&&(this.lastValue_=n,this.element_.value=n)},updateBinding:function(){var e=this.element_.value;e!==this.lastValue_&&(this.binding_.value=e,Model.notifyChanges())}});var u=Array.prototype.filter.call.bind(Array.prototype.filter);o.prototype=createObject({__proto__:t.prototype,valueChanged:function(e){var t=e.value,n=Boolean(t);n!==this.lastValue_&&(this.lastValue_=n,this.element_.checked=n)},updateBinding:function(){var e=this.element_.checked;e!==this.lastValue_&&(this.binding_.value=e,"INPUT"===this.element_.tagName&&"radio"===this.element_.type&&r(this.element_).forEach(function(e){var t=l.get(e);t&&(t.binding_.value=!1)}),Model.notifyChanges())}});var h=new SideTable("valueBinding"),l=new SideTable("checkedBinding");Object.defineProperty(HTMLInputElement.prototype,"checkedBinding_",{get:function(){return l.get(this)},set:function(e){l.set(this,e)}}),HTMLInputElement.prototype.addValueBinding=function(e){this.removeValueBinding(),h.set(this,new n(this,e))},HTMLInputElement.prototype.removeValueBinding=function(){var e=h.get(this);e&&(e.unbind(),h.delete(this))},HTMLInputElement.prototype.addCheckedBinding=function(e){this.removeCheckedBinding(),l.set(this,new o(this,e))},HTMLInputElement.prototype.removeCheckedBinding=function(){l.get(this)&&(l.get(this).unbind(),l.delete(this))},modelChangedTable.set(HTMLInputElement.prototype,function(){modelChangedTable.get(Element.prototype).call(this),(h.get(this)||l.get(this))&&Model.enqueue(a.bind(this))}),modelDelegateChangedTable.set(HTMLInputElement.prototype,function(){modelDelegateChangedTable.get(Element.prototype).call(this),(h.get(this)||l.get(this))&&Model.enqueue(s.bind(this))})}(),function(e){"use strict";function t(e){if(!e)throw Error("Assertion failed")}function n(e){return e.querySelectorAll(V)}function i(e){return N[e.tagName]&&e.hasAttribute("template")}function r(e){return"TEMPLATE"==e.tagName||i(e)}function o(e){return L&&"TEMPLATE"==e.tagName}function a(e){function t(e){HTMLTemplateElement.decorate(e)||a(e.content)}var i=n(e);r(e)&&t(e),P(i,t)}function s(e,t){Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}function c(e){if(!e.defaultView)return e;var t=H.get(e);if(!t){for(t=e.implementation.createHTMLDocument("");t.lastChild;)t.removeChild(t.lastChild);H.set(e,t)}return t}function u(e){for(var t=e.cloneNode(!1),n=e.attributes,i=n.length;i-->0;){var r=n[i];D[r.name]?t.removeAttribute(r.name):e.removeAttribute(r.name)}return t}function h(e){var t=e.content;if(i(e)){for(var n,r=u(e);n=e.firstChild;)r.appendChild(n);t.appendChild(r)}else for(var n;n=e.firstChild;)t.appendChild(n)}function l(e){"TEMPLATE"===e.tagName?L||(B?e.__proto__=HTMLTemplateElement.prototype:s(e,HTMLTemplateElement.prototype)):(s(e,HTMLTemplateElement.prototype),Object.defineProperty(e,"content",F))}function d(e){var t=e.ref?e.ref.content:e.content;return y(t)}function f(e,n){t(e.indexOf("{{")>=0),t(e.indexOf("}}")>=0);var i=n+2,r=e.indexOf("}}",i);return e.slice(i,r).trim()}function p(e){return"radio"===e.type||"checkbox"===e.type}function v(e){if(t(e),e.hasAttributes())for(var n=0;e.attributes.length>n;n++){var i=e.attributes[n],r=i.value.indexOf("{{");if(-1!==r&&-1!==i.value.indexOf("}}",r))if("INPUT"===e.tagName)if("value"==i.name){var o=i.value;e.removeAttribute("value"),e.addValueBinding(f(o,r))}else if("checked"==i.name&&p(e)){var o=i.value;e.removeAttribute("checked"),e.addCheckedBinding(f(o,r))}else e.addBinding(i.name,i.value);else e.addBinding(i.name,i.value)}}function g(e){t(e);var n=e.data.indexOf("{{");-1!==n&&e.data.indexOf("}}",n+2)&&e.addBinding(e.data)}function b(e){t(e),e.nodeType===Node.ELEMENT_NODE?v(e):e.nodeType===Node.TEXT_NODE&&g(e);for(var n=e.firstChild;n;n=n.nextSibling)b(n)}function m(e){switch(e.nodeType){case Node.TEXT_NODE:e.removeBinding();break;case Node.ELEMENT_NODE:"INPUT"===e.tagName&&(e.removeValueBinding(),e.removeCheckedBinding());for(var t=e.attributes.length,n=0;t>n;n++)e.removeBinding(e.attributes[n])}for(var i=e.firstChild;i;i=i.nextSibling)m(i)}function y(e){var t=e.cloneNode(!1);r(t)&&HTMLTemplateElement.decorate(t,e);for(var n=e.firstChild;n;n=n.nextSibling)t.appendChild(y(n));return t}function _(e,t){if(r(t)){var n=z.get(t);n&&z.delete(t)}e.removeChild(t),m(t),t.model=t.modelDelegate=void 0}function T(e,t){if(this.template_=e,this.previousTerminator_=null,this.previousIndex_=-1,this.terminator_=e,this.index_=0,t)for(;t-->0;)this.next()}function w(e,t,n){this.templateElement_=e,this.binding_=new DelegatedValueBinding(e.model,e.modelDelegate,t,W,this),this.bindingText_=t,this.isIterate_=n,this.iteratedValue=void 0,this.observing=!1,this.instanceCount=0,this.boundHandleSplices=this.handleSplices.bind(this),this.valueChanged(this.binding_)}function k(e){var t=z.get(e);return t?t.instanceCount:0}function E(e){var t,n=!1;e.parentNode&&e.ownerDocument.defaultView&&(t=e.getAttribute("instantiate"),null===t&&(n=!0,t=e.getAttribute("iterate")));var i=z.get(e);i&&i.bindingText===e.bindingText&&i.isIterate===n||(i&&(i.clear(),z.delete(e)),null!=t&&(i=new w(e,t,n),z.set(e,i)))}function O(){var e=z.get(this);e&&e.setModel(this.model)}function C(){var e=z.get(this);e&&e.setDelegate(this.model,this.modelDelegate)}function j(){this.instanceTerminatorCount_=0}function x(e){var t=q.get(e);return t||(t=new j,q.set(e,t)),t}function M(e){x(e).incrementInstanceTerminatorCount()}function S(e){x(e).decrementInstanceTerminatorCount()}function A(e){var t=q.get(e);return t?t.instanceTerminatorCount():0}var P=Array.prototype.forEach.call.bind(Array.prototype.forEach),D={template:!0,iterate:!0,instantiate:!0,ref:!0},N={THEAD:!0,TBODY:!0,TFOOT:!0,TH:!0,TR:!0,TD:!0,COLGROUP:!0,COL:!0,OPTION:!0},L="undefined"!=typeof HTMLTemplateElement,V="template, "+Object.keys(N).map(function(e){return e.toLowerCase()+"[template]"}).join(", ");document.addEventListener("DOMContentLoaded",function(){a(document),Model.notifyChanges()},!1),L||(e.HTMLTemplateElement=function(){throw TypeError("Illegal constructor")});var B="__proto__"in{},I=new SideTable("templateContents"),H=new SideTable("templateContentsOwner"),R=new SideTable("templateInstanceRef");HTMLTemplateElement.decorate=function(e,t){if(e.templateIsDecorated_)return!1;if(e.templateIsDecorated_=!0,l(e),Model.enqueue(E.bind(null,e)),!o(e)){var n=c(e.ownerDocument);I.set(e,n.createDocumentFragment())}return t?(R.set(e,t),!0):(o(e)?a(e.content):h(e),!0)},HTMLTemplateElement.bootstrap=a;var U=e.HTMLUnknownElement||HTMLElement,F={get:function(){return I.get(this)},enumerable:!0,configurable:!0};L||(HTMLTemplateElement.prototype=Object.create(U.prototype),Object.defineProperty(HTMLTemplateElement.prototype,"content",F)),s(HTMLTemplateElement.prototype,{createInstance:function(e,t){return d(this,e,t)},get instantiate(){return this.getAttribute("instantiate")},set instantiate(e){var t=this.instantiate;null==e?this.removeAttribute("instantiate"):this.setAttribute("instantiate",e),e!=t&&(this.removeAttribute("iterate"),Model.enqueue(E.bind(null,this)))},get iterate(){return this.getAttribute("iterate")},set iterate(e){var t=this.iterate;null==e?this.removeAttribute("iterate"):this.setAttribute("iterate",e),e!=t&&(this.removeAttribute("instantiate"),Model.enqueue(E.bind(null,this)))},get ref(){var e,t=this.getAttribute("ref");return t&&(e=this.ownerDocument.getElementById(t)),e||(e=R.get(this)),e||null}}),T.prototype={next:function(){for(this.previousTerminator_=this.terminator_,this.previousIndex_=this.index_,this.index_++;this.index_>A(this.terminator_);)this.index_-=A(this.terminator_),this.terminator_=this.terminator_.nextSibling,"TEMPLATE"===this.terminator_.tagName&&(this.index_+=k(this.terminator_))},abandon:function(){t(k(this.template_)),t(A(this.terminator_)),t(this.index_),S(this.terminator_),this.index_--},insert:function(e){t(this.template_.parentNode),this.previousTerminator_=this.terminator_,this.previousIndex_=this.index_,this.index_++;for(var n=d(this.template_),i=n.firstChild;i;i=i.nextSibling)i.model=e,i.modelDelegate=this.template_.parentNode.modelDelegate;if(b(n),this.terminator_=n.lastChild||this.previousTerminator_,this.template_.parentNode.insertBefore(n,this.previousTerminator_.nextSibling),M(this.terminator_),this.terminator_!==this.previousTerminator_)for(;A(this.previousTerminator_)>this.previousIndex_;)S(this.previousTerminator_),M(this.terminator_)},remove:function(){if(t(-1!==this.previousIndex_),t(this.previousTerminator_&&(this.previousIndex_>0||this.previousTerminator_===this.template_)),t(this.terminator_&&this.index_>0),t(this.template_.parentNode),t(k(this.template_)),this.previousTerminator_===this.terminator_)return t(this.index_==this.previousIndex_+1),S(this.terminator_),this.terminator_=this.template_,this.previousTerminator_=null,this.previousIndex_=-1,void 0;S(this.terminator_);for(var e=this.template_.parentNode;this.previousTerminator_.nextSibling!==this.terminator_;)_(e,this.previousTerminator_.nextSibling);_(e,this.terminator_),this.terminator_=this.previousTerminator_,this.index_=this.previousIndex_,this.previousTerminator_=null,this.previousIndex_=-1}};var W=DelegatedValueBinding.Type.ONE_WAY;w.prototype={get bindingText(){return this.bindingText_},get isIterate(){return this.isIterate_},valueChanged:function(){this.clear(),null!=this.binding_.value&&(!this.isIterate_||Array.isArray(this.binding_.value))&&(this.iteratedValue=this.isIterate_?this.binding_.value:[this.binding_.value],this.isIterate_&&(Model.observeArray(this.iteratedValue,this.boundHandleSplices),this.observing=!0),this.handleSplices([{index:0,addedCount:this.iteratedValue.length,removed:[]}]))},handleSplices:function(e){e.forEach(function(e){e.removed.forEach(function(){var t=new T(this.templateElement_,e.index+1);t.remove(),this.instanceCount--},this);for(var t=e.index;e.index+e.addedCount>t;t++){var n=new T(this.templateElement_,t);n.insert(this.iteratedValue[t]),this.instanceCount++}},this)},setModel:function(e){return this.binding_.setModel(e)?(this.valueChanged(this.binding_),!0):!1},setDelegate:function(e,t){return this.binding_.setDelegate(e,t)?(this.valueChanged(this.binding_),!0):!1},clear:function(){if(this.observing&&(Model.unobserveArray(this.iteratedValue,this.boundHandleSplices),this.observing=!1),this.iteratedValue=void 0,this.instanceCount){for(var e=0;this.instanceCount>e;e++){var t=new T(this.templateElement_,1);t.remove()}this.instanceCount=0}}};var z=new SideTable("templateIterator");modelChangedTable.set(HTMLTemplateElement.prototype,function(){modelChangedTable.get(Element.prototype).call(this);var e=z.get(this);e&&Model.enqueue(O.bind(this))}),modelDelegateChangedTable.set(HTMLTemplateElement.prototype,function(){modelDelegateChangedTable.get(Element.prototype).call(this);var e=z.get(this);e&&Model.enqueue(C.bind(this))}),j.prototype={instanceTerminatorCount:function(){return this.instanceTerminatorCount_},incrementInstanceTerminatorCount:function(){this.instanceTerminatorCount_++},decrementInstanceTerminatorCount:function(){this.instanceTerminatorCount_--}};var q=new SideTable("instanceTerminatorCount");HTMLTemplateElement.allTemplatesSelectors=V}(this),function(e){"use strict";function t(){}function n(e){this.value=e}function i(){}function r(){}function o(){}function a(){}t.registry={},t.create=function(e,n){var i,r=t.registry[e];return e&&"function"==typeof r&&(i=Object.create(r.prototype),r.apply(i,n)),i},t.registry.toggle=n,n.prototype={toTarget:function(e,t){return e?this.value||t:""},toSource:function(e,t){return(this.value||t)==e}},t.registry.currency=i,i.prototype={pattern:/^\$?([-\d\.]*)$/,toTarget:function(e){var t=Number(e);return isNaN(t)?"NaN":"$"+Number(t).toFixed(2)},toSource:function(e){var t=e.match(this.pattern)||{};return Number(t[1])}},t.registry.number=r,r.prototype={toTarget:function(e){return e+""},toSource:function(e){return Number(e)}},t.registry.absent=o,o.prototype={toTarget:function(e){return e?"object"==typeof e&&"length"in e&&e.length?!0:null:!0}},t.registry.present=a,a.prototype={toTarget:function(e){return!o.prototype.toTarget(e)||null}},e.Transform=t}(window),function(){var e=function(){Model.notifyChanges()};window.dirtyCheck=function(){logFlags.data&&console.group("Model.dirtyCheck()"),e(),logFlags.data&&console.groupEnd()},window.addEventListener("WebComponentsReady",function(){dirtyCheck(),setInterval(e,125)})}();var generateMatcher=function(e){if(e){var t=e[0];if("~"===e)return function(e){return Boolean(e.lightDOM)};if("#"===t)return m=e.slice(1),function(e){return e.id===m};if("*"===e)return function(e){return"#text"!==e.nodeName};if("."===t)return m=e.slice(1),function(e){return e.classList&&e.classList.contains(m)};if("["===t)return m=e.slice(1,-1),function(e){return e.hasAttribute&&e.hasAttribute(m)};var n=e.toLowerCase().split(",");return function(e){return n.indexOf(e.localName)>=0}}},isInsertionPoint=function(e){return{SHADOW:1,CONTENT:1}[e.tagName]},search=function(e,t){for(var n,i=[],r=0;n=e[r];r++)t(n)&&i.push(n),isInsertionPoint(n)||(i=i.concat(_search(n,t)));return i},_search=function(e,t){return search(e.childNodes,t)},localQueryAll=function(e,t){var n=search(e.childNodes,generateMatcher(t));return n},localQuery=function(e,t){return localQueryAll(e,t)[0]};if(function(){var e;window.sinspect=function(t,n){e||(e=window.open("","ShadowDOM Inspector",null,!0),e.document.write(o(""+r)),e.api={shadowize:shadowize}),i(t||wrap(document.body),n)};var t=[],n=function(){var n=e.document,r=n.querySelector("#crumbs");r.textContent="";for(var o,a=0;o=t[a];a++){var s=n.createElement("a");s.href="#",s.textContent=o.localName,s.idx=a,s.onclick=function(e){for(var n;t.length>this.idx;)n=t.pop();i(n.shadow||n,n),e.preventDefault()},r.appendChild(n.createElement("li")).appendChild(s)}},i=function(i,r){var o=e.document;h=[];var a=r||i;t.push(a),n(),o.body.querySelector("#tree").innerHTML="<pre>"+u(i,i.childNodes)+"</pre>"},r=function(){},o=function(e){var t=/\/\*[\w\t\n\r]*([\s\S]*?)[\w\t\n\r]*\*\//,n=(""+e).match(t)[1];return n},a=Array.prototype.forEach.call.bind(Array.prototype.forEach),s={STYLE:1,SCRIPT:1,"#comment":1,TEMPLATE:1},c=function(e){return s[e.nodeName]},u=function(e,t,n){if(c(e))return"";var i=n||"";if(e.localName||11==e.nodeType){var r=e.localName||"shadow-root",o=i+l(e);"content"==r&&(t=e.getDistributedNodes()),o+="<br/>";var s=i+"&nbsp;&nbsp;";a(t,function(e){o+=u(e,e.childNodes,s)}),o+=i,{br:1}[r]||(o+="<tag>&lt;/"+r+"&gt;</tag>",o+="<br/>")}else{var h=e.textContent.trim();o=h?i+'"'+h+'"'+"<br/>":""}return o},h=[],l=function(e){var t="<tag>&lt;",n=e.localName||"shadow-root";return e.webkitShadowRoot||e.shadowRoot?(t+=' <button idx="'+h.length+'" onclick="api.shadowize.call(this)">'+n+"</button>",h.push(e)):t+=n||"shadow-root",e.attributes&&a(e.attributes,function(e){t+=" "+e.name+(e.value?'="'+e.value+'"':"")}),t+="&gt;</tag>"};shadowize=function(){var e=Number(this.attributes.idx.value),t=h[e];t?i(t.webkitShadowRoot||t.shadowRoot,t):(console.log("bad shadowize node"),console.dir(this))}}(),window.templateContent=window.templateContent||function(e){return e.content},window.WrapperElement){var queryPropDefs={querySelector:{value:function(e){return localQuery(this,e)}},querySelectorAll:{value:function(e){return localQueryAll(this,e)}}};Object.defineProperties(WrapperElement.prototype,queryPropDefs),Object.defineProperties(WrapperDocument.prototype,queryPropDefs),Object.defineProperties(WrapperShadowRoot.prototype,queryPropDefs),Object.defineProperties(WrapperElement.prototype,{webkitShadowRoot:{get:function(){return this.shadowRoot}}}),WrapperElement.prototype.webkitCreateShadowRoot=WrapperElement.prototype.createShadowRoot}else window.wrap=function(e){return e},window.createShadowRoot=function(e){return e.webkitCreateShadowRoot()},window.templateContent=function(e){if(!e.content&&!e._content){for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e._content=t}return e.content||e._content};