// Copyright (c) 2012 The Polymer Authors. All rights reserved.
//
// Redistribution and use in source and binary forms, with or without
// modification, are permitted provided that the following conditions are
// met:
//
//    * Redistributions of source code must retain the above copyright
// notice, this list of conditions and the following disclaimer.
//    * Redistributions in binary form must reproduce the above
// copyright notice, this list of conditions and the following disclaimer
// in the documentation and/or other materials provided with the
// distribution.
//    * Neither the name of Google Inc. nor the names of its
// contributors may be used to endorse or promote products derived from
// this software without specific prior written permission.
//
// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
// "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
function PointerGestureEvent(e,t){var n=t||{},r=document.createEvent("Event"),i={bubbles:!0,cancelable:!0};return Object.keys(i).forEach(function(e){e in n&&(i[e]=n[e])}),r.initEvent(e,i.bubbles,i.cancelable),Object.keys(n).forEach(function(e){r[e]=t[e]}),r.preventTap=this.preventTap,r}var SideTable;if("undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?SideTable=WeakMap:function(){var e=Object.defineProperty,t=Object.hasOwnProperty,n=(new Date).getTime()%1e9;SideTable=function(){this.name="__st"+(1e9*Math.random()>>>0)+(n++ +"__")},SideTable.prototype={set:function(t,n){e(t,this.name,{value:n,writable:!0})},get:function(e){return t.call(e,this.name)?e[this.name]:void 0},"delete":function(e){this.set(e,void 0)}}}(),function(){window.templateContent=window.templateContent||function(e){return e.content},window.wrap=window.unwrap=function(e){return e},Object.defineProperties(HTMLElement.prototype,{shadowRoot:{get:function(){return this.webkitShadowRoot}},createShadowRoot:{value:function(){return this.webkitCreateShadowRoot()}}}),window.templateContent=function(e){if(window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(e),!e.content&&!e._content){for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e._content=t}return e.content||e._content}}(),function(e){function t(e){for(var t=e||{},r=1;arguments.length>r;r++){var i=arguments[r];try{for(var o in i)n(o,i,t)}catch(a){}}return t}function n(e,t,n){var i=r(t,e);Object.defineProperty(n,e,i)}function r(e,t){if(e){var n=Object.getOwnPropertyDescriptor(e,t);return n||r(Object.getPrototypeOf(e),t)}}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(e,r)}}),e.mixin=t}(window.Platform),function(e){"use strict";function t(e,t,n){var r="string"==typeof e?document.createElement(e):e.cloneNode(!0);if(r.innerHTML=t,n)for(var i in n)r.setAttribute(i,n[i]);return r}var n=DOMTokenList.prototype.add,r=DOMTokenList.prototype.remove;if(DOMTokenList.prototype.add=function(){for(var e=0;arguments.length>e;e++)n.call(this,arguments[e])},DOMTokenList.prototype.remove=function(){for(var e=0;arguments.length>e;e++)r.call(this,arguments[e])},DOMTokenList.prototype.toggle=function(e,t){1==arguments.length&&(t=!this.contains(e)),t?this.add(e):this.remove(e)},DOMTokenList.prototype.switch=function(e,t){e&&this.remove(e),t&&this.add(t)},NodeList.prototype.forEach=function(e,t){Array.prototype.slice.call(this).forEach(e,t)},HTMLCollection.prototype.forEach=function(e,t){Array.prototype.slice.call(this).forEach(e,t)},!window.performance){var i=Date.now();window.performance={now:function(){return Date.now()-i}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e(function(){t(performance.now())})}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}}()),e.createDOM=t}(window.Platform),window.templateContent=window.templateContent||function(e){return e.content},function(e){e=e||(window.Inspector={});var t;window.sinspect=function(e,r){t||(t=window.open("","ShadowDOM Inspector",null,!0),t.document.write(n),t.api={shadowize:shadowize}),o(e||wrap(document.body),r)};var n=["<!DOCTYPE html>","<html>","  <head>","    <title>ShadowDOM Inspector</title>","    <style>","      body {","      }","      pre {",'        font: 9pt "Courier New", monospace;',"        line-height: 1.5em;","      }","      tag {","        color: purple;","      }","      ul {","         margin: 0;","         padding: 0;","         list-style: none;","      }","      li {","         display: inline-block;","         background-color: #f1f1f1;","         padding: 4px 6px;","         border-radius: 4px;","         margin-right: 4px;","      }","    </style>","  </head>","  <body>",'    <ul id="crumbs">',"    </ul>",'    <div id="tree"></div>',"  </body>","</html>"].join("\n"),r=[],i=function(){var e=t.document,n=e.querySelector("#crumbs");n.textContent="";for(var i,a=0;i=r[a];a++){var s=e.createElement("a");s.href="#",s.textContent=i.localName,s.idx=a,s.onclick=function(e){for(var t;r.length>this.idx;)t=r.pop();o(t.shadow||t,t),e.preventDefault()},n.appendChild(e.createElement("li")).appendChild(s)}},o=function(e,n){var o=t.document;l=[];var a=n||e;r.push(a),i(),o.body.querySelector("#tree").innerHTML="<pre>"+c(e,e.childNodes)+"</pre>"},a=Array.prototype.forEach.call.bind(Array.prototype.forEach),s={STYLE:1,SCRIPT:1,"#comment":1,TEMPLATE:1},u=function(e){return s[e.nodeName]},c=function(e,t,n){if(u(e))return"";var r=n||"";if(e.localName||11==e.nodeType){var i=e.localName||"shadow-root",o=r+d(e);"content"==i&&(t=e.getDistributedNodes()),o+="<br/>";var s=r+"&nbsp;&nbsp;";a(t,function(e){o+=c(e,e.childNodes,s)}),o+=r,{br:1}[i]||(o+="<tag>&lt;/"+i+"&gt;</tag>",o+="<br/>")}else{var l=e.textContent.trim();o=l?r+'"'+l+'"'+"<br/>":""}return o},l=[],d=function(e){var t="<tag>&lt;",n=e.localName||"shadow-root";return e.webkitShadowRoot||e.shadowRoot?(t+=' <button idx="'+l.length+'" onclick="api.shadowize.call(this)">'+n+"</button>",l.push(e)):t+=n||"shadow-root",e.attributes&&a(e.attributes,function(e){t+=" "+e.name+(e.value?'="'+e.value+'"':"")}),t+="&gt;</tag>"};shadowize=function(){var e=Number(this.attributes.idx.value),t=l[e];t?o(t.webkitShadowRoot||t.shadowRoot,t):(console.log("bad shadowize node"),console.dir(this))},e.output=c}(window.Inspector),function(e){"use strict";function t(){function e(e){"splice"===e[0].type&&"splice"===e[1].type&&(t=!0)}if("function"!=typeof Object.observe&&"function"!=typeof Array.observe)return!1;var t=!1,n=[0];return Array.observe(n,e),n[1]=1,n.length=0,Object.deliverChangeRecords(e),t}function n(e){return+e===e>>>0}function r(e){return+e}function i(e){return e===Object(e)}function o(e,t){return e===t?0!==e||1/e===1/t:U(e)&&U(t)?!0:e!==e&&t!==t}function a(e){return"string"!=typeof e?!1:(e=e.replace(/\s/g,""),""==e?!0:"."==e[0]?!1:z.test(e))}function s(e){return""==e.trim()?this:n(e)?(this.push(String(e)),this):(e.split(/\./).filter(function(e){return e}).forEach(function(e){this.push(e)},this),void 0)}function u(e){for(var t=0;K>t&&e.check();)e.report(),t++}function c(e){for(var t in e)return!1;return!0}function l(e){return c(e.added)&&c(e.removed)&&c(e.changed)}function d(e,t){var n={},r={},i={};for(var o in t){var a=e[o];(void 0===a||a!==t[o])&&(o in e?a!==t[o]&&(i[o]=a):r[o]=void 0)}for(var o in e)o in t||(n[o]=e[o]);return Array.isArray(e)&&e.length!==t.length&&(i.length=e.length),{added:n,removed:r,changed:i}}function h(e,t){var n=t||(Array.isArray(e)?[]:{});for(var r in e)n[r]=e[r];return Array.isArray(e)&&(n.length=e.length),n}function p(e){this.callback=e,this.reporting=!0,H&&(this.boundInternalCallback=this.internalCallback.bind(this)),this.valid=!0,f(this),this.connect(),this.sync(!0)}function f(e){$&&(Q.push(e),p._allObserversCount++)}function v(e){if($)for(var t=0;Q.length>t;t++)if(Q[t]===e){Q[t]=void 0,p._allObserversCount--;break}}function m(e,t){this.object=e,p.call(this,t)}function g(e,t){if(!Array.isArray(e))throw Error("Provided object is not an Array");this.object=e,p.call(this,t)}function b(e,t){if(!t.length)return e;if(i(e)){if(R)return E(e,t);var n;return t.walkPropertiesFrom(e,function(e,r,i){i===t.length&&(n=r)}),n}}function y(e,t,n){if(!t.length||!i(e))return!1;var r=!1;return t.walkPropertiesFrom(e,function(e,o,a){i(o)&&a==t.length-1&&(r=!0,o[e]=n)}),r}function w(e){var t="",n="obj",r=e.length;t+="if (obj";for(var i=0;r-1>i;i++){var o='["'+e[i]+'"]';n+=o,t+=" && "+n}return t+=") ",n+='["'+e[r-1]+'"]',t+="return "+n+"; else return undefined;",new Function("obj",t)}function E(e,t){var n=t.toString();return Z[n]||(Z[n]=w(t)),Z[n](e)}function T(t,n,r,o,a){var s=void 0;return n.walkPropertiesFrom(t,function(t,u,c){if(c===n.length)return s=u,void 0;var l=r[c];if(!l||u!==l[0]){if(l)for(var d=0;l.length>d;d++){var h=l[d],p=o.get(h);1==p?(o.delete(h),e.unobserveCount++,Object.unobserve(h,a)):o.set(h,p-1)}if(l=u,i(l)){for(var l=[];i(u);){l.push(u);var p=o.get(u);p?o.set(u,p+1):(o.set(u,1),e.observeCount++,Object.observe(u,a)),u=Object.getPrototypeOf(u)}r[c]=l}}},this),s}function O(e,t,n){if(this.value=void 0,a(t)){var r=new s(t);return r.length?(i(e)&&(this.object=e,this.path=r,H?(this.observed=new Array(r.length),this.observedMap=new Map,this.getPathValue=T):this.getPathValue=b,p.call(this,n)),void 0):(this.value=e,void 0)}}function M(e,t){if("function"==typeof Object.observe){var n=Object.getNotifier(e);return function(r,i){var o={object:e,type:r,name:t};2===arguments.length&&(o.oldValue=i),n.notify(o)}}}function L(e,t,n){for(var r={},i={},o=0;t.length>o;o++){var a=t[o];et[a.type]?(a.name in n||(n[a.name]=a.oldValue),"updated"!=a.type&&("new"!=a.type?a.name in r?(delete r[a.name],delete n[a.name]):i[a.name]=!0:a.name in i?delete i[a.name]:r[a.name]=!0)):(console.error("Unknown changeRecord type: "+a.type),console.error(a))}for(var s in r)r[s]=e[s];for(var s in i)i[s]=void 0;var u={};for(var s in n)if(!(s in r||s in i)){var c=e[s];n[s]!==c&&(u[s]=c)}return{added:r,removed:i,changed:u}}function S(e,t,n,r,i,o){for(var a=o-i+1,s=n-t+1,u=new Array(a),c=0;a>c;c++)u[c]=new Array(s),u[c][0]=c;for(var l=0;s>l;l++)u[0][l]=l;for(var c=1;a>c;c++)for(var l=1;s>l;l++)if(r[i+c-1]===e[t+l-1])u[c][l]=u[c-1][l-1];else{var d=u[c-1][l]+1,h=u[c][l-1]+1;u[c][l]=h>d?d:h}return u}function P(e){for(var t=e.length-1,n=e[0].length-1,r=e[t][n],i=[];t>0||n>0;)if(0!=t)if(0!=n){var o,a=e[t-1][n-1],s=e[t-1][n],u=e[t][n-1];o=u>s?a>s?s:a:a>u?u:a,o==a?(a==r?i.push(tt):(i.push(nt),r=a),t--,n--):o==s?(i.push(it),t--,r=s):(i.push(rt),n--,r=u)}else i.push(it),t--;else i.push(rt),n--;return i.reverse(),i}function C(e,t,n){for(var r=0;n>r;r++)if(e[r]!==t[r])return r;return n}function _(e,t,n){for(var r=e.length,i=t.length,o=0;n>o&&e[--r]===t[--i];)o++;return o}function N(e,t,n){return{index:e,removed:t,addedCount:n}}function x(e,t,n,r,i,o){var a=0,s=0,u=Math.min(n-t,o-i);if(0==t&&0==i&&(a=C(e,r,u)),n==e.length&&o==r.length&&(s=_(e,r,u-a)),t+=a,i+=a,n-=s,o-=s,0==n-t&&0==o-i)return[];if(t==n){for(var c=N(t,[],0);o>i;)c.removed.push(r[i++]);return[c]}if(i==o)return[N(t,[],n-t)];for(var l=P(S(e,t,n,r,i,o)),c=void 0,d=[],h=t,p=i,f=0;l.length>f;f++)switch(l[f]){case tt:c&&(d.push(c),c=void 0),h++,p++;break;case nt:c||(c=N(h,[],0)),c.addedCount++,h++,c.removed.push(r[p]),p++;break;case rt:c||(c=N(h,[],0)),c.addedCount++,h++;break;case it:c||(c=N(h,[],0)),c.removed.push(r[p]),p++}return c&&d.push(c),d}function A(e,t,n,r){return n>t||e>r?-1:t==n||r==e?0:n>e?r>t?t-n:r-n:t>r?r-e:t-e}function k(e,t,n,r){for(var i=N(t,n,r),o=!1,a=0,s=0;e.length>s;s++){var u=e[s];if(u.index+=a,!o){var c=A(i.index,i.index+i.removed.length,u.index,u.index+u.addedCount);if(c>=0){e.splice(s,1),s--,a-=u.addedCount-u.removed.length,i.addedCount+=u.addedCount-c;var l=i.removed.length+u.removed.length-c;if(i.addedCount||l){var n=u.removed;if(i.index<u.index){var d=i.removed.slice(0,u.index-i.index);Array.prototype.push.apply(d,n),n=d}if(i.index+i.removed.length>u.index+u.addedCount){var h=i.removed.slice(u.index+u.addedCount-i.index);Array.prototype.push.apply(n,h)}i.removed=n,u.index<i.index&&(i.index=u.index)}else o=!0}else if(i.index<u.index){o=!0,e.splice(s,0,i),s++;var p=i.addedCount-i.removed.length;u.index+=p,a+=p}}}o||e.push(i)}function I(e,t){for(var i=[],o=0;t.length>o;o++){var a=t[o];switch(a.type){case"splice":k(i,a.index,a.removed.slice(),a.addedCount);break;case"new":case"updated":case"deleted":if(!n(a.name))continue;var s=r(a.name);if(0>s)continue;k(i,s,[a.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(a))}}return i}function D(e,t){var n=[];return I(e,t).forEach(function(t){return 1==t.addedCount&&1==t.removed.length?(t.removed[0]!==e[t.index]&&n.push(t),void 0):(n=n.concat(x(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length)),void 0)}),n}var H=t(),R=!1;try{var j=new Function("","return true;");R=j()}catch(F){}var U=e.Number.isNaN||function(t){return"number"==typeof t&&e.isNaN(t)},B="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n},Y="[$_a-zA-Z]",V="[$_a-zA-Z0-9]",X=Y+"+"+V+"*",G="(?:[0-9]|[1-9]+[0-9]+)",q="(?:"+X+"|"+G+")",W="(?:"+q+")(?:\\."+q+")*",z=new RegExp("^"+W+"$");s.prototype=B({__proto__:[],toString:function(){return this.join(".")},walkPropertiesFrom:function(e,t,n){for(var r,i=0;this.length+1>i;i++)r=this[i],t.call(n,r,e,i),e=i==this.length||null===e||void 0===e?void 0:e[r]}});var K=1e3;p.prototype={valid:!1,internalCallback:function(e){this.valid&&this.reporting&&this.check(e)&&(this.report(),this.testingResults&&(this.testingResults.anyChanged=!0))},close:function(){this.valid&&(this.disconnect(),this.valid=!1,v(this))},deliver:function(e){this.valid&&(H?(this.testingResults=e,Object.deliverChangeRecords(this.boundInternalCallback),this.testingResults=void 0):u(this))},report:function(){if(this.reporting){this.sync(!1);try{this.callback.apply(void 0,this.reportArgs)}catch(e){p._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+e)}this.reportArgs=void 0}},reset:function(){this.valid&&(H&&(this.reporting=!1,Object.deliverChangeRecords(this.boundInternalCallback),this.reporting=!0),this.sync(!0))}};var Q,$=!H||e.forceCollectObservers;$&&(Q=[],p._allObserversCount=0);var J=!1;e.Platform=e.Platform||{},e.Platform.performMicrotaskCheckpoint=function(){if($&&!J){J=!0;var e=0,t={};do{e++;var n=Q;Q=[],t.anyChanged=!1;for(var r=0;n.length>r;r++){var i=n[r];i&&i.valid&&(H?i.deliver(t):i.check()&&(t.anyChanged=!0,i.report()),Q.push(i))}}while(K>e&&t.anyChanged);p._allObserversCount=Q.length,J=!1}},$&&(e.Platform.clearObservers=function(){Q=[]}),m.prototype=B({__proto__:p.prototype,connect:function(){H&&Object.observe(this.object,this.boundInternalCallback)},sync:function(){H||(this.oldObject=h(this.object))},check:function(e){var t,n;if(H){if(!e)return!1;n={},t=L(this.object,e,n)}else n=this.oldObject,t=d(this.object,this.oldObject);return l(t)?!1:(this.reportArgs=[t.added||{},t.removed||{},t.changed||{}],this.reportArgs.push(function(e){return n[e]}),!0)},disconnect:function(){H?this.object&&Object.unobserve(this.object,this.boundInternalCallback):this.oldObject=void 0,this.object=void 0}}),g.prototype=B({__proto__:m.prototype,connect:function(){H&&Array.observe(this.object,this.boundInternalCallback)},sync:function(){H||(this.oldObject=this.object.slice())},check:function(e){var t;if(H){if(!e)return!1;t=D(this.object,e)}else t=x(this.object,0,this.object.length,this.oldObject,0,this.oldObject.length);return t&&t.length?(this.reportArgs=[t],!0):!1}}),g.applySplices=function(e,t,n){n.forEach(function(n){for(var r=[n.index,n.removed.length],i=n.index;n.index+n.addedCount>i;)r.push(t[i]),i++;Array.prototype.splice.apply(e,r)})};var Z={};O.prototype=B({__proto__:p.prototype,connect:function(){},disconnect:function(){this.object=void 0,this.value=void 0,this.sync(!0)},check:function(){return this.value=this.getPathValue(this.object,this.path,this.observed,this.observedMap,this.boundInternalCallback),o(this.value,this.oldValue)?!1:(this.reportArgs=[this.value,this.oldValue],!0)},sync:function(e){e&&(this.value=this.getPathValue(this.object,this.path,this.observed,this.observedMap,this.boundInternalCallback)),this.oldValue=this.value}}),O.getValueAtPath=function(e,t){if(!a(t))return void 0;var n=new s(t);return b(e,n)},O.setValueAtPath=function(e,t,n){if(a(t)){var r=new s(t);y(e,r,n)}};var et={"new":!0,updated:!0,deleted:!0};O.defineProperty=function(e,t,n){var r=n.object,i=new s(n.path),o=M(e,t),a=new O(r,n.path,function(e,t){o&&o("updated",t)});return Object.defineProperty(e,t,{get:function(){return b(r,i)},set:function(e){y(r,i,e)},configurable:!0}),{close:function(){o&&a.deliver(),a.close(),delete e[t]}}};var tt=0,nt=1,rt=2,it=3;e.Observer=p,e.Observer.hasObjectObserve=H,e.ArrayObserver=g,e.ArrayObserver.calculateSplices=function(e,t){return x(e,0,e.length,t,0,t.length)},e.ObjectObserver=m,e.PathObserver=O}(this),function(e){"use strict";function t(e){if(!e)throw new Error("Assertion failed")}function n(e){for(;e.parentNode;)e=e.parentNode;return"function"==typeof e.getElementById?e:null}function r(e){return e.ownerDocument.contains(e)}function i(e,t,n){console.error("Unhandled binding to Node: ",this,e,t,n)}function o(){}function a(){}function s(e,t,n){this.model=e,this.path=t,this.changed=n,this.observer=new PathObserver(this.model,this.path,this.changed),this.changed(this.observer.value)}function u(e){return function(t){e.data=void 0==t?"":String(t)}}function c(e,t,n){if("textContent"!==e)return Node.prototype.bind.call(this,e,t,n);this.unbind("textContent");var r=new s(t,n,u(this));Z.set(this,r)}function l(e){if("textContent"!=e)return Node.prototype.unbind.call(this,e);var t=Z.get(this);t&&(t.dispose(),Z.delete(this))}function d(){this.unbind("textContent"),Node.prototype.unbindAll.call(this)}function h(e,t,n){return n?function(n){n?e.setAttribute(t,""):e.removeAttribute(t)}:function(n){e.setAttribute(t,String(void 0===n?"":n))}}function p(){this.bindingMap=Object.create(null)}function f(e,t,n){var r=et.get(this);r||(r=new p,et.set(this,r)),r.add(this,e,t,n)}function v(e){var t=et.get(this);t&&t.remove(e)}function m(){var e=et.get(this);e&&(et.delete(this),e.removeAll(),Node.prototype.unbindAll.call(this))}function g(e){switch(e.type){case"checkbox":return tt;case"radio":case"select-multiple":case"select-one":return"change";default:return"input"}}function b(e,t,n,r){this.element=e,this.valueProperty=t,this.boundValueChanged=this.valueChanged.bind(this),this.boundUpdateBinding=this.updateBinding.bind(this),this.binding=new s(n,r,this.boundValueChanged),this.element.addEventListener(g(this.element),this.boundUpdateBinding,!0)}function y(e,t,n){b.call(this,e,"value",t,n)}function w(e){if(!r(e))return[];if(e.form)return Q(e.form.elements,function(t){return t!=e&&"INPUT"==t.tagName&&"radio"==t.type&&t.name==e.name});var t=e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]');return Q(t,function(t){return t!=e&&!t.form})}function E(e,t,n){b.call(this,e,"checked",t,n)}function T(e,t,n){switch(this.tagName+"."+e.toLowerCase()){case"INPUT.value":case"TEXTAREA.value":this.unbind("value"),this.removeAttribute("value"),nt.set(this,new y(this,t,n));break;case"INPUT.checked":this.unbind("checked"),this.removeAttribute("checked"),rt.set(this,new E(this,t,n));break;case"SELECT.selectedindex":this.unbind("selectedindex"),this.removeAttribute("selectedindex"),nt.set(this,new L(this,t,n));break;default:return Element.prototype.bind.call(this,e,t,n)}}function O(e){switch(this.tagName+"."+e.toLowerCase()){case"INPUT.value":case"TEXTAREA.value":var t=nt.get(this);t&&(t.unbind(),nt.delete(this));break;case"INPUT.checked":var n=rt.get(this);n&&(n.unbind(),rt.delete(this));break;case"SELECT.selectedindex":var t=nt.get(this);t&&(t.unbind(),nt.delete(this));break;default:return Element.prototype.unbind.call(this,e)}}function M(){switch(this.tagName){case"INPUT":this.unbind("checked");case"TEXTAREA":this.unbind("value");break;case"SELECT":this.unbind("selectedindex")}Element.prototype.unbindAll.call(this)}function L(e,t,n){b.call(this,e,"selectedIndex",t,n)}function S(e){return dt[e.tagName]&&e.hasAttribute("template")}function P(e){return"TEMPLATE"==e.tagName||S(e)}function C(e){return ht&&"TEMPLATE"==e.tagName}function _(e,t){var n=e.querySelectorAll(pt);P(e)&&t(e),K(n,t)}function N(e){function t(e){HTMLTemplateElement.decorate(e)||N(e.content)}_(e,t)}function x(e,t){Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}function A(e){if(!e.defaultView)return e;var t=gt.get(e);if(!t){for(t=e.implementation.createHTMLDocument("");t.lastChild;)t.removeChild(t.lastChild);gt.set(e,t)}return t}function k(e){var t=e.ownerDocument.createElement("template");e.parentNode.insertBefore(t,e);for(var n=e.attributes,r=n.length;r-->0;){var i=n[r];lt[i.name]&&("template"!==i.name&&t.setAttribute(i.name,i.value),e.removeAttribute(i.name))}return t}function I(e,t,n){var r=e.content;if(n)return r.appendChild(t),void 0;for(var i;i=t.firstChild;)r.appendChild(i)}function D(e){"TEMPLATE"===e.tagName?ht||(vt?e.__proto__=HTMLTemplateElement.prototype:x(e,HTMLTemplateElement.prototype)):(x(e,HTMLTemplateElement.prototype),Object.defineProperty(e,"content",wt))}function H(e,t){this.type=e,this.value=t}function R(e){for(var t=[],n=e.length,r=0,i=0;n>i;){if(r=e.indexOf("{{",i),0>r){t.push(new H(Tt,e.slice(i)));break}if(r>0&&r>i&&t.push(new H(Tt,e.slice(i,r))),i=r+2,r=e.indexOf("}}",i),0>r){var o=e.slice(i-2),a=t[t.length-1];a&&a.type==Tt?a.value+=o:t.push(new H(Tt,o));break}var s=e.slice(i,r).trim();t.push(new H(Ot,s)),i=r+2}return t}function j(e,t,n,r,i){var o,a=i&&i[ut];a&&"function"==typeof a&&(o=a(n,r,t,e),o&&(n=o,r="value")),e.bind(t,n,r)}function F(e,t,n,r,i){var o=R(n);if(o.length&&(1!=o.length||o[0].type!=Tt)){if(1==o.length&&o[0].type==Ot)return j(e,t,r,o[0].value,i),void 0;for(var a=new q,s=0;o.length>s;s++){var u=o[s];u.type==Ot&&j(a,s,r,u.value,i)}a.combinator=function(e){for(var t="",n=0;o.length>n;n++){var r=o[n];if(r.type===Tt)t+=r.value;else{var i=e[n];void 0!==i&&(t+=i)}}return t},e.bind(t,a,"value")}}function U(e,n,r){t(e);for(var i={},o=0;e.attributes.length>o;o++){var a=e.attributes[o];i[a.name]=a.value}P(e)&&(""===i[it]&&(i[it]="{{}}"),""===i[ot]&&(i[ot]="{{}}")),Object.keys(i).forEach(function(t){F(e,t,i[t],n,r)})}function B(e,n,r){t(e),e.nodeType===Node.ELEMENT_NODE?U(e,n,r):e.nodeType===Node.TEXT_NODE&&F(e,"textContent",e.data,n,r);for(var i=e.firstChild;i;i=i.nextSibling)B(i,n,r)}function Y(e){if(Mt.delete(e),P(e)){var t=Lt.get(e);t&&(t.abandon(),Lt.delete(e))}e.unbindAll();for(var n=e.firstChild;n;n=n.nextSibling)Y(n)}function V(e,t){var n=e.cloneNode(!1);P(n)&&(HTMLTemplateElement.decorate(n,e),t&&!n.hasAttribute(st)&&n.setAttribute(st,t));for(var r=e.firstChild;r;r=r.nextSibling)n.appendChild(V(r,t));return n}function X(e,t,n){this.firstNode=e,this.lastNode=t,this.model=n}function G(e,t){if(e.firstChild)for(var n=new X(e.firstChild,e.lastChild,t),r=n.firstNode;r;)Mt.set(r,n),r=r.nextSibling}function q(e){this.bindings={},this.values={},this.value=void 0,this.size=0,this.combinator_=e,this.boundResolve=this.resolve.bind(this),this.disposed=!1}function W(e){this.templateElement_=e,this.terminators=[],this.iteratedValue=void 0,this.arrayObserver=void 0,this.boundHandleSplices=this.handleSplices.bind(this),this.inputs=new q(this.resolveInputs.bind(this))}var z,K=Array.prototype.forEach.call.bind(Array.prototype.forEach),Q=Array.prototype.filter.call.bind(Array.prototype.filter);e.Map&&"function"==typeof e.Map.prototype.forEach?z=e.Map:(z=function(){this.keys=[],this.values=[]},z.prototype={set:function(e,t){var n=this.keys.indexOf(e);0>n?(this.keys.push(e),this.values.push(t)):this.values[n]=t},get:function(e){var t=this.keys.indexOf(e);if(!(0>t))return this.values[t]},"delete":function(e){var t=this.keys.indexOf(e);return 0>t?!1:(this.keys.splice(t,1),this.values.splice(t,1),!0)},forEach:function(e,t){for(var n=0;this.keys.length>n;n++)e.call(t||this,this.values[n],this.keys[n],this)}});var $="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n};"function"!=typeof document.contains&&(Document.prototype.contains=function(e){return e===this||e.parentNode===this?!0:this.documentElement.contains(e)});var J;"undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?J=WeakMap:function(){var e=Object.defineProperty,t=Object.hasOwnProperty,n=(new Date).getTime()%1e9;J=function(){this.name="__st"+(1e9*Math.random()>>>0)+(n++ +"__")},J.prototype={set:function(t,n){e(t,this.name,{value:n,writable:!0})},get:function(e){return t.call(e,this.name)?e[this.name]:void 0},"delete":function(e){this.set(e,void 0)}}}(),Node.prototype.bind=i,Node.prototype.unbind=o,Node.prototype.unbindAll=a;var Z=new J("textContentBinding");s.prototype={dispose:function(){this.model&&"function"==typeof this.model.dispose&&this.model.dispose(),this.observer.close()},set value(e){PathObserver.setValueAtPath(this.model,this.path,e)},reset:function(){this.observer.reset()}},Text.prototype.bind=c,Text.prototype.unbind=l,Text.prototype.unbindAll=d;var et=new J("attributeBindings");p.prototype={add:function(e,t,n,r){e.removeAttribute(t);var i="?"==t[t.length-1];i&&(t=t.slice(0,-1)),this.remove(t);var o=new s(n,r,h(e,t,i));this.bindingMap[t]=o},remove:function(e){var t=this.bindingMap[e];t&&(t.dispose(),delete this.bindingMap[e])},removeAll:function(){Object.keys(this.bindingMap).forEach(function(e){this.remove(e)},this)}},Element.prototype.bind=f,Element.prototype.unbind=v,Element.prototype.unbindAll=m;var tt,nt=new J("valueBinding"),rt=new J("checkedBinding");(function(){var e=document.createElement("div"),t=e.appendChild(document.createElement("input"));t.setAttribute("type","checkbox");var n,r=0;t.addEventListener("click",function(){r++,n=n||"click"}),t.addEventListener("change",function(){r++,n=n||"change"});var i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(i),tt=1==r?"change":n})(),b.prototype={valueChanged:function(e){this.element[this.valueProperty]=this.produceElementValue(e)},updateBinding:function(){this.binding.value=this.element[this.valueProperty],this.binding.reset(),this.postUpdateBinding&&this.postUpdateBinding(),Platform.performMicrotaskCheckpoint()},unbind:function(){this.binding.dispose(),this.element.removeEventListener(g(this.element),this.boundUpdateBinding,!0)}},y.prototype=$({__proto__:b.prototype,produceElementValue:function(e){return String(null==e?"":e)}}),E.prototype=$({__proto__:b.prototype,produceElementValue:function(e){return Boolean(e)},postUpdateBinding:function(){"INPUT"===this.element.tagName&&"radio"===this.element.type&&w(this.element).forEach(function(e){var t=rt.get(e);t&&(t.binding.value=!1)})}}),HTMLInputElement.prototype.bind=T,HTMLInputElement.prototype.unbind=O,HTMLInputElement.prototype.unbindAll=M,L.prototype=$({__proto__:b.prototype,valueChanged:function(e){function t(){e>r.element.length&&n--?ft(t):r.element[r.valueProperty]=e}var e=this.produceElementValue(e);if(this.element.length>=e)return this.element[this.valueProperty]=e,void 0;var n=2,r=this;ft(t)},produceElementValue:function(e){return Number(e)}}),HTMLSelectElement.prototype.bind=T,HTMLSelectElement.prototype.unbind=O,HTMLSelectElement.prototype.unbindAll=M,HTMLTextAreaElement.prototype.bind=T,HTMLTextAreaElement.prototype.unbind=O,HTMLTextAreaElement.prototype.unbindAll=M;var it="bind",ot="repeat",at="if",st="syntax",ut="getBinding",ct="getInstanceModel",lt={template:!0,repeat:!0,bind:!0,ref:!0},dt={THEAD:!0,TBODY:!0,TFOOT:!0,TH:!0,TR:!0,TD:!0,COLGROUP:!0,COL:!0,CAPTION:!0,OPTION:!0,OPTGROUP:!0},ht="undefined"!=typeof HTMLTemplateElement,pt="template, "+Object.keys(dt).map(function(e){return e.toLowerCase()+"[template]"}).join(", "),ft=function(){function e(){var e=this;this.value=!1;var t=this.value,i=[],o=!1;this.schedule=function(n){return i.indexOf(n)>=0?!0:o?!1:(i.push(n),t===e.value&&(e.value=!e.value),!0)},new PathObserver(this,"value",function(){o=!0;for(var a=0;i.length>a;a++){var s=i[a];i[a]=void 0,s()}i=[],t=e.value,n=r,r=e,o=!1})}function t(e){n.schedule(e)||r.schedule(e)}var n,r;return n=new e,r=new e,t}();document.addEventListener("DOMContentLoaded",function(){N(document),Platform.performMicrotaskCheckpoint()},!1),ht||(e.HTMLTemplateElement=function(){throw TypeError("Illegal constructor")});var vt="__proto__"in{},mt=new J("templateContents"),gt=new J("templateContentsOwner"),bt=new J("templateInstanceRef");HTMLTemplateElement.decorate=function(e,n){if(e.templateIsDecorated_)return!1;var r=e,i=C(r),o=i,a=!i,s=!1;if(!i&&S(r)&&(t(!n),r=k(e),i=C(r),s=!0),r.templateIsDecorated_=!0,!i){D(r);var u=A(r.ownerDocument);mt.set(r,u.createDocumentFragment())}return n?bt.set(r,n):a?I(r,e,s):o&&N(r.content),!0},HTMLTemplateElement.bootstrap=N;var yt=e.HTMLUnknownElement||HTMLElement,wt={get:function(){return mt.get(this)},enumerable:!0,configurable:!0};ht||(HTMLTemplateElement.prototype=Object.create(yt.prototype),Object.defineProperty(HTMLTemplateElement.prototype,"content",wt));var Et=new J("templateModel");x(HTMLTemplateElement.prototype,{bind:function(e,t,n){switch(e){case it:case ot:case at:var r=Lt.get(this);r||(r=new W(this),Lt.set(this,r)),r.inputs.bind(e,t,n||"");break;default:return Element.prototype.bind.call(this,e,t,n)}},unbind:function(e,t,n){switch(e){case it:case ot:case at:var r=Lt.get(this);if(!r)break;r.inputs.unbind(e);break;default:return Element.prototype.unbind.call(this,e,t,n)}},unbindAll:function(){this.unbind(it),this.unbind(ot),this.unbind(at),Element.prototype.unbindAll.call(this)},createInstance:function(e,t){var n=V(this.ref.content,t);return"function"==typeof HTMLTemplateElement.__instanceCreated&&HTMLTemplateElement.__instanceCreated(n),B(n,e,HTMLTemplateElement.syntax[t]),G(n,e),n},get model(){return Et.get(this)},set model(e){var t=HTMLTemplateElement.syntax[this.getAttribute(st)];Et.set(this,e),B(this,e,t)},get ref(){var e,t=this.getAttribute("ref");if(t){var r=n(this);r&&(e=r.getElementById(t))}if(e||(e=bt.get(this)),!e)return this;var i=e.ref;return i?i:e}});var Tt=0,Ot=1,Mt=new J("templateInstance");Object.defineProperty(Node.prototype,"templateInstance",{get:function(){var e=Mt.get(this);return e?e:this.parentNode?this.parentNode.templateInstance:void 0}}),q.prototype={set combinator(e){this.combinator_=e,this.scheduleResolve()},bind:function(e,t,n){this.unbind(e),this.size++,this.bindings[e]=new s(t,n,function(t){this.values[e]=t,this.scheduleResolve()}.bind(this))},unbind:function(e,t){this.bindings[e]&&(this.size--,this.bindings[e].dispose(),delete this.bindings[e],delete this.values[e],t||this.scheduleResolve())},scheduleResolve:function(){ft(this.boundResolve)},resolve:function(){if(!this.disposed){if(!this.combinator_)throw Error("CompoundBinding attempted to resolve without a combinator");this.value=this.combinator_(this.values)}},dispose:function(){Object.keys(this.bindings).forEach(function(e){this.unbind(e,!0)},this),this.disposed=!0,this.value=void 0}},W.prototype={resolveInputs:function(e){at in e&&!e[at]?this.valueChanged(void 0):ot in e?this.valueChanged(e[ot]):it in e||at in e?this.valueChanged([e[it]]):this.valueChanged(void 0)},valueChanged:function(e){Array.isArray(e)||(e=void 0);var t=this.iteratedValue;this.unobserve(),this.iteratedValue=e,this.iteratedValue&&(this.arrayObserver=new ArrayObserver(this.iteratedValue,this.boundHandleSplices));var n=ArrayObserver.calculateSplices(this.iteratedValue||[],t||[]);n.length&&this.handleSplices(n),this.inputs.size||(Lt.delete(this),this.abandon())},getTerminatorAt:function(e){if(-1==e)return this.templateElement_;var t=this.terminators[e];if(t.nodeType!==Node.ELEMENT_NODE||this.templateElement_===t)return t;var n=Lt.get(t);return n?n.getTerminatorAt(n.terminators.length-1):t},insertInstanceAt:function(e,t){var n=this.getTerminatorAt(e-1),r=t[t.length-1]||n;this.terminators.splice(e,0,r);for(var i=this.templateElement_.parentNode,o=n.nextSibling,a=0;t.length>a;a++)i.insertBefore(t[a],o)},extractInstanceAt:function(e){var t=[],n=this.getTerminatorAt(e-1),r=this.getTerminatorAt(e);this.terminators.splice(e,1);for(var i=this.templateElement_.parentNode;r!==n;){var o=n.nextSibling;
o==r&&(r=n),i.removeChild(o),t.push(o)}return t},getInstanceModel:function(e,t,n){var r=HTMLTemplateElement.syntax[n],i=r&&r[ct];return i&&"function"==typeof i?i(e,t):t},getInstanceNodes:function(e,t,n){var r=n.get(e);if(r)return n.delete(e),r;r=[];for(var i=this.templateElement_.createInstance(e,t);i.firstChild;)r.push(i.removeChild(i.firstChild));return r},handleSplices:function(e){var t=this.templateElement_;if(!t.parentNode||!t.ownerDocument.defaultView)return this.abandon(),Lt.delete(this),void 0;var n=t.getAttribute(st),r=new z,i=0;e.forEach(function(e){e.removed.forEach(function(t){var n=this.extractInstanceAt(e.index+i,n);r.set(t,n)},this),i-=e.addedCount},this),e.forEach(function(e){for(var i=e.index;e.index+e.addedCount>i;i++){var o=this.getInstanceModel(t,this.iteratedValue[i],n),a=this.getInstanceNodes(o,n,r);this.insertInstanceAt(i,a)}},this),r.forEach(function(e){for(var t=0;e.length>t;t++)Y(e[t])})},unobserve:function(){this.arrayObserver&&(this.arrayObserver.close(),this.arrayObserver=void 0)},abandon:function(){this.unobserve(),this.terminators.length=0,Object.defineProperty(this.inputs,"value",{configurable:!0,writable:!0,value:void 0}),this.inputs.dispose()}};var Lt=new J("templateIterator");e.CompoundBinding=q,Object.defineProperty(HTMLTemplateElement,st,{value:{},enumerable:!0}),HTMLTemplateElement.forAllTemplatesFrom_=_,HTMLTemplateElement.bindAllMustachesFrom_=B,HTMLTemplateElement.parseAndBind_=F}(this),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):t(e.esprima={})}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function n(e){return e>=48&&57>=e}function r(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&" ᠎             　﻿".indexOf(String.fromCharCode(e))>0}function i(e){return 10===e||13===e||8232===e||8233===e}function o(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e}function a(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e}function s(e){return"this"===e}function u(){for(;tt>et&&r(Z.charCodeAt(et));)++et}function c(){var e,t;for(e=et++;tt>et&&(t=Z.charCodeAt(et),a(t));)++et;return Z.slice(e,et)}function l(){var e,t,n;return e=et,t=c(),n=1===t.length?K.Identifier:s(t)?K.Keyword:"null"===t?K.NullLiteral:"true"===t||"false"===t?K.BooleanLiteral:K.Identifier,{type:n,value:t,range:[e,et]}}function d(){var e,t,n,r,i=et,o=Z.charCodeAt(et),a=Z[et];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++et,{type:K.Punctuator,value:String.fromCharCode(o),range:[i,et]};default:if(e=Z.charCodeAt(et+1),61===e)switch(o){case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 94:case 124:return et+=2,{type:K.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(e),range:[i,et]};case 33:case 61:return et+=2,61===Z.charCodeAt(et)&&++et,{type:K.Punctuator,value:Z.slice(i,et),range:[i,et]};default:}}return t=Z[et+1],n=Z[et+2],r=Z[et+3],">"===a&&">"===t&&">"===n&&"="===r?(et+=4,{type:K.Punctuator,value:">>>=",range:[i,et]}):">"===a&&">"===t&&">"===n?(et+=3,{type:K.Punctuator,value:">>>",range:[i,et]}):"<"===a&&"<"===t&&"="===n?(et+=3,{type:K.Punctuator,value:"<<=",range:[i,et]}):">"===a&&">"===t&&"="===n?(et+=3,{type:K.Punctuator,value:">>=",range:[i,et]}):a===t&&"+-<>&|".indexOf(a)>=0?(et+=2,{type:K.Punctuator,value:a+t,range:[i,et]}):"<>=!+-*%&|^/".indexOf(a)>=0?(++et,{type:K.Punctuator,value:a,range:[i,et]}):(b({},J.UnexpectedToken,"ILLEGAL"),void 0)}function h(){var e,r,i;if(i=Z[et],t(n(i.charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),r=et,e="","."!==i){for(e=Z[et++],i=Z[et],"0"===e&&i&&n(i.charCodeAt(0))&&b({},J.UnexpectedToken,"ILLEGAL");n(Z.charCodeAt(et));)e+=Z[et++];i=Z[et]}if("."===i){for(e+=Z[et++];n(Z.charCodeAt(et));)e+=Z[et++];i=Z[et]}if("e"===i||"E"===i)if(e+=Z[et++],i=Z[et],("+"===i||"-"===i)&&(e+=Z[et++]),n(Z.charCodeAt(et)))for(;n(Z.charCodeAt(et));)e+=Z[et++];else b({},J.UnexpectedToken,"ILLEGAL");return o(Z.charCodeAt(et))&&b({},J.UnexpectedToken,"ILLEGAL"),{type:K.NumericLiteral,value:parseFloat(e),range:[r,et]}}function p(){var e,n,r,o="",a=!1;for(e=Z[et],t("'"===e||'"'===e,"String literal must starts with a quote"),n=et,++et;tt>et;){if(r=Z[et++],r===e){e="";break}if("\\"===r)if(r=Z[et++],r&&i(r.charCodeAt(0)))"\r"===r&&"\n"===Z[et]&&++et;else switch(r){case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="	";break;case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="";break;default:o+=r}else{if(i(r.charCodeAt(0)))break;o+=r}}return""!==e&&b({},J.UnexpectedToken,"ILLEGAL"),{type:K.StringLiteral,value:o,octal:a,range:[n,et]}}function f(e){return e.type===K.Identifier||e.type===K.Keyword||e.type===K.BooleanLiteral||e.type===K.NullLiteral}function v(){var e;return u(),et>=tt?{type:K.EOF,range:[et,et]}:(e=Z.charCodeAt(et),40===e||41===e||58===e?d():39===e||34===e?p():o(e)?l():46===e?n(Z.charCodeAt(et+1))?h():d():n(e)?h():d())}function m(){var e;return e=rt,et=e.range[1],rt=v(),et=e.range[1],e}function g(){var e;e=et,rt=v(),et=e}function b(e,n){var r,i=Array.prototype.slice.call(arguments,2),o=n.replace(/%(\d)/g,function(e,n){return t(i.length>n,"Message reference must be in range"),i[n]});throw r=new Error(o),r.index=et,r.description=o,r}function y(e){b(e,J.UnexpectedToken,e.value)}function w(e){var t=m();(t.type!==K.Punctuator||t.value!==e)&&y(t)}function E(e){return rt.type===K.Punctuator&&rt.value===e}function T(e){return rt.type===K.Keyword&&rt.value===e}function O(){return 59===Z.charCodeAt(et)?(m(),void 0):(u(),E(";")?(m(),void 0):(rt.type===K.EOF||E("}")||y(rt),void 0))}function M(){var e=[];for(w("[");!E("]");)E(",")?(m(),e.push(null)):(e.push(U()),E("]")||w(","));return w("]"),nt.createArrayExpression(e)}function L(){var e;return u(),e=m(),e.type===K.StringLiteral||e.type===K.NumericLiteral?nt.createLiteral(e):nt.createIdentifier(e.value)}function S(){var e,t;return e=rt,u(),(e.type===K.EOF||e.type===K.Punctuator)&&y(e),t=L(),w(":"),nt.createProperty("init",t,U())}function P(){var e=[];for(w("{");!E("}");)e.push(S()),E("}")||w(",");return w("}"),nt.createObjectExpression(e)}function C(){var e;return w("("),e=B(),w(")"),e}function _(){var e,t,n;return E("(")?C():(e=rt.type,e===K.Identifier?n=nt.createIdentifier(m().value):e===K.StringLiteral||e===K.NumericLiteral?n=nt.createLiteral(m()):e===K.Keyword?T("this")&&(m(),n=nt.createThisExpression()):e===K.BooleanLiteral?(t=m(),t.value="true"===t.value,n=nt.createLiteral(t)):e===K.NullLiteral?(t=m(),t.value=null,n=nt.createLiteral(t)):E("[")?n=M():E("{")&&(n=P()),n?n:(y(m()),void 0))}function N(){var e=[];if(w("("),!E(")"))for(;tt>et&&(e.push(U()),!E(")"));)w(",");return w(")"),e}function x(){var e;return e=m(),f(e)||y(e),nt.createIdentifier(e.value)}function A(){return w("."),x()}function k(){var e;return w("["),e=B(),w("]"),e}function I(){var e,t,n;for(e=_();E(".")||E("[")||E("(");)E("(")?(t=N(),e=nt.createCallExpression(e,t)):E("[")?(n=k(),e=nt.createMemberExpression("[",e,n)):(n=A(),e=nt.createMemberExpression(".",e,n));return e}function D(){var e;return e=I(),rt.type===K.Punctuator&&(E("++")||E("--"))&&b({},J.UnexpectedToken),e}function H(){var e,t;return rt.type!==K.Punctuator&&rt.type!==K.Keyword?t=D():E("++")||E("--")?b({},J.UnexpectedToken):E("+")||E("-")||E("~")||E("!")?(e=m(),t=H(),t=nt.createUnaryExpression(e.value,t)):T("delete")||T("void")||T("typeof")?b({},J.UnexpectedToken):t=D(),t}function R(e,t){var n=0;if(e.type!==K.Punctuator&&e.type!==K.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=t?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11;break;default:}return n}function j(){var e,t,n,r,i,o,a,s,u;if(r=it.allowIn,it.allowIn=!0,s=H(),t=rt,n=R(t,r),0===n)return s;for(t.prec=n,m(),o=H(),i=[s,t,o];(n=R(rt,r))>0;){for(;i.length>2&&i[i.length-2].prec>=n;)o=i.pop(),a=i.pop().value,s=i.pop(),e=nt.createBinaryExpression(a,s,o),i.push(e);t=m(),t.prec=n,i.push(t),e=H(),i.push(e)}for(it.allowIn=r,u=i.length-1,e=i[u];u>1;)e=nt.createBinaryExpression(i[u-1].value,i[u-2],e),u-=2;return e}function F(){var e,t,n,r;return e=j(),E("?")&&(m(),t=it.allowIn,it.allowIn=!0,n=U(),it.allowIn=t,w(":"),r=U(),e=nt.createConditionalExpression(e,n,r)),e}function U(){var e,t,n;return e=rt,n=t=F()}function B(){var e;return e=U()}function Y(){return w(";"),nt.createEmptyStatement()}function V(){var e=B();return O(),nt.createExpressionStatement(e)}function X(){var e,t,n,r=rt.type;if(r===K.EOF&&y(rt),u(),r===K.Punctuator)switch(rt.value){case";":return Y();case"(":return V();default:}return e=B(),e.type===$.Identifier&&E(":")?(m(),n="$"+e.name,Object.prototype.hasOwnProperty.call(it.labelSet,n)&&b({},J.Redeclaration,"Label",e.name),it.labelSet[n]=!0,t=X(),delete it.labelSet[n],nt.createLabeledStatement(e,t)):(O(),nt.createExpressionStatement(e))}function G(){return rt.type===K.Keyword?X():rt.type!==K.EOF?X():void 0}function q(){for(var e,t=[];tt>et&&(e=G(),"undefined"!=typeof e);)t.push(e);return t}function W(){var e;return u(),g(),e=q(),nt.createProgram(e)}function z(e,t){var n;return n=String,"string"==typeof e||e instanceof String||(e=n(e)),nt=t,Z=e,et=0,tt=Z.length,rt=null,it={allowIn:!0,labelSet:{}},tt>0&&"undefined"==typeof Z[0]&&e instanceof String&&(Z=e.valueOf()),W()}var K,Q,$,J,Z,et,tt,nt,rt,it;K={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},Q={},Q[K.BooleanLiteral]="Boolean",Q[K.EOF]="<end>",Q[K.Identifier]="Identifier",Q[K.Keyword]="Keyword",Q[K.NullLiteral]="Null",Q[K.NumericLiteral]="Numeric",Q[K.Punctuator]="Punctuator",Q[K.StringLiteral]="String",$={ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ThisExpression:"ThisExpression",UnaryExpression:"UnaryExpression"},J={UnexpectedToken:"Unexpected token %0",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared"},e.parse=z}),function(e){"use strict";function t(e,t,r,i){if(i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.tagName&&("bind"===r||"repeat"===r)){var o,a,s=t.match(g);if(s?(o=s[1],a=s[2]):(s=t.match(b),s&&(o=s[2],a=s[1])),s){var u;if(a=a.trim(),a.match(m))u=new CompoundBinding(function(e){return e.path}),u.bind("path",e,a);else try{u=n(e,a)}catch(c){console.error("Invalid expression syntax: "+a,c)}if(u)return y.set(i,o),u}}}function n(e,t){try{var n=new o;if(esprima.parse(t,n),!n.statements.length&&!n.labeledStatements.length)return;if(!n.labeledStatements.length&&n.statements.length>1)throw Error("Multiple unlabelled statements are not allowed.");var i=n.labeledStatements.length?r(n.labeledStatements):i=n.statements[0],a=[];for(var s in n.deps)a.push(s);if(!a.length)return{value:i({})};for(var u=new CompoundBinding(i),c=0;a.length>c;c++)u.bind(a[c],e,a[c]);return u}catch(l){console.error("Invalid expression syntax: "+t,l)}}function r(e){return function(t){for(var n=[],r=0;e.length>r;r++)e[r].body(t)&&n.push(e[r].label);return n.join(" ")}}function i(e,t,n){this.deps=e,this.name=t,this.last=n}function o(){this.statements=[],this.labeledStatements=[],this.deps={},this.currentPath=void 0}function a(){throw Error("Not Implemented")}function s(){}var u;"undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?u=WeakMap:function(){var e=Object.defineProperty,t=Object.hasOwnProperty,n=(new Date).getTime()%1e9;u=function(){this.name="__st"+(1e9*Math.random()>>>0)+(n++ +"__")},u.prototype={set:function(t,n){e(t,this.name,{value:n,writable:!0})},get:function(e){return t.call(e,this.name)?e[this.name]:void 0},"delete":function(e){this.set(e,void 0)}}}();var c="[$_a-zA-Z]",l="[$_a-zA-Z0-9]",d=c+"+"+l+"*",h="("+d+")",p="(?:[0-9]|[1-9]+[0-9]+)",f="(?:"+d+"|"+p+")",v="(?:"+f+")(?:\\."+f+")*",m=new RegExp("^"+v+"$"),g=new RegExp("^"+h+"\\s* in (.*)$"),b=new RegExp("^(.*) as \\s*"+h+"$"),y=new u;i.prototype={getPath:function(){return this.last?this.last.getPath()+"."+this.name:this.name},valueFn:function(){var e=this.getPath();return this.deps[e]=!0,function(t){return t[e]}}};var w={"+":function(e){return+e},"-":function(e){return-e},"!":function(e){return!e}},E={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t}};o.prototype={getFn:function(e){return e instanceof i?e.valueFn():e},createProgram:function(){},createExpressionStatement:function(e){return this.statements.push(e),e},createLabeledStatement:function(e,t){return this.labeledStatements.push({label:e.getPath(),body:t instanceof i?t.valueFn():t}),t},createUnaryExpression:function(e,t){if(!w[e])throw Error("Disallowed operator: "+e);return t=this.getFn(t),function(n){return w[e](t(n))}},createBinaryExpression:function(e,t,n){if(!E[e])throw Error("Disallowed operator: "+e);return t=this.getFn(t),n=this.getFn(n),function(r){return E[e](t(r),n(r))}},createConditionalExpression:function(e,t,n){return e=this.getFn(e),t=this.getFn(t),n=this.getFn(n),function(r){return e(r)?t(r):n(r)}},createIdentifier:function(e){var t=new i(this.deps,e);return t.type="Identifier",t},createMemberExpression:function(e,t,n){return new i(this.deps,n.name,t)},createLiteral:function(e){return function(){return e.value}},createArrayExpression:function(e){for(var t=0;e.length>t;t++)e[t]=this.getFn(e[t]);return function(t){for(var n=[],r=0;e.length>r;r++)n.push(e[r](t));return n}},createProperty:function(e,t,n){return{key:t instanceof i?t.getPath():t(),value:n}},createObjectExpression:function(e){for(var t=0;e.length>t;t++)e[t].value=this.getFn(e[t].value);return function(t){for(var n={},r=0;e.length>r;r++)n[e[r].key]=e[r].value(t);return n}},createCallExpression:a,createEmptyStatement:a,createThisExpression:a},s.prototype={getBinding:function(e,r,i,o){return r=r.trim(),r&&!r.match(m)?t(e,r,i,o)||n(e,r,i,o):void 0},getInstanceModel:function(e,t){var n=y.get(e);if(!n)return t;var r=e.templateInstance?e.templateInstance.model:e.model,i=Object.create(r);return i[n]=t,i}},e.MDVSyntax=s}(this),function(e){function t(){logFlags.data&&console.group("Model.dirtyCheck()"),n(),logFlags.data&&console.groupEnd()}function n(){Platform.performMicrotaskCheckpoint()}var r=document.createElement("style");r.textContent="template {display: none;} /* injected by platform.js */";var i=document.querySelector("head");i.insertBefore(r,i.firstChild),HTMLTemplateElement.__instanceCreated=function(e){document.adoptNode(e),CustomElements.upgradeAll(e)};var o=125;window.addEventListener("WebComponentsReady",function(){t(),Observer.hasObjectObserve||setInterval(n,o)}),e.flush=t,window.dirtyCheck=t}(window.Platform),function(e){function t(e){return r(e,s)}function n(e){return r(e,"stylesheet")}function r(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function i(e,t){var n=document.implementation.createHTMLDocument(s);n._URL=t;var r=n.createElement("base");return r.setAttribute("href",document.baseURI),n.head.appendChild(r),n.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}e||(e=window.HTMLImports={flags:{}});var o,a=e.xhr,s="import",u={documents:{},cache:{},preloadSelectors:["link[rel="+s+"]","element link[rel=stylesheet]","template","script[src]"].join(","),loader:function(e){return o=new c(u.loaded,e),o.cache=u.cache,o},load:function(e,t){o=u.loader(t),u.preload(e)},preload:function(e){var t=e.querySelectorAll(u.preloadSelectors);t=this.filterMainDocumentNodes(e,t),t=this.extractTemplateNodes(t),o.addNodes(t)},filterMainDocumentNodes:function(e,n){return e===document&&(n=Array.prototype.filter.call(n,function(e){return t(e)})),n},extractTemplateNodes:function(e){var t=[];return e=Array.prototype.filter.call(e,function(e){if("template"===e.localName){if(e.content){var n=e.content.querySelectorAll("link[rel=stylesheet]");n.length&&(t=t.concat(Array.prototype.slice.call(n,0)))}return!1}return!0}),t.length&&(e=e.concat(t)),e},loaded:function(e,r,o){if(t(r)){var a=u.documents[e];a||(a=i(o,e),p.resolvePathsInHTML(a.body),u.documents[e]=a,u.preload(a)),r.import={href:e,ownerNode:r,content:a},r.content=o=a}r.__resource=o,n(r)&&p.resolvePathsInStylesheet(r)}},c=function(e,t){this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={},this.cache={}};c.prototype={addNodes:function(e){this.inflight+=e.length,f(e,this.require,this),this.checkDone()},require:function(e){var t=p.nodeUrl(e);e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){return this.pending[e]?(this.pending[e].push(t),!0):this.cache[e]?(this.onload(e,t,o.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,t){var n=function(n,r){this.receive(e,t,n,r)}.bind(this);a.load(e,n)},receive:function(e,t,n,r){n||(o.cache[e]=r),o.pending[e].forEach(function(t){n||this.onload(e,t,r),this.tail()},this),o.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}};var l=["href","src","action"],d="["+l.join("],[")+"]",h="{{.*}}",p={nodeUrl:function(e){return p.resolveUrl(p.getDocumentUrl(document),p.hrefOrSrc(e))},hrefOrSrc:function(e){return e.getAttribute("href")||e.getAttribute("src")},documentUrlFromNode:function(e){return p.getDocumentUrl(e.ownerDocument)},getDocumentUrl:function(e){var t=e&&(e._URL||e.impl&&e.impl._URL||e.baseURI||e.URL)||"";return t.split("#")[0]},resolveUrl:function(e,t,n){if(this.isAbsUrl(t))return t;var r=this.compressUrl(this.urlToPath(e)+t);return n&&(r=p.makeRelPath(p.getDocumentUrl(document),r)),r},isAbsUrl:function(e){return/(^data:)|(^http[s]?:)|(^\/)/.test(e)},urlToPath:function(e){var t=e.split("/");return t.pop(),t.push(""),t.join("/")},compressUrl:function(e){for(var t,n=e.split("/"),r=0;n.length>r;r++)t=n[r],".."===t&&(n.splice(r-1,2),r-=2);return n.join("/")},makeRelPath:function(e,t){var n,r;for(n=this.compressUrl(e).split("/"),r=this.compressUrl(t).split("/");n.length&&n[0]===r[0];)n.shift(),r.shift();for(var i=0,o=n.length-1;o>i;i++)r.unshift("..");var a=r.join("/");return a},resolvePathsInHTML:function(e,t){if(t=t||p.documentUrlFromNode(e),p.resolveAttributes(e,t),p.resolveStyleElts(e,t),window.templateContent){var n=e.querySelectorAll("template");n&&f(n,function(e){p.resolvePathsInHTML(templateContent(e),t)})}},resolvePathsInStylesheet:function(e){var t=p.nodeUrl(e);e.__resource=p.resolveCssText(e.__resource,t)},resolveStyleElts:function(e,t){var n=e.querySelectorAll("style");n&&f(n,function(e){e.textContent=p.resolveCssText(e.textContent,t)})},resolveCssText:function(e,t){return e.replace(/url\([^)]*\)/g,function(e){var n=e.replace(/["']/g,"").slice(4,-1);return n=p.resolveUrl(t,n,!0),"url("+n+")"})},resolveAttributes:function(e,t){var n=e&&e.querySelectorAll(d);n&&f(n,function(e){this.resolveNodeAttributes(e,t)},this)},resolveNodeAttributes:function(e,t){l.forEach(function(n){var r=e.attributes[n];if(r&&r.value&&0>r.value.search(h)){var i=p.resolveUrl(t,r.value,!0);r.value=i}})}};a=a||{async:!0,ok:function(e){return e.status>=200&&300>e.status||304===e.status||0===e.status},load:function(t,n,r){var i=new XMLHttpRequest;(e.flags.debug||e.flags.bust)&&(t+="?"+Math.random()),i.open("GET",t,a.async),i.addEventListener("readystatechange",function(){4===i.readyState&&n.call(r,!a.ok(i)&&i,i.response,t)}),i.send()}};var f=Array.prototype.forEach.call.bind(Array.prototype.forEach);e.xhr=a,e.importer=u,e.getDocumentUrl=p.getDocumentUrl,e.IMPORT_LINK_TYPE=s}(window.HTMLImports),function(e){function t(e){return"link"===e.localName&&e.getAttribute("rel")===o}function n(e){return e.parentNode&&!r(e)&&!i(e)}function r(e){return e.ownerDocument===document||e.ownerDocument.impl===document}function i(e){return e.parentNode&&"element"===e.parentNode.localName}var o="import",a={selectors:["link[rel="+o+"]","link[rel=stylesheet]","style","script"],map:{link:"parseLink",script:"parseScript",style:"parseGeneric"},parse:function(e){if(!e.__importParsed){e.__importParsed=!0;var t=e.querySelectorAll(a.selectors);s(t,function(e){a[a.map[e.localName]](e)})}},parseLink:function(e){t(e)?e.content&&a.parse(e.content):this.parseGeneric(e)},parseGeneric:function(e){n(e)&&document.head.appendChild(e)},parseScript:function(e){if(n(e)){var t=e.__resource||e.textContent;t&&(t+="\n//# sourceURL="+(e.__nodeUrl||"inline["+Math.floor(1e3*(Math.random()+1))+"]")+"\n",eval.call(window,t))}}},s=Array.prototype.forEach.call.bind(Array.prototype.forEach);e.parser=a}(HTMLImports),function(){function e(){HTMLImports.importer.load(document,function(){HTMLImports.parser.parse(document),HTMLImports.readyTime=(new Date).getTime(),document.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))})}"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t}),"complete"===document.readyState||"interactive"===document.readyState?e():window.addEventListener("DOMContentLoaded",e)}(),function(e){function t(e){w.push(e),y||(y=!0,m(r))}function n(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function r(){y=!1;var e=w;w=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();i(e),n.length&&(e.callback_(n,e),t=!0)}),t&&r()}function i(e){e.nodes_.forEach(function(t){var n=v.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function o(e,t){for(var n=e;n;n=n.parentNode){var r=v.get(n);if(r)for(var i=0;r.length>i;i++){var o=r[i],a=o.options;if(n===e||a.subtree){var s=t(a);s&&o.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++E}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function u(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function c(e,t){return T=new s(e,t)}function l(e){return O?O:(O=u(T),O.oldValue=e,O)}function d(){T=O=void 0}function h(e){return e===O||e===T}function p(e,t){return e===t?e:O&&h(e)?O:null}function f(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}var v=new SideTable,m=window.msSetImmediate;if(!m){var g=[],b=String(Math.random());window.addEventListener("message",function(e){if(e.data===b){var t=g;g=[],t.forEach(function(e){e()})}}),m=function(e){g.push(e),window.postMessage(b,"*")}}var y=!1,w=[],E=0;a.prototype={observe:function(e,t){if(e=n(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r=v.get(e);r||v.set(e,r=[]);for(var i,o=0;r.length>o;o++)if(r[o].observer===this){i=r[o],i.removeListeners(),i.options=t;break}i||(i=new f(this,e,t),r.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=v.get(e),n=0;t.length>n;n++){var r=t[n];if(r.observer===this){r.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var T,O;f.prototype={enqueue:function(e){var n=this.observer.records_,r=n.length;if(n.length>0){var i=n[r-1],o=p(i,e);if(o)return n[r-1]=o,void 0}else t(this.observer);n[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=v.get(e);t||v.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=v.get(e),n=0;t.length>n;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,r=e.target,i=new c("attributes",r);i.attributeName=t,i.attributeNamespace=n;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;o(r,function(e){return!e.attributes||e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(t)&&-1===e.attributeFilter.indexOf(n)?void 0:e.attributeOldValue?l(a):i});break;case"DOMCharacterDataModified":var r=e.target,i=c("characterData",r),a=e.prevValue;o(r,function(e){return e.characterData?e.characterDataOldValue?l(a):i:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,u,r=e.relatedNode,h=e.target;"DOMNodeInserted"===e.type?(s=[h],u=[]):(s=[],u=[h]);var p=h.previousSibling,f=h.nextSibling,i=c("childList",r);i.addedNodes=s,i.removedNodes=u,i.previousSibling=p,i.nextSibling=f,o(r,function(e){return e.childList?i:void 0})}d()}},e.JsMutationObserver=a}(this),!window.MutationObserver&&(window.MutationObserver=window.WebKitMutationObserver||window.JsMutationObserver,!MutationObserver))throw new Error("no mutation observer support");(function(e){function t(t,o){var a=o||{};if(!t)throw new Error("Name argument must not be empty");if(a.name=t,!a.prototype)throw new Error("Options missing required prototype property");return a.lifecycle=a.lifecycle||{},a.ancestry=n(a.extends),r(a),i(a),l(a.prototype),h(t,a),a.ctor=p(a),a.ctor.prototype=a.prototype,a.prototype.constructor=a.ctor,e.ready&&e.upgradeAll(document),a.ctor}function n(e){var t=b[e];return t?n(t.extends).concat([t]):[]}function r(e){for(var t,n=e.extends,r=0;t=e.ancestry[r];r++)n=t.is&&t.tag;e.tag=n||e.name,n&&(e.is=e.name)}function i(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}}e.native=t}function o(e){return a(y(e.tag),e)}function a(t,n){return n.is&&t.setAttribute("is",n.is),s(t,n),t.__upgraded__=!0,e.upgradeSubtree(t),c(t),t}function s(e,t){Object.__proto__?e.__proto__=t.prototype:(u(e,t.prototype,t.native),e.__proto__=t.prototype)}function u(e,t,n){for(var r={},i=t;i!==n&&i!==HTMLUnknownElement.prototype;){for(var o,a=Object.getOwnPropertyNames(i),s=0;o=a[s];s++)r[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}function c(e){e.readyCallback&&e.readyCallback()}function l(e){var t=e.setAttribute;e.setAttribute=function(e,n){d.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e,t){d.call(this,e,t,n)}}function d(e,t,n){var r=this.getAttribute(e);n.apply(this,arguments),this.attributeChangedCallback&&this.getAttribute(e)!==r&&this.attributeChangedCallback(e,r)}function h(e,t){b[e]=t}function p(e){return function(){return o(e)}}function f(e){var t=b[e];return t?new t.ctor:y(e)}function v(e){if(!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var t=e.getAttribute("is")||e.localName,n=b[t];return n&&a(e,n)}}function m(t){var n=w.call(this,t);return e.upgradeAll(n),n}if(e||(e=window.CustomElements={flags:{}}),e.hasNative=(document.webkitRegister||document.register)&&"native"===e.flags.register,e.hasNative){document.register=document.register||document.webkitRegister;var g=function(){};e.registry={},e.upgradeElement=g}else{var b={},y=document.createElement.bind(document),w=Node.prototype.cloneNode;document.register=t,document.createElement=f,Node.prototype.cloneNode=m,e.registry=b,e.upgrade=v}})(window.CustomElements),function(e){function t(e,n,r){var i=e.firstElementChild;if(!i)for(i=e.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)n(i,r)!==!0&&t(i,n,r),i=i.nextElementSibling;return null}function n(e,r){t(e,function(e){return r(e)?!0:(e.webkitShadowRoot&&n(e.webkitShadowRoot,r),void 0)}),e.webkitShadowRoot&&n(e.webkitShadowRoot,r)}function r(e){return a(e)?(s(e),!0):(u(e),void 0)}function i(e){n(e,function(e){return r(e)?!0:void 0})}function o(e){return r(e)||i(e)}function a(t){if(!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var n=t.getAttribute("is")||t.localName,r=e.registry[n];if(r)return logFlags.dom&&console.group("upgrade:",t.localName),e.upgrade(t),logFlags.dom&&console.groupEnd(),!0}}function s(e){u(e),d(e)&&n(e,function(e){u(e)})}function u(e){(e.insertedCallback||e.__upgraded__&&logFlags.dom)&&(logFlags.dom&&console.group("inserted:",e.localName),d(e)&&(e.__inserted=(e.__inserted||0)+1,1>e.__inserted&&(e.__inserted=1),e.__inserted>1?logFlags.dom&&console.warn("inserted:",e.localName,"insert/remove count:",e.__inserted):e.insertedCallback&&(logFlags.dom&&console.log("inserted:",e.localName),e.insertedCallback())),logFlags.dom&&console.groupEnd())}function c(e){l(e),n(e,function(e){l(e)})}function l(e){(e.removedCallback||e.__upgraded__&&logFlags.dom)&&(logFlags.dom&&console.log("removed:",e.localName),d(e)||(e.__inserted=(e.__inserted||0)-1,e.__inserted>0&&(e.__inserted=0),0>e.__inserted?logFlags.dom&&console.warn("removed:",e.localName,"insert/remove count:",e.__inserted):e.removedCallback&&e.removedCallback()))}function d(e){for(var t=e;t;){if(t==e.ownerDocument)return!0;t=t.parentNode||t.host}}function h(e){e.webkitShadowRoot&&!e.webkitShadowRoot.__watched&&(logFlags.dom&&console.log("watching shadow-root for: ",e.localName),g(e.webkitShadowRoot),e.webkitShadowRoot.__watched=!0)}function p(e){h(e),n(e,function(){h(e)})}function f(e){switch(e.localName){case"style":case"script":case"template":case void 0:return!0}}function v(e){if(logFlags.dom){var t=e[0];if(t&&"childList"===t.type&&t.addedNodes&&t.addedNodes){for(var n=t.addedNodes[0];n&&n!==document&&!n.host;)n=n.parentNode;var r=n&&(n.URL||n._URL||n.host&&n.host.localName)||"";r=r.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",e.length,r||"")}e.forEach(function(e){"childList"===e.type&&(E(e.addedNodes,function(e){f(e)||o(e)}),E(e.removedNodes,function(e){f(e)||c(e)}))}),logFlags.dom&&console.groupEnd()}function m(){v(w.takeRecords())}function g(e){w.observe(e,{childList:!0,subtree:!0})}function b(e){g(e)}function y(e){logFlags.dom&&console.group("upgradeDocument: ",(e.URL||e._URL||"").split("/").pop()),o(e),logFlags.dom&&console.groupEnd()}var w=new MutationObserver(v),E=Array.prototype.forEach.call.bind(Array.prototype.forEach);e.watchShadow=h,e.watchAllShadows=p,e.upgradeAll=o,e.upgradeSubtree=i,e.observeDocument=b,e.upgradeDocument=y,e.takeRecords=m
}(window.CustomElements),function(){function parseElementElement(e){var t={name:"","extends":null};takeAttributes(e,t);var n=HTMLElement.prototype;if(t.extends){var r=document.createElement(t.extends);n=r.__proto__||Object.getPrototypeOf(r)}t.prototype=Object.create(n),e.options=t;var i=e.querySelector("script,scripts");i&&executeComponentScript(i.textContent,e,t.name);var o=document.register(t.name,t);e.ctor=o;var a=e.getAttribute("constructor");a&&(window[a]=o)}function takeAttributes(e,t){for(var n in t){var r=e.attributes[n];r&&(t[n]=r.value)}}function executeComponentScript(inScript,inContext,inName){context=inContext;var owner=context.ownerDocument,url=owner._URL||owner.URL||owner.impl&&(owner.impl._URL||owner.impl.URL),match=url.match(/.*\/([^.]*)[.]?.*$/);if(match){var name=match[1];url+=name!=inName?":"+inName:""}var code="__componentScript('"+inName+"', function(){"+inScript+"});"+"\n//# sourceURL="+url+"\n";eval(code)}function mixin(e,t){e=e||{};try{Object.getOwnPropertyNames(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)})}catch(n){}return e}var HTMLElementElement=function(e){return e.register=HTMLElementElement.prototype.register,parseElementElement(e),e};HTMLElementElement.prototype={register:function(e){e&&(this.options.lifecycle=e.lifecycle,e.prototype&&mixin(this.options.prototype,e.prototype))}};var context;window.__componentScript=function(e,t){t.call(context)},window.HTMLElementElement=HTMLElementElement}(),function(){function e(e){return"link"===e.localName&&e.getAttribute("rel")===t}var t="import",n={selectors:["link[rel="+t+"]","element"],map:{link:"parseLink",element:"parseElement"},parse:function(e){if(!e.__parsed){e.__parsed=!0;var t=e.querySelectorAll(n.selectors);r(t,function(e){n[n.map[e.localName]](e)}),CustomElements.upgradeDocument(e),CustomElements.observeDocument(e)}},parseLink:function(t){e(t)&&this.parseImport(t)},parseImport:function(e){e.content&&n.parse(e.content)},parseElement:function(e){new HTMLElementElement(e)}},r=Array.prototype.forEach.call.bind(Array.prototype.forEach);CustomElements.parser=n}(),function(){function e(){setTimeout(function(){CustomElements.parser.parse(document),CustomElements.upgradeDocument(document),CustomElements.ready=!0,CustomElements.readyTime=(new Date).getTime(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.body.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))},0)}if("function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t}),"complete"===document.readyState)e();else{var t=window.HTMLImports?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(t,e)}}(),function(){function e(){}var t=document.createElement("style");t.textContent="element {display: none;} /* injected by platform.js */";var n=document.querySelector("head");if(n.insertBefore(t,n.firstChild),window.ShadowDOMPolyfill){CustomElements.watchShadow=e,CustomElements.watchAllShadows=e;var r=["upgradeAll","upgradeSubtree","observeDocument","upgradeDocument"],i={};r.forEach(function(e){i[e]=CustomElements[e]}),r.forEach(function(e){CustomElements[e]=function(t){return i[e](wrap(t))}})}}(),function(e){e=e||{};var t={shadow:function(e){return e?e.shadowRoot||e.webkitShadowRoot:void 0},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);return this.canTarget(t)?t:void 0},searchRoot:function(e,t,n){if(e){var r,i,o,a=e.elementFromPoint(t,n);for(i=this.targetingShadow(a);i;){if(r=i.elementFromPoint(t,n)){var s=this.targetingShadow(r);return this.searchRoot(s,t,n)||r}o=i.querySelector("shadow"),i=o&&o.olderShadowRoot}return a}},findTarget:function(e){var t=e.clientX,n=e.clientY;return this.searchRoot(document,t,n)}};e.targetFinding=t,e.findTarget=t.findTarget.bind(t),window.PointerEventsPolyfill=e}(window.PointerEventsPolyfill),function(){function e(e){return'[touch-action="'+e+'"]'}function t(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}var n=["none","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["scroll","pan-x pan-y","pan-y pan-x"]}],r="";n.forEach(function(n){r+=String(n)===n?e(n)+t(n):n.selectors.map(e)+t(n.rule)});var i=document.createElement("style");i.textContent=r;var o=document.querySelector("head");o.insertBefore(i,o.firstChild)}(),function(e){function t(e,t){var t=t||{},i=t.buttons;if(void 0===i)switch(t.which){case 1:i=1;break;case 2:i=4;break;case 3:i=2;break;default:i=0}var o;if(n)o=new MouseEvent(e,t);else{o=document.createEvent("MouseEvent");var a={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null};Object.keys(a).forEach(function(e){e in t&&(a[e]=t[e])}),o.initMouseEvent(e,a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}r||Object.defineProperty(o,"buttons",{get:function(){return i},enumerable:!0});var s=0;return s=t.pressure?t.pressure:i?.5:0,Object.defineProperties(o,{pointerId:{value:t.pointerId||0,enumerable:!0},width:{value:t.width||0,enumerable:!0},height:{value:t.height||0,enumerable:!0},pressure:{value:s,enumerable:!0},tiltX:{value:t.tiltX||0,enumerable:!0},tiltY:{value:t.tiltY||0,enumerable:!0},pointerType:{value:t.pointerType||"",enumerable:!0},hwTimestamp:{value:t.hwTimestamp||0,enumerable:!0},isPrimary:{value:t.isPrimary||!1,enumerable:!0}}),o}var n=!1,r=!1;try{var i=new MouseEvent("click",{buttons:1});n=!0,r=1===i.buttons}catch(o){}e.PointerEvent=t}(window),function(e){function t(){this.ids=[],this.pointers=[]}t.prototype={set:function(e,t){var n=this.ids.indexOf(e);n>-1?this.pointers[n]=t:(this.ids.push(e),this.pointers.push(t))},has:function(e){return this.ids.indexOf(e)>-1},"delete":function(e){var t=this.ids.indexOf(e);t>-1&&(this.ids.splice(t,1),this.pointers.splice(t,1))},get:function(e){var t=this.ids.indexOf(e);return this.pointers[t]},get size(){return this.pointers.length},clear:function(){this.ids.length=0,this.pointers.length=0}},e.PointerMap=t}(window.PointerEventsPolyfill),function(e){var t;if("undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/"))t=WeakMap;else{var n=Object.defineProperty,r=Object.hasOwnProperty,i=(new Date).getTime()%1e9;t=function(){this.name="__st"+(1e9*Math.random()>>>0)+(i++ +"__")},t.prototype={set:function(e,t){n(e,this.name,{value:t,writable:!0})},get:function(e){return r.call(e,this.name)?e[this.name]:void 0},"delete":function(e){this.set(e,void 0)}}}e.SideTable=t}(window.PointerEventsPolyfill),function(e){var t={targets:new e.SideTable,handledEvents:new e.SideTable,scrollType:new e.SideTable,pointermap:new e.PointerMap,events:[],eventMap:{},eventSources:{},registerSource:function(e,t){var n=t,r=n.events;r&&(this.events=this.events.concat(r),r.forEach(function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))},this),this.eventSources[e]=n)},registerTarget:function(e,t){this.scrollType.set(e,t||"none"),this.listen(this.events,e,this.boundHandler)},unregisterTarget:function(e){this.scrollType.set(e,null),this.unlisten(this.events,e,this.boundHandler)},down:function(e){this.fireEvent("pointerdown",e)},move:function(e){this.fireEvent("pointermove",e)},up:function(e){this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){this.fireEvent("pointercancel",e)},leaveOut:function(e){e.target.contains(e.relatedTarget)||this.leave(e),this.out(e)},enterOver:function(e){e.target.contains(e.relatedTarget)||this.enter(e),this.over(e)},eventHandler:function(e){if(!this.handledEvents.get(e)){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),this.handledEvents.set(e,!0)}},listen:function(e,t,n){e.forEach(function(e){this.addEvent(e,n,!1,t)},this)},unlisten:function(e,t,n){e.forEach(function(e){this.removeEvent(e,n,!1,t)},this)},addEvent:function(e,t,n,r){r.addEventListener(e,t,n)},removeEvent:function(e,t,n,r){r.removeEventListener(e,t,n)},makeEvent:function(e,t){var n=new PointerEvent(e,t);return this.targets.set(n,this.targets.get(t)||t.target),n},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){var t={};for(var n in e)t[n]=e[n];return t},getTarget:function(e){return this.captureInfo&&this.captureInfo.id===e.pointerId?this.captureInfo.target:this.targets.get(e)},setCapture:function(e,t){this.captureInfo&&this.releaseCapture(this.captureInfo.id),this.captureInfo={id:e,target:t};var n=new PointerEvent("gotpointercapture",{bubbles:!0});this.implicitRelease=this.releaseCapture.bind(this,e),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),this.targets.set(n,t),this.asyncDispatchEvent(n)},releaseCapture:function(e){if(this.captureInfo&&this.captureInfo.id===e){var t=new PointerEvent("lostpointercapture",{bubbles:!0}),n=this.captureInfo.target;this.captureInfo=null,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),this.targets.set(t,n),this.asyncDispatchEvent(t)}},dispatchEvent:function(e){var t=this.getTarget(e);return t?t.dispatchEvent(e):void 0},asyncDispatchEvent:function(e){setTimeout(this.dispatchEvent.bind(this,e),0)}};t.boundHandler=t.eventHandler.bind(t),e.dispatcher=t}(window.PointerEventsPolyfill),function(e){var t=e.dispatcher,n=Array.prototype.forEach.call.bind(Array.prototype.forEach),r=Array.prototype.map.call.bind(Array.prototype.map),i={ATTRIB:"touch-action",SELECTOR:"[touch-action]",EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|scroll$/,OBSERVER_INIT:{subtree:!0,childList:!0,attributes:!0,attributeFilter:["touch-action"]},watchSubtree:function(t){e.targetFinding.canTarget(t)&&s.observe(t,this.OBSERVER_INIT)},enableOnSubtree:function(e){var t=e||document;this.watchSubtree(e),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(e){n(this.findElements(e),this.addElement,this)},findElements:function(e){var t=e||document;return t.querySelectorAll?t.querySelectorAll(this.SELECTOR):[]},touchActionToScrollType:function(e){var t=e;return t===this.EMITTER?"none":t===this.XSCROLLER?"X":t===this.YSCROLLER?"Y":this.SCROLLER.exec(t)?"XY":void 0},removeElement:function(n){t.unregisterTarget(n);var r=e.targetFinding.shadow(n);r&&t.unregisterTarget(r)},addElement:function(n){var r=n.getAttribute&&n.getAttribute(this.ATTRIB),i=this.touchActionToScrollType(r);if(i){t.registerTarget(n,i);var o=e.targetFinding.shadow(n);o&&t.registerTarget(o,i)}},elementChanged:function(e){this.removeElement(e),this.addElement(e)},concatLists:function(e,t){for(var n,r=0,i=t.length;i>r&&(n=t[r]);r++)e.push(n);return e},installOnLoad:function(){document.addEventListener("DOMContentLoaded",this.installNewSubtree.bind(this,document))},flattenMutationTree:function(e){var t=r(e,this.findElements,this);return t.push(e),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){var t=e;if("childList"===t.type){var n=this.flattenMutationTree(t.addedNodes);n.forEach(this.addElement,this);var r=this.flattenMutationTree(t.removedNodes);r.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target)}},o=i.mutationWatcher.bind(i);e.installer=i,e.register=i.enableOnSubtree.bind(i),e.setTouchAction=function(e,n){var r=this.touchActionToScrollType(n);r?t.registerTarget(e,r):t.unregisterTarget(e)}.bind(i);var a=window.MutationObserver||window.WebKitMutationObserver;if(a)var s=new a(o);else i.watchSubtree=function(){console.warn("PointerEventsPolyfill: MutationObservers not found, touch-action will not be dynamically detected")}}(window.PointerEventsPolyfill),function(e){var t=e.dispatcher,n=t.pointermap,r=25,i={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],global:["mousedown","mouseup","mouseover","mouseout"],lastTouches:[],mouseHandler:t.eventHandler.bind(t),isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,i=e.clientX,o=e.clientY,a=0,s=n.length;s>a&&(t=n[a]);a++){var u=Math.abs(i-t.x),c=Math.abs(o-t.y);if(r>=u&&r>=c)return!0}},prepareEvent:function(e){var n=t.cloneEvent(e);return n.pointerId=this.POINTER_ID,n.isPrimary=!0,n.pointerType=this.POINTER_TYPE,n},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var r=n.has(this.POINTER_ID);if(r&&(this.cancel(e),r=!1),!r){var i=this.prepareEvent(e);n.set(this.POINTER_ID,e),t.down(i),t.listen(this.global,document,this.mouseHandler)}}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=this.prepareEvent(e);t.move(n)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var r=n.get(this.POINTER_ID);if(r&&r.button===e.button){var i=this.prepareEvent(e);t.up(i),this.cleanupMouse()}}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=this.prepareEvent(e);t.enterOver(n)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=this.prepareEvent(e);t.leaveOut(n)}},cancel:function(e){var n=this.prepareEvent(e);t.cancel(n),this.cleanupMouse()},cleanupMouse:function(){n.delete(this.POINTER_ID),t.unlisten(this.global,document,this.mouseHandler)}};t.listen(["mousemove"],document,t.boundHandler),e.mouseEvents=i}(window.PointerEventsPolyfill),function(e){var t=e.dispatcher,n=e.findTarget,r=t.pointermap,i=t.scrollType,o=Array.prototype.map.call.bind(Array.prototype.map),a=2500,s={events:["touchstart","touchmove","touchend","touchcancel"],POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){null===this.firstTouch&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1)},removePrimaryTouch:function(e){this.isPrimaryTouch(e)&&(this.firstTouch=null,this.firstXY=null)},touchToPointer:function(e){var r=t.cloneEvent(e);return r.pointerId=e.identifier+2,r.target=n(r),r.bubbles=!0,r.cancelable=!0,r.button=0,r.buttons=1,r.width=e.webkitRadiusX||e.radiusX,r.height=e.webkitRadiusY||e.radiusY,r.pressure=e.webkitForce||e.force,r.isPrimary=this.isPrimaryTouch(e),r.pointerType=this.POINTER_TYPE,r},processTouches:function(e,t){var n=e.changedTouches,r=o(n,this.touchToPointer,this);r.forEach(t,this)},shouldScroll:function(e){if(this.firstXY){var t,n=i.get(e.currentTarget);if("none"===n)t=!1;else if("XY"===n)t=!0;else{var r=e.changedTouches[0],o=n,a="Y"===n?"X":"Y",s=Math.abs(r["client"+o]-this.firstXY[o]),u=Math.abs(r["client"+a]-this.firstXY[a]);t=s>=u}return this.firstXY=null,t}},findTouch:function(e,t){for(var n,r=0,i=e.length;i>r&&(n=e[r]);r++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(r.size>=t.length){var n=[];r.ids.forEach(function(e){if(1!==e&&!this.findTouch(t,e-2)){var i=r.get(e).out;n.push(this.touchToPointer(i))}},this),n.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||this.processTouches(e,this.overDown)},overDown:function(e){r.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),t.over(e),t.down(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):(e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var n=e,i=r.get(n.pointerId),o=i.out,a=i.outTarget;t.move(n),o&&a!==n.target&&(o.relatedTarget=n.target,n.relatedTarget=a,o.target=a,t.leaveOut(o),t.enterOver(n)),i.out=n,i.outTarget=n.target},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(t.up(e),t.out(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){t.cancel(e),t.out(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){r.delete(e.pointerId),this.removePrimaryTouch(e)},dedupSynthMouse:function(t){var n=e.mouseEvents.lastTouches,r=t.changedTouches[0];if(this.isPrimaryTouch(r)){var i={x:r.clientX,y:r.clientY};n.push(i);var o=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}.bind(null,n,i);setTimeout(o,a)}}};e.touchEvents=s}(window.PointerEventsPolyfill),function(e){var t=e.dispatcher,n=t.pointermap,r={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var n=t.cloneEvent(e);return n.pointerType=this.POINTER_TYPES[e.pointerType],n},cleanup:function(e){n.delete(e)},MSPointerDown:function(e){n.set(e.pointerId,e);var r=this.prepareEvent(e);t.down(r)},MSPointerMove:function(e){var n=this.prepareEvent(e);t.move(n)},MSPointerUp:function(e){var n=this.prepareEvent(e);t.up(n),this.cleanup(e.pointerId)},MSPointerOut:function(e){var n=this.prepareEvent(e);t.leaveOut(n)},MSPointerOver:function(e){var n=this.prepareEvent(e);t.enterOver(n)},MSPointerCancel:function(e){var n=this.prepareEvent(e);t.cancel(n),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var n=t.makeEvent("lostpointercapture",e);t.dispatchEvent(n)},MSGotPointerCapture:function(e){var n=t.makeEvent("gotpointercapture",e);t.dispatchEvent(n)}};e.msEvents=r}(window.PointerEventsPolyfill),function(e){var t=e.dispatcher,n=e.installer;if(void 0===window.navigator.pointerEnabled){if(window.navigator.msPointerEnabled){var r=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:r,enumerable:!0}),t.registerSource("ms",e.msEvents),t.registerTarget(document)}else t.registerSource("mouse",e.mouseEvents),void 0!==window.ontouchstart&&t.registerSource("touch",e.touchEvents),n.enableOnSubtree(document);Object.defineProperty(window.navigator,"pointerEnabled",{value:!0,enumerable:!0})}}(window.PointerEventsPolyfill),function(e){function t(e){if(!i.pointermap.has(e))throw new Error("InvalidPointerId")}var n,r,i=e.dispatcher,o=window.navigator;o.msPointerEnabled?(n=function(e){t(e),this.msSetPointerCapture(e)},r=function(e){t(e),this.msReleasePointerCapture(e)}):(n=function(e){t(e),i.setCapture(e,this)},r=function(e){t(e),i.releaseCapture(e,this)}),Element.prototype.setPointerCapture||Object.defineProperties(Element.prototype,{setPointerCapture:{value:n},releasePointerCapture:{value:r}})}(window.PointerEventsPolyfill),PointerGestureEvent.prototype.preventTap=function(){this.tapPrevented=!0},function(e){e=e||{},e.utils={LCA:{find:function(e,t){if(e===t)return e;if(e.contains){if(e.contains(t))return e;if(t.contains(e))return t}var n=this.depth(e),r=this.depth(t),i=n-r;for(i>0?e=this.walk(e,i):t=this.walk(t,-i);e&&t&&e!==t;)e=this.walk(e,1),t=this.walk(t,1);return e},walk:function(e,t){for(var n=0;t>n;n++)e=e.parentNode;return e},depth:function(e){for(var t=0;e;)t++,e=e.parentNode;return t}}},e.findLCA=function(t,n){return e.utils.LCA.find(t,n)},window.PointerGestures=e}(window.PointerGestures),function(e){var t;if("undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/"))t=WeakMap;else{var n=Object.defineProperty,r=Object.hasOwnProperty,i=(new Date).getTime()%1e9;t=function(){this.name="__st"+(1e9*Math.random()>>>0)+(i++ +"__")},t.prototype={set:function(e,t){n(e,this.name,{value:t,writable:!0})},get:function(e){return r.call(e,this.name)?e[this.name]:void 0},"delete":function(e){this.set(e,void 0)}}}e.SideTable=t}(window.PointerGestures),function(e){function t(){this.ids=[],this.pointers=[]}t.prototype={set:function(e,t){var n=this.ids.indexOf(e);n>-1?this.pointers[n]=t:(this.ids.push(e),this.pointers.push(t))},has:function(e){return this.ids.indexOf(e)>-1},"delete":function(e){var t=this.ids.indexOf(e);t>-1&&(this.ids.splice(t,1),this.pointers.splice(t,1))},get:function(e){var t=this.ids.indexOf(e);return this.pointers[t]},get size(){return this.pointers.length},clear:function(){this.ids.length=0,this.pointers.length=0}},window.Map&&(t=window.Map),e.PointerMap=t}(window.PointerGestures),function(e){var t={handledEvents:new e.SideTable,targets:new e.SideTable,handlers:{},recognizers:{},events:["pointerdown","pointermove","pointerup","pointerover","pointerout","pointercancel"],registerRecognizer:function(e,t){var n=t;this.recognizers[e]=n,this.events.forEach(function(e){if(n[e]){var t=n[e].bind(n);this.addHandler(e,t)}},this)},addHandler:function(e,t){var n=e;this.handlers[n]||(this.handlers[n]=[]),this.handlers[n].push(t)},registerTarget:function(e){this.listen(this.events,e)},unregisterTarget:function(e){this.unlisten(this.events,e)},eventHandler:function(e){if(!this.handledEvents.get(e)){var t,n=e.type;(t=this.handlers[n])&&this.makeQueue(t,e),this.handledEvents.set(e,!0)}},makeQueue:function(e,t){var n=this.cloneEvent(t);setTimeout(this.runQueue.bind(this,e,n),0)},runQueue:function(e,t){this.currentPointerId=t.pointerId;for(var n,r=0,i=e.length;i>r&&(n=e[r]);r++)n(t);this.currentPointerId=0},listen:function(e,t){e.forEach(function(e){this.addEvent(e,this.boundHandler,!1,t)},this)},unlisten:function(e){e.forEach(function(e){this.removeEvent(e,this.boundHandler,!1,inTarget)},this)},addEvent:function(e,t,n,r){r.addEventListener(e,t,n)},removeEvent:function(e,t,n,r){r.removeEventListener(e,t,n)},makeEvent:function(e,t){return new PointerGestureEvent(e,t)},cloneEvent:function(e){var t={};for(var n in e)t[n]=e[n];return t},dispatchEvent:function(e,t){var n=t||this.targets.get(e);n&&(n.dispatchEvent(e),e.tapPrevented&&this.preventTap(this.currentPointerId))},asyncDispatchEvent:function(e,t){var n=function(){this.dispatchEvent(e,t)}.bind(this);setTimeout(n,0)},preventTap:function(e){var t=this.recognizers.tap;t&&t.preventTap(e)}};t.boundHandler=t.eventHandler.bind(t),e.dispatcher=t,e.register=function(t){var n=window.PointerEventsPolyfill;n&&n.register(t),e.dispatcher.registerTarget(t)},t.registerTarget(document)}(window.PointerGestures),function(e){var t=e.dispatcher,n={HOLD_DELAY:200,WIGGLE_THRESHOLD:16,events:["pointerdown","pointermove","pointerup","pointercancel"],heldPointer:null,holdJob:null,pulse:function(){var e=Date.now()-this.heldPointer.timeStamp,t=this.held?"holdpulse":"hold";this.fireHold(t,e),this.held=!0},cancel:function(){clearInterval(this.holdJob),this.held&&this.fireHold("release"),this.held=!1,this.heldPointer=null,this.target=null,this.holdJob=null},pointerdown:function(e){e.isPrimary&&!this.heldPointer&&(this.heldPointer=e,this.target=e.target,this.holdJob=setInterval(this.pulse.bind(this),this.HOLD_DELAY))},pointerup:function(e){this.heldPointer&&this.heldPointer.pointerId===e.pointerId&&this.cancel()},pointercancel:function(){this.cancel()},pointermove:function(e){if(this.heldPointer&&this.heldPointer.pointerId===e.pointerId){var t=e.clientX-this.heldPointer.clientX,n=e.clientY-this.heldPointer.clientY;t*t+n*n>this.WIGGLE_THRESHOLD&&this.cancel()}},fireHold:function(e,n){var r={pointerType:this.heldPointer.pointerType};n&&(r.holdTime=n);var i=t.makeEvent(e,r);t.dispatchEvent(i,this.target),i.tapPrevented&&t.preventTap(this.heldPointer.pointerId)}};t.registerRecognizer("hold",n)}(window.PointerGestures),function(e){var t=e.dispatcher,n=new e.PointerMap,r={events:["pointerdown","pointermove","pointerup","pointercancel"],WIGGLE_THRESHOLD:4,clampDir:function(e){return e>0?1:-1},calcPositionDelta:function(e,t){var n=0,r=0;return e&&t&&(n=t.pageX-e.pageX,r=t.pageY-e.pageY),{x:n,y:r}},fireTrack:function(e,n,r){var i=r,o=this.calcPositionDelta(i.downEvent,n),a=this.calcPositionDelta(i.lastMoveEvent,n);a.x&&(i.xDirection=this.clampDir(a.x)),a.y&&(i.yDirection=this.clampDir(a.y));var s={dx:o.x,dy:o.y,ddx:a.x,ddy:a.y,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,xDirection:i.xDirection,yDirection:i.yDirection,trackInfo:i.trackInfo,pointerType:n.pointerType};"trackend"===e&&(s._releaseTarget=n.target);var u=t.makeEvent(e,s);i.lastMoveEvent=n,t.dispatchEvent(u,i.downTarget)},pointerdown:function(e){if(e.isPrimary&&("mouse"===e.pointerType?1===e.buttons:!0)){var t={downEvent:e,downTarget:e.target,trackInfo:{},lastMoveEvent:null,xDirection:0,yDirection:0,tracking:!1};n.set(e.pointerId,t)}},pointermove:function(e){var t=n.get(e.pointerId);if(t)if(t.tracking)this.fireTrack("track",e,t);else{var r=this.calcPositionDelta(t.downEvent,e),i=r.x*r.x+r.y*r.y;i>this.WIGGLE_THRESHOLD&&(t.tracking=!0,this.fireTrack("trackstart",t.downEvent,t),this.fireTrack("track",e,t))}},pointerup:function(e){var t=n.get(e.pointerId);t&&(t.tracking&&this.fireTrack("trackend",e,t),n.delete(e.pointerId))},pointercancel:function(e){this.pointerup(e)}};t.registerRecognizer("track",r)}(window.PointerGestures),function(e){var t=e.dispatcher,n={MIN_VELOCITY:.5,MAX_QUEUE:4,moveQueue:[],target:null,pointerId:null,events:["pointerdown","pointermove","pointerup","pointercancel"],pointerdown:function(e){e.isPrimary&&!this.pointerId&&(this.pointerId=e.pointerId,this.target=e.target,this.addMove(e))},pointermove:function(e){e.pointerId===this.pointerId&&this.addMove(e)},pointerup:function(e){e.pointerId===this.pointerId&&this.fireFlick(e),this.cleanup()},pointercancel:function(){this.cleanup()},cleanup:function(){this.moveQueue=[],this.target=null,this.pointerId=null},addMove:function(e){this.moveQueue.length>=this.MAX_QUEUE&&this.moveQueue.shift(),this.moveQueue.push(e)},fireFlick:function(e){for(var n,r,i,o,a,s,u,c=e,l=this.moveQueue.length,d=0,h=0,p=0,f=0;l>f&&(u=this.moveQueue[f]);f++)n=c.timeStamp-u.timeStamp,r=c.clientX-u.clientX,i=c.clientY-u.clientY,o=r/n,a=i/n,s=Math.sqrt(o*o+a*a),s>p&&(d=o,h=a,p=s);var v=Math.abs(d)>Math.abs(h)?"x":"y",m=this.calcAngle(d,h);if(Math.abs(p)>=this.MIN_VELOCITY){var g=t.makeEvent("flick",{xVelocity:d,yVelocity:h,velocity:p,angle:m,majorAxis:v,pointerType:e.pointerType});t.dispatchEvent(g,this.target)}},calcAngle:function(e,t){return 180*Math.atan2(t,e)/Math.PI}};t.registerRecognizer("flick",n)}(window.PointerGestures),function(e){var t=e.dispatcher,n=new e.PointerMap,r={events:["pointerdown","pointermove","pointerup","pointercancel"],pointerdown:function(e){e.isPrimary&&!e.tapPrevented&&n.set(e.pointerId,{target:e.target,x:e.clientX,y:e.clientY})},pointermove:function(e){if(e.isPrimary){var t=n.get(e.pointerId);t&&e.tapPrevented&&n.delete(e.pointerId)}},pointerup:function(r){var i=n.get(r.pointerId);if(i&&!r.tapPrevented){var o=e.findLCA(i.target,r.target);if(o){var a=t.makeEvent("tap",{x:r.clientX,y:r.clientY,pointerType:r.pointerType});t.dispatchEvent(a,o)}}n.delete(r.pointerId)},pointercancel:function(e){n.delete(e.pointerId)},preventTap:function(e){n.delete(e)}};t.registerRecognizer("tap",r)}(window.PointerGestures);
//@ sourceMappingURL=platform.native.min.js.map