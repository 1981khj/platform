function SideTableInherit(e){this.map=new SideTable(e)}function PointerEvent(e,t){var n,t=t||{},r=t.which?t.button:-1;if(document.implementation.hasFeature("MouseEvent","4.0"))n=new MouseEvent(e,t);else{n=document.createEvent("MouseEvent");var i={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,buttons:void 0,relatedTarget:null};Object.keys(i).forEach(function(e){e in t&&(i[e]=t[e])}),n.initMouseEvent(e,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,r,i.relatedTarget)}var o=0;return o=t.pressure?t.pressure:void 0!==t.buttons?t.buttons?.5:0:r>-1?.5:0,Object.defineProperties(n,{pointerId:{value:t.pointerId||0,enumerable:!0},width:{value:t.width||0,enumerable:!0},height:{value:t.height||0,enumerable:!0},pressure:{value:o,enumerable:!0},tiltX:{value:t.tiltX||0,enumerable:!0},tiltY:{value:t.tiltY||0,enumerable:!0},pointerType:{value:t.pointerType||"",enumerable:!0},hwTimestamp:{value:t.hwTimestamp||0,enumerable:!0},isPrimary:{value:t.isPrimary||!1,enumerable:!0}}),n}var SideTable;"undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?SideTable=WeakMap:function(){var e=Object.defineProperty,t=Object.hasOwnProperty,n=(new Date).getTime()%1e9;SideTable=function(){this.name="__st"+(1e9*Math.random()>>>0)+(n++ +"__")},SideTable.prototype={set:function(t,n){e(t,this.name,{value:n,writable:!0})},get:function(e){return t.call(e,this.name)?e[this.name]:void 0}}}();var ShadowDOMPolyfill={};(function(e){"use strict";function t(e){if(!e)throw new Error("Assertion failed")}function n(e,t){return Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function r(e,t){return Object.getOwnPropertyNames(t).forEach(function(n){switch(n){case"arguments":case"caller":case"length":case"name":case"prototype":case"toString":return}Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function i(e){var t=e.__proto__||Object.getPrototypeOf(e),n=g.get(t);if(n)return n;var r=i(t),o=d(r);return u(t,o,e),o}function o(e,t){s(e,t,!0)}function a(e,t){s(t,e,!1)}function s(e,t,n){Object.getOwnPropertyNames(e).forEach(function(r){if(!(r in t)){w&&e.__lookupGetter__(r);var i;try{i=Object.getOwnPropertyDescriptor(e,r)}catch(o){i=T}var a,s;if(n&&"function"==typeof i.value)return t[r]=function(){return this.impl[r].apply(this.impl,arguments)},void 0;a=function(){return this.impl[r]},(i.writable||i.set)&&(s=function(e){this.impl[r]=e}),Object.defineProperty(t,r,{get:a,set:s,configurable:i.configurable,enumerable:i.enumerable})}})}function c(e,t,n){var i=e.prototype;u(i,t,n),r(t,e)}function u(e,n,r){var i=n.prototype;t(void 0===g.get(e)),g.set(e,n),o(e,i),r&&a(i,r)}function h(e,t){return g.get(t.prototype)===e}function l(e){var t=Object.getPrototypeOf(e),n=i(t),r=d(n);return u(t,r,e),r}function d(e){function t(t){e.call(this,t)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}function p(e){if(null===e)return null;t(e instanceof E||e instanceof O||e instanceof _);var n=b.get(e);if(!n){var r=i(e);n=new r(e),b.set(e,n)}return n}function f(e){return null===e?null:(t(e instanceof y.EventTarget||e instanceof y.Event),e.impl)}function v(e,n){null!==n&&(t(e instanceof E||e instanceof O),t(void 0===n||n instanceof y.Node),b.set(e,n))}function m(e,t){Object.defineProperty(e.prototype,t,{get:function(){return p(this.impl[t])},configurable:!0,enumerable:!0})}var b=new SideTable,g=new SideTable,y=Object.create(null);Object.getOwnPropertyNames(window);var w=/Firefox/.test(navigator.userAgent),T={get:function(){},set:function(){},configurable:!0,enumerable:!0},E=Node,O=Event,_=Window;e.wrappers=y,e.addWrapGetter=m,e.assert=t,e.mixin=n,e.registerObject=l,e.registerWrapper=c,e.rewrap=v,e.unwrap=f,e.wrap=p,e.isWrapperFor=h})(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){return e instanceof j.ShadowRoot}function n(e){var t=e.localName;return"content"===t||"shadow"===t}function r(e){return!!e.shadowRoot}function i(e){var t;return e.parentNode||(t=e.defaultView)&&k(t)||null}function o(o,a){if(t(o))return o.insertionPointParent||e.getHostForShadowRoot(o);var s=o.insertionPointParent;if(s)return s;if(a&&n(o)){var c=o.parentNode;if(c&&r(c))for(var u=getShadowTrees(c),s=a.insertionPointParent,h=0;u.length>h;h++)if(u[h].contains(s))return s}return i(o)}function a(e){for(var r=[],i=e,a=[];i;){var c=null;if(n(i)){c=s(r);var u=r[r.length-1]||i;r.push(u)}r.length||r.push(i);var h=r[r.length-1];a.push({target:h,ancestor:i}),t(i)&&r.pop(),i=o(i,c)}return a}function s(e){for(var t=e.length-1;t>=0;t--)if(!n(e[t]))return e[t];return null}function c(r,i){for(;r;){for(var a=[],c=i,l=void 0;c;){var d=null;if(a.length){if(n(c)&&(d=s(a),u(l))){var p=a[a.length-1];a.push(p)}}else a.push(c);if(h(c,r))return a[a.length-1];t(c)&&a.pop(),l=c,c=o(c,d)}r=t(r)?e.getHostForShadowRoot(r):r.parentNode}}function u(e){return e.insertionPointParent}function h(e,t){for(;;){if(e==t)return null!=e;e&&(e=e.parentNode),t&&(t=t.parentNode)}}function l(e){if(!x.get(e)){x.set(e,!0);var t=k(e.target),n=k(e);return d(n,t)}}function d(e,t){var n=a(t);return p(e,n)&&f(e,n)&&v(e,n),H.set(e,g.NONE),N.set(e,null),e.defaultPrevented}function p(e,t){for(var n,r=t.length-1;r>0;r--){var i=t[r].target,o=t[r].ancestor;if(n=i===o?g.AT_TARGET:g.CAPTURING_PHASE,!m(t[r],e,n))return!1}return!0}function f(e,t){var n=g.AT_TARGET;return m(t[0],e,n)}function v(e,t){if(e.bubbles)for(var n=g.BUBBLING_PHASE,r=1;t.length>r;r++){var i=t[r].target,o=t[r].ancestor;if(i!==o&&!m(t[r],e,n))return!1}return!0}function m(e,t,n){var r=e.target,i=e.ancestor,o=L.get(i);if(!o)return!0;if("relatedTarget"in t){var a=P(t),s=k(a.relatedTarget),u=c(i,s);if(u===r)return!1;D.set(t,u)}H.set(t,n);var h=t.type,l=!1;A.set(t,r),N.set(t,i);for(var d=0;o.length>d;d++){var p=o[d];if(p.removed)l=!0;else if(!(p.type!==h||!p.capture&&n===g.CAPTURING_PHASE||p.capture&&n===g.BUBBLING_PHASE))try{if("function"==typeof p.handler?p.handler.call(i,t):p.handler.handleEvent(t),R.get(t))return!1}catch(f){window.onerror?window.onerror(f.message):console.error(f)}}if(l){var v=o.slice();o.length=0;for(var d=0;v.length>d;d++)v[d].removed||o.push(v[d])}return!I.get(t)}function b(e,t,n){this.type=e,this.handler=t,this.capture=Boolean(n)}function g(e,t){this.impl=e instanceof F?e:new F(e,t)}function y(e){return e&&e.relatedTarget?Object.create(e,{relatedTarget:{value:P(e.relatedTarget)}}):e}function w(e,t,n){var r=window[e],i=function(e,t){this.impl=e instanceof r?e:new r(e,y(t))};return i.prototype=Object.create(t.prototype),n&&M(i.prototype,n),r&&C(r,i,document.createEvent(e)),i}function T(e,t){return function(){arguments[t]=P(arguments[t]);var n=P(this);n[e].apply(n,arguments)}}function E(e){return"function"==typeof e?!0:e&&e.handleEvent}function O(e){this.impl=e}function _(t){return t instanceof j.ShadowRoot&&(t=e.getHostForShadowRoot(t)),P(t)}function S(e){X.forEach(function(t){var n=Object.getPrototypeOf(e);n[t]=function(){var e=k(this);return e[t].apply(e,arguments)}})}var M=e.mixin,C=e.registerWrapper,P=e.unwrap,k=e.wrap,j=e.wrappers;new SideTable;var L=new SideTable,x=new SideTable,A=new SideTable,N=new SideTable,D=new SideTable,H=new SideTable,I=new SideTable,R=new SideTable;b.prototype={equals:function(e){return this.handler===e.handler&&this.type===e.type&&this.capture===e.capture},get removed(){return null===this.handler},remove:function(){this.handler=null}};var F=window.Event;g.prototype={get target(){return A.get(this)},get currentTarget(){return N.get(this)},get eventPhase(){return H.get(this)},stopPropagation:function(){I.set(this,!0)},stopImmediatePropagation:function(){I.set(this,!0),R.set(this,!0)}},C(F,g,document.createEvent("Event"));var U=w("UIEvent",g);w("CustomEvent",g);var V={get relatedTarget(){return D.get(this)||k(P(this).relatedTarget)}},z=M({initMouseEvent:T("initMouseEvent",14)},V),B=M({initFocusEvent:T("initFocusEvent",5)},V),W=w("MouseEvent",U,z),Y=w("FocusEvent",U,B),q=window.EventTarget,X=["addEventListener","removeEventListener","dispatchEvent"];[Element,Window,Document].forEach(function(e){var t=e.prototype;X.forEach(function(e){Object.defineProperty(t,e+"_",{value:t[e]})})}),O.prototype={addEventListener:function(e,t,n){if(E(t)){var r=new b(e,t,n),i=L.get(this);if(i){for(var o=0;i.length>o;o++)if(r.equals(i[o]))return}else i=[],L.set(this,i);i.push(r);var a=_(this);a.addEventListener_(e,l,!0)}},removeEventListener:function(e,t,n){n=Boolean(n);var r=L.get(this);if(r){for(var i=0,o=!1,a=0;r.length>a;a++)r[a].type===e&&r[a].capture===n&&(i++,r[a].handler===t&&(o=!0,r[a].remove()));if(o&&1===i){var s=_(this);s.removeEventListener_(e,l,!0)}}},dispatchEvent:function(e){var t=_(this);return t.dispatchEvent_(P(e))}},q&&C(q,O),e.wrappers.Event=g,e.wrappers.EventTarget=O,e.wrappers.UIEvent=U,e.wrappers.FocusEvent=Y,e.wrappers.MouseEvent=W,e.adjustRelatedTarget=c,e.wrapEventTargetMethod=S}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e,t){Object.defineProperty(e,t,{enumerable:!1})}function n(){this.length=0,t(this,"length")}function r(e){for(var t=new n,r=0,i=e.length;i>r;r++)t[r]=o(e[r]);return t.length=i,t}function i(e,t){e.prototype[t]=function(){return r(this.impl[t].apply(this.impl,arguments))}}var o=e.wrap;n.prototype={item:function(e){return this[e]}},t(n.prototype,"item"),e.wrappers.NodeList=n,e.addWrapNodeListMethod=i,e.wrapNodeList=r}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e,t,n,r){if(e.nodeType!==i.DOCUMENT_FRAGMENT_NODE)return e.parentNode&&e.parentNode.removeChild(e),e.parentNode_=t,e.previousSibling_=n,e.nextSibling_=r,n&&(n.nextSibling_=e),r&&(r.previousSibling_=e),[e];for(var o,a=[];o=e.firstChild;)e.removeChild(o),a.push(o),o.parentNode_=t;for(var s=0;a.length>s;s++)a[s].previousSibling_=a[s-1]||n,a[s].nextSibling_=a[s+1]||r;return n&&(n.nextSibling_=a[0]),r&&(r.previousSibling_=a[a.length-1]),a}function n(e){if(1===e.length)return l(e[0]);for(var t=l(document.createDocumentFragment()),n=0;e.length>n;n++)t.appendChild(l(e[n]));return t}function r(e){for(var t=e.firstChild;t;){c(t.parentNode===e);var n=t.nextSibling,r=l(t);t.previousSibling_=t.nextSibling_=t.parentNode_=null;var i=r.parentNode;i&&i.removeChild(r),t=n}e.firstChild_=e.lastChild_=null}function i(e){c(e instanceof p),o.call(this,e),this.parentNode_=void 0,this.firstChild_=void 0,this.lastChild_=void 0,this.nextSibling_=void 0,this.previousSibling_=void 0}var o=e.wrappers.EventTarget,a=e.wrappers.NodeList,s=e.addWrapGetter,c=e.assert,u=e.mixin,h=e.registerWrapper,l=e.unwrap,d=e.wrap,p=window.Node;i.prototype=Object.create(o.prototype),u(i.prototype,{appendChild:function(e){c(e instanceof i),this.invalidateShadowRenderer();var r=this.lastChild,o=null,a=t(e,this,r,o);return this.lastChild_=a[a.length-1],r||(this.firstChild_=a[0]),Object.getPrototypeOf(this.impl).appendChild.call(this.impl,n(a)),e},insertBefore:function(e,r){if(!r)return this.appendChild(e);c(e instanceof i),c(r instanceof i),c(r.parentNode===this),this.invalidateShadowRenderer();var o=r.previousSibling,a=r,s=t(e,this,o,a);this.firstChild===r&&(this.firstChild_=s[0]);var u=l(r),h=u.parentNode;return h&&h.insertBefore(n(s),u),e},removeChild:function(e){if(c(e instanceof i),e.parentNode!==this)throw new Error("NotFoundError");this.invalidateShadowRenderer(),this.firstChild===e&&(this.firstChild_=e.nextSibling),this.lastChild===e&&(this.lastChild_=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling_=e.nextSibling),e.nextSibling&&(e.nextSibling.previousSibling_=e.previousSibling),e.previousSibling_=e.nextSibling_=e.parentNode_=null;var t=l(e),n=t.parentNode;return n&&n.removeChild(t),e},replaceChild:function(e,r){if(c(e instanceof i),c(r instanceof i),r.parentNode!==this)throw new Error("NotFoundError");this.invalidateShadowRenderer();var o=r.previousSibling,a=r.nextSibling;a===e&&(a=e.nextSibling);var s=t(e,this,o,a);this.firstChild===r&&(this.firstChild_=s[0]),this.lastChild===r&&(this.lastChild_=s[s.length-1]),r.previousSibling_=null,r.nextSibling_=null,r.parentNode_=null;var u=l(r);return u.parentNode&&u.parentNode.replaceChild(n(s),u),r},hasChildNodes:function(){return null===this.firstChild},get parentNode(){return void 0!==this.parentNode_?this.parentNode_:d(this.impl.parentNode)},get firstChild(){return void 0!==this.firstChild_?this.firstChild_:d(this.impl.firstChild)},get lastChild(){return void 0!==this.lastChild_?this.lastChild_:d(this.impl.lastChild)},get nextSibling(){return void 0!==this.nextSibling_?this.nextSibling_:d(this.impl.nextSibling)},get previousSibling(){return void 0!==this.previousSibling_?this.previousSibling_:d(this.impl.previousSibling)},get parentElement(){for(var e=this.parentNode;e&&e.nodeType!==i.ELEMENT_NODE;)e=e.parentNode;return e},get textContent(){for(var e="",t=this.firstChild;t;t=t.nextSibling)e+=t.textContent;return e},set textContent(e){if(r(this),this.invalidateShadowRenderer(),""!==e){var t=this.impl.ownerDocument.createTextNode(e);this.appendChild(t)}},get childNodes(){for(var e=new a,t=0,n=this.firstChild;n;n=n.nextSibling)e[t++]=n;return e.length=t,e},cloneNode:function(e){if(!this.invalidateShadowRenderer())return d(this.impl.cloneNode(e));var t=d(this.impl.cloneNode(!1));if(e)for(var n=this.firstChild;n;n=n.nextSibling)t.appendChild(n.cloneNode(!0));return t},contains:function(e){if(e===this)return!0;var t=e.parentNode;return t?this.contains(t):!1}}),s(i,"ownerDocument"),h(p,i,document.createDocumentFragment()),delete i.prototype.querySelector,delete i.prototype.querySelectorAll,i.prototype=u(Object.create(o.prototype),i.prototype),e.wrappers.Node=i}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}function n(e){for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}var r=e.wrappers.NodeList;e.mixin;var i=e.wrap,o=e.wrapNodeList,a={get firstElementChild(){return t(this.firstChild)},get lastElementChild(){return n(this.lastChild)},get childElementCount(){for(var e=0,t=this.firstElementChild;t;t=t.nextElementSibling)e++;return e},get children(){for(var e=new r,t=0,n=this.firstElementChild;n;n=n.nextElementSibling)e[t++]=n;return e.length=t,e}},s={get nextElementSibling(){return t(this.nextSibling)},get previousElementSibling(){return n(this.nextSibling)}},c={querySelector:function(e){return i(this.impl.querySelector(e))},querySelectorAll:function(e){return o(this.impl.querySelectorAll(e))}};e.ChildNodeInterface=s,e.ParentNodeInterface=a,e.SelectorsInterface=c}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){r.call(this,e)}var n=e.ChildNodeInterface,r=e.wrappers.Node,i=e.mixin,o=e.registerWrapper,a=window.CharacterData;t.prototype=Object.create(r.prototype),i(t.prototype,{get textContent(){return this.data},set textContent(e){this.data=e}}),i(t.prototype,n),o(a,t,document.createTextNode("")),e.wrappers.CharacterData=t}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){r.call(this,e)}var n=e.ChildNodeInterface,r=e.wrappers.Node,i=e.ParentNodeInterface,o=e.SelectorsInterface,a=e.addWrapNodeListMethod,s=e.mixin,c=e.registerWrapper,u=e.wrappers,h=new SideTable,l=window.Element;t.prototype=Object.create(r.prototype),s(t.prototype,{createShadowRoot:function(){var t=new u.ShadowRoot(this);return h.set(this,t),new e.ShadowRenderer(this),this.invalidateShadowRenderer(),t},get shadowRoot(){return h.get(this)||null},setAttribute:function(e,t){this.impl.setAttribute(e,t),this.invalidateShadowRenderer()}}),s(t.prototype,n),s(t.prototype,i),s(t.prototype,o),["getElementsByTagName","getElementsByTagNameNS","getElementsByClassName"].forEach(function(e){a(t,e)}),c(l,t),e.wrappers.Element=t}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}}function n(e){return e.replace(f,t)}function r(e){switch(e.nodeType){case Node.ELEMENT_NODE:for(var t,r=e.tagName.toLowerCase(),o="<"+r,a=e.attributes,s=0;t=a[s];s++)o+=" "+t.name+'="'+n(t.value)+'"';return o+=">",v[r]?o:o+i(e)+"</"+r+">";case Node.TEXT_NODE:return n(e.nodeValue);case Node.COMMENT_NODE:return"<!--"+n(e.nodeValue)+"-->";default:throw console.error(e),new Error("not implemented")}}function i(e){for(var t="",n=e.firstChild;n;n=n.nextSibling)t+=r(n);return t}function o(e,t,n){var r=n||"div";e.textContent="";var i=l(e.ownerDocument.createElement(r));i.innerHTML=t;for(var o;o=i.firstChild;)e.appendChild(d(o))}function a(e){u.call(this,e)}function s(t){Object.defineProperty(a.prototype,t,{get:function(){return e.renderAllPending(),this.impl[t]},configurable:!0,enumerable:!0})}function c(t){Object.defineProperty(a.prototype,t,{value:function(){return e.renderAllPending(),this.impl[t].apply(this.impl,arguments)},configurable:!0,enumerable:!0})}var u=e.wrappers.Element,h=e.mixin,l=e.unwrap,d=e.wrap,p=e.registerWrapper,f=/&|<|"/g,v={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},m=window.HTMLElement;a.prototype=Object.create(u.prototype),h(a.prototype,{get innerHTML(){return i(this)},set innerHTML(e){o(this,e,this.tagName)},get outerHTML(){return r(this)},set outerHTML(e){if(this.invalidateShadowRenderer())throw new Error("not implemented");this.impl.outerHTML=e}}),["clientHeight","clientLeft","clientTop","clientWidth","offsetHeight","offsetLeft","offsetTop","offsetWidth","scrollHeight","scrollLeft","scrollTop","scrollWidth"].forEach(s),["getBoundingClientRect","getClientRects","scrollIntoView"].forEach(c),p(m,a,document.createElement("b")),e.wrappers.HTMLElement=a,e.getInnerHTML=i,e.setInnerHTML=o}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){n.call(this,e)}var n=e.wrappers.HTMLElement,r=e.mixin,i=e.registerWrapper,o=window.HTMLContentElement;t.prototype=Object.create(n.prototype),r(t.prototype,{get select(){return this.getAttribute("select")},set select(e){this.setAttribute("select",e),this.invalidateShadowRenderer()}}),o&&i(o,t),e.wrappers.HTMLContentElement=t}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){n.call(this,e),this.olderShadowRoot_=null}var n=e.wrappers.HTMLElement,r=e.mixin,i=e.registerWrapper,o=window.HTMLShadowElement;t.prototype=Object.create(n.prototype),r(t.prototype,{get olderShadowRoot(){return this.olderShadowRoot_}}),o&&i(o,t),e.wrappers.HTMLShadowElement=t}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){if(!e.defaultView)return e;var t=l.get(e);if(!t){for(t=e.implementation.createHTMLDocument("");t.lastChild;)t.removeChild(t.lastChild);l.set(e,t)}return t}function n(e){for(var n,r=t(e.ownerDocument),i=r.createDocumentFragment();n=e.firstChild;)i.appendChild(n);return i}function r(e){i.call(this,e)}var i=e.wrappers.HTMLElement,o=e.getInnerHTML,a=e.mixin,s=e.registerWrapper,c=e.setInnerHTML,u=e.wrap,h=new SideTable,l=new SideTable,d=window.HTMLTemplateElement;r.prototype=Object.create(i.prototype),a(r.prototype,{get content(){if(d)return u(this.impl.content);var e=h.get(this);return e||(e=n(this),h.set(this,e)),e},get innerHTML(){return o(this.content)},set innerHTML(e){c(this.content,e),this.invalidateShadowRenderer()}}),d&&s(d,r),e.wrappers.HTMLTemplateElement=r}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){switch(e.localName){case"content":return new n(e);case"shadow":return new i(e);case"template":return new o(e)}r.call(this,e)}var n=e.wrappers.HTMLContentElement,r=e.wrappers.HTMLElement,i=e.wrappers.HTMLShadowElement,o=e.wrappers.HTMLTemplateElement;e.mixin;var a=e.registerWrapper,s=window.HTMLUnknownElement;t.prototype=Object.create(r.prototype),a(s,t),e.wrappers.HTMLUnknownElement=t}(this.ShadowDOMPolyfill),function(e){"use strict";var t=e.ParentNodeInterface,n=e.SelectorsInterface,r=e.mixin,i=e.registerObject,o=i(document.createDocumentFragment());r(o.prototype,t),r(o.prototype,n),i(document.createTextNode("")),i(document.createComment("")),e.wrappers.DocumentFragment=o}(this.ShadowDOMPolyfill),function(e){"use strict";function t(t){var r=s(t.impl.ownerDocument.createDocumentFragment());n.call(this,r),o(r,this);var i=t.shadowRoot;e.nextOlderShadowTreeTable.set(this,i),c.set(this,t),t.invalidateShadowRenderer()}var n=e.wrappers.DocumentFragment,r=e.getInnerHTML,i=e.mixin,o=e.rewrap,a=e.setInnerHTML,s=e.unwrap,c=new SideTable;t.prototype=Object.create(n.prototype),i(t.prototype,{get innerHTML(){return r(this)},set innerHTML(e){a(this,e),this.invalidateShadowRenderer()},invalidateShadowRenderer:function(){return c.get(this).invalidateShadowRenderer()}}),e.wrappers.ShadowRoot=t,e.getHostForShadowRoot=function(e){return c.get(e)}}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){e.previousSibling_=e.previousSibling,e.nextSibling_=e.nextSibling,e.parentNode_=e.parentNode}function n(e){e.firstChild_=e.firstChild,e.lastChild_=e.lastChild}function r(e){j(e instanceof k);for(var r=e.firstChild;r;r=r.nextSibling)t(r);n(e)}function i(e){var t=x(e);r(e),t.textContent=""}function o(e,n){var i=x(e),o=x(n);o.nodeType===k.DOCUMENT_FRAGMENT_NODE?r(n):(s(n),t(n)),e.lastChild_=e.lastChild,e.lastChild===e.firstChild&&(e.firstChild_=e.firstChild);var a=A(i.lastChild);a&&(a.nextSibling_=a.nextSibling),i.appendChild(o)}function a(e,n){var r=x(e),i=x(n);t(n),n.previousSibling&&(n.previousSibling.nextSibling_=n),n.nextSibling&&(n.nextSibling.previousSibling_=n),e.lastChild===n&&(e.lastChild_=n),e.firstChild===n&&(e.firstChild_=n),r.removeChild(i)}function s(e){var t=x(e),n=t.parentNode;n&&a(A(n),e)}function c(e,t){h(t).push(e),I.set(e,t)}function u(e){N.set(e,[])}function h(e){return N.get(e)}function l(e){for(var t=[],n=0,r=e.firstChild;r;r=r.nextSibling)t[n++]=r;return t}function d(e,t,n){for(var r=l(e),i=0;r.length>i;i++){var o=r[i];if(t(o)){if(n(o)===!1)return}else d(o,t,n)}}function p(e,t){var n=!1;if(d(e,y,function(e){u(e);for(var r=0;t.length>r;r++){var i=t[r];void 0!==i&&v(i,e)&&(c(i,e),t[r]=void 0,n=!0)}}),!n)return t;for(var r=[],i=0;t.length>i;i++)void 0!==t[i]&&r.push(t[i]);return r}function f(e,t){for(var n=0;t.length>n;n++)if(t[n]in e)return t[n]}function v(e,t){var n=t.getAttribute("select");if(!n)return!0;if(n=n.trim(),!n)return!0;if(e.nodeType!==k.ELEMENT_NODE)return!1;if(!R.test(n))return!1;if(":"===n[0]&&!F.test(n))return!1;try{return e[U](n)}catch(r){return!1}}function m(){C=null,z.forEach(function(e){e.render()}),z=[]}function b(e){this.host=e,this.dirty=!1,this.associateNode(e)}function g(e){return"CONTENT"==e.tagName}function y(e){return"CONTENT"===e.tagName}function w(e){return"SHADOW"===e.tagName}function T(e){return"SHADOW"===e.tagName}function E(e){return!!e.shadowRoot}function O(e){return H.get(e)}function _(e){for(var t=[],n=e.shadowRoot;n;n=H.get(n))t.push(n);return t}function S(){}function M(e){new b(e).render()}var C,P=e.wrappers.HTMLContentElement,k=e.wrappers.Node,j=e.assert,L=e.mixin,x=e.unwrap,A=e.wrap,N=new SideTable,D=new SideTable,H=new SideTable,I=new SideTable,R=/^[*.:#[a-zA-Z_|]/,F=new RegExp("^:("+["link","visited","target","enabled","disabled","checked","indeterminate","nth-child","nth-last-child","nth-of-type","nth-last-of-type","first-child","last-child","first-of-type","last-of-type","only-of-type"].join("|")+")"),U=f(document.documentElement,["matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector"]),V=f(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","setTimeout"]),z=[];b.prototype={render:function(){if(this.dirty){var e=this.host;this.treeComposition();var t=e.shadowRoot;if(t){this.removeAllChildNodes(this.host);var n=l(t);n.forEach(function(n){this.renderNode(e,t,n,!1)},this),this.dirty=!1}}},invalidate:function(){if(!this.dirty){if(this.dirty=!0,z.push(this),C)return;C=window[V](m,0)}},renderNode:function(e,t,n,r){if(E(n)){this.appendChild(e,n);var i=new b(n);i.render()}else g(n)?this.renderInsertionPoint(e,t,n,r):w(n)?this.renderShadowInsertionPoint(e,t,n):this.renderAsAnyDomTree(e,t,n,r)},renderAsAnyDomTree:function(e,t,n,r){if(this.appendChild(e,n),E(n))M(n);else{var i=n,o=l(i);o.forEach(function(e){this.renderNode(i,t,e,r)},this)}},renderInsertionPoint:function(e,t,n,r){var i=h(n);i.length?(this.removeAllChildNodes(n),i.forEach(function(n){g(n)&&r?this.renderInsertionPoint(e,t,n,r):this.renderAsAnyDomTree(e,t,n,r)},this)):this.renderFallbackContent(e,n),this.remove(n)},renderShadowInsertionPoint:function(e,t,n){var r=O(t);if(r){I.set(r,n),n.olderShadowRoot_=r,this.remove(n);var i=l(r);i.forEach(function(t){this.renderNode(e,r,t,!0)},this)}else this.renderFallbackContent(e,n)},renderFallbackContent:function(e,t){var n=l(t);n.forEach(function(t){this.appendChild(e,t)},this)},treeComposition:function(){var e=this.host,t=e.shadowRoot,n=[],r=l(e);r.forEach(function(e){if(g(e)){var t=h(e);t&&t.length||(t=l(e)),n.push.apply(n,t)}else n.push(e)});for(var i,o;t;){if(i=void 0,d(t,T,function(e){return i=e,!1}),o=i,n=p(t,n),o){var a=O(t);if(a){t=a,S(t,o);continue}break}break}},appendChild:function(e,t){o(e,t),this.associateNode(t)},remove:function(e){s(e),this.associateNode(e)},removeAllChildNodes:function(e){i(e)},associateNode:function(e){D.set(e,this)}},k.prototype.invalidateShadowRenderer=function(){var e=D.get(this);return e?(e.invalidate(),!0):!1},P.prototype.getDistributedNodes=function(){return m(),h(this)},L(k.prototype,{get insertionPointParent(){return I.get(this)||null}}),e.ShadowRenderer=b,e.renderAllPending=m,e.nextOlderShadowTreeTable=H,e.getShadowTrees=_,e.visual={removeAllChildNodes:i,appendChild:o,removeChild:a}}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){c.call(this,e)}function n(e){var n=Object.getPrototypeOf(document),r=n[e];n[e]=function(){return p(r.apply(this,arguments))},t.prototype[e]=function(){return p(r.apply(this.impl,arguments))}}function r(e){var n=Object.getPrototypeOf(document),r=n[e];n[e]=function(){return v(r.apply(this,arguments))},t.prototype[e]=function(){return v(r.apply(this.impl,arguments))}}function i(e,t){e.prototype[t]=function(){return p(this.impl[t].apply(this.impl,arguments))}}function o(e,t){e.prototype[t]=function(){return this.impl[t].apply(this.impl,arguments)}}function a(e){this.impl=e}var s=e.ParentNodeInterface,c=e.wrappers.Node,u=e.addWrapGetter,h=e.mixin,l=e.registerWrapper,d=e.unwrap,p=e.wrap,f=e.wrapEventTargetMethod,v=e.wrapNodeList,m=new SideTable,b=window.Document;t.prototype=Object.create(c.prototype),u(t,"documentElement"),u(t,"body"),u(t,"head"),h(t.prototype,s),h(t.prototype,{get implementation(){var e=m.get(this);return e?e:(e=new a(d(this).implementation),m.set(this,e),e)}}),l(b,t,document.implementation.createHTMLDocument("")),window.HTMLDocument&&l(window.HTMLDocument,t),["getElementById","querySelector","createElement","createElementNS","createTextNode","createDocumentFragment","createEvent","createEventNS"].forEach(n),["getElementsByTagName","getElementsByTagNameNS","getElementsByClassName","querySelectorAll"].forEach(r),f(document),i(a,"createDocumentType"),i(a,"createDocument"),i(a,"createHTMLDocument"),o(a,"hasFeature"),e.wrappers.Document=t,e.wrappers.DOMImplementation=a}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){n.call(this,e)}var n=e.wrappers.EventTarget,r=e.registerWrapper;e.wrap;var i=e.wrapEventTargetMethod,o=window.Window;t.prototype=Object.create(n.prototype),r(o,t),i(window),e.wrappers.Window=t}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){var t=n[e],r=window[t];if(r){var i=document.createElement(e),o=i.constructor;window[t]=o}}e.isWrapperFor,Object.getOwnPropertyNames(e.wrappers).forEach(function(t){window[t]=e.wrappers[t]});var n={a:"HTMLAnchorElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",audio:"HTMLAudioElement",br:"HTMLBRElement",base:"HTMLBaseElement",body:"HTMLBodyElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",dl:"HTMLDListElement",datalist:"HTMLDataListElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",embed:"HTMLEmbedElement",fieldset:"HTMLFieldSetElement",font:"HTMLFontElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",hr:"HTMLHRElement",head:"HTMLHeadElement",h1:"HTMLHeadingElement",html:"HTMLHtmlElement",iframe:"HTMLIFrameElement",input:"HTMLInputElement",li:"HTMLLIElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",link:"HTMLLinkElement",map:"HTMLMapElement",menu:"HTMLMenuElement",menuitem:"HTMLMenuItemElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",del:"HTMLModElement",ol:"HTMLOListElement",object:"HTMLObjectElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",script:"HTMLScriptElement",select:"HTMLSelectElement",source:"HTMLSourceElement",span:"HTMLSpanElement",style:"HTMLStyleElement",caption:"HTMLTableCaptionElement",col:"HTMLTableColElement",table:"HTMLTableElement",tr:"HTMLTableRowElement",thead:"HTMLTableSectionElement",tbody:"HTMLTableSectionElement",textarea:"HTMLTextAreaElement",title:"HTMLTitleElement",ul:"HTMLUListElement",video:"HTMLVideoElement"};Object.keys(n).forEach(t),e.knownElements=n}(this.ShadowDOMPolyfill),function(){if(window.wrap=function(e){return e.impl?e:ShadowDOMPolyfill.wrap(e)},window.unwrap=function(e){return e.impl?ShadowDOMPolyfill.unwrap(e):e}(function(){var e=document.createTextNode(" ");Text=function(){},Text.prototype=Object.getPrototypeOf(e)})(),"function"==typeof window.CustomEvent){var e=CustomEvent;window.CustomEvent=function(t,n){return ShadowDOMPolyfill.wrap(new e(t,n))}}var t=function(){var e=wrap(this);e.appendChild.apply(e,arguments)};document.head.appendChild=t,document.addEventListener("DOMContentLoaded",function(){document.body.appendChild=t});var n={querySelector:{value:function(e){return localQuery(this,e)}},querySelectorAll:{value:function(e){return localQueryAll(this,e)}}};Object.defineProperties(HTMLElement.prototype,n),Object.defineProperties(ShadowDOMPolyfill.wrappers.Document.prototype,n),Object.defineProperties(ShadowDOMPolyfill.wrappers.ShadowRoot.prototype,n),Object.defineProperties(HTMLElement.prototype,{webkitShadowRoot:{get:function(){return this.shadowRoot}}}),HTMLElement.prototype.webkitCreateShadowRoot=HTMLElement.prototype.createShadowRoot}();var generateMatcher=function(e){if(e){var t,n=e[0];if("#"===n)return t=e.slice(1),function(e){return e.id===t};if("*"===e)return function(e){return"#text"!==e.nodeName};if("."===n)return t=e.slice(1),function(e){return e.classList&&e.classList.contains(t)};if("["===n){t=e.slice(1,-1),t=t.split("=");var r=t[1];return t=t[0],r?function(e){return e.getAttribute&&e.getAttribute(t)==r}:function(e){return e.hasAttribute&&e.hasAttribute(t)}}var i=e.toLowerCase().split(",");return function(e){return i.indexOf(e.localName)>=0}}},isInsertionPoint=function(e){return{SHADOW:1,CONTENT:1}[e.tagName]},search=function(e,t){for(var n,r=[],i=0;n=e[i];i++)t(n)&&r.push(n),isInsertionPoint(n)||(r=r.concat(_search(n,t)));return r},_search=function(e,t){return search(e.childNodes,t)},localQueryAll=function(e,t){return search(e.childNodes,generateMatcher(t))},localQuery=function(e,t){return localQueryAll(e,t)[0]};Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(e,r)}}),function(){"use strict";var e=DOMTokenList.prototype.add,t=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var t=0;arguments.length>t;t++)e.call(this,arguments[t])},DOMTokenList.prototype.remove=function(){for(var e=0;arguments.length>e;e++)t.call(this,arguments[e])},DOMTokenList.prototype.toggle=function(e,t){1==arguments.length&&(t=!this.contains(e)),t?this.add(e):this.remove(e)},window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)
}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}}())}(),window.templateContent=window.templateContent||function(e){return e.content},function(){var e;window.sinspect=function(n,r){e||(e=window.open("","ShadowDOM Inspector",null,!0),e.document.write(t),e.api={shadowize:shadowize}),i(n||wrap(document.body),r)};var t=["<!DOCTYPE html>","<html>","  <head>","    <title>ShadowDOM Inspector</title>","    <style>","      body {","      }","      pre {",'        font: 9pt "Courier New", monospace;',"        line-height: 1.5em;","      }","      tag {","        color: purple;","      }","      ul {","         margin: 0;","         padding: 0;","         list-style: none;","      }","      li {","         display: inline-block;","         background-color: #f1f1f1;","         padding: 4px 6px;","         border-radius: 4px;","         margin-right: 4px;","      }","    </style>","  </head>","  <body>",'    <ul id="crumbs">',"    </ul>",'    <div id="tree"></div>',"  </body>","</html>"].join("\n"),n=[],r=function(){var t=e.document,r=t.querySelector("#crumbs");r.textContent="";for(var o,a=0;o=n[a];a++){var s=t.createElement("a");s.href="#",s.textContent=o.localName,s.idx=a,s.onclick=function(e){for(var t;n.length>this.idx;)t=n.pop();i(t.shadow||t,t),e.preventDefault()},r.appendChild(t.createElement("li")).appendChild(s)}},i=function(t,i){var o=e.document;u=[];var a=i||t;n.push(a),r(),o.body.querySelector("#tree").innerHTML="<pre>"+c(t,t.childNodes)+"</pre>"},o=Array.prototype.forEach.call.bind(Array.prototype.forEach),a={STYLE:1,SCRIPT:1,"#comment":1,TEMPLATE:1},s=function(e){return a[e.nodeName]},c=function(e,t,n){if(s(e))return"";var r=n||"";if(e.localName||11==e.nodeType){var i=e.localName||"shadow-root",a=r+h(e);"content"==i&&(t=e.getDistributedNodes()),a+="<br/>";var u=r+"&nbsp;&nbsp;";o(t,function(e){a+=c(e,e.childNodes,u)}),a+=r,{br:1}[i]||(a+="<tag>&lt;/"+i+"&gt;</tag>",a+="<br/>")}else{var l=e.textContent.trim();a=l?r+'"'+l+'"'+"<br/>":""}return a},u=[],h=function(e){var t="<tag>&lt;",n=e.localName||"shadow-root";return e.webkitShadowRoot||e.shadowRoot?(t+=' <button idx="'+u.length+'" onclick="api.shadowize.call(this)">'+n+"</button>",u.push(e)):t+=n||"shadow-root",e.attributes&&o(e.attributes,function(e){t+=" "+e.name+(e.value?'="'+e.value+'"':"")}),t+="&gt;</tag>"};shadowize=function(){var e=Number(this.attributes.idx.value),t=u[e];t?i(t.webkitShadowRoot||t.shadowRoot,t):(console.log("bad shadowize node"),console.dir(this))}}(),function(e){"use strict";function t(){this.entries=[]}function n(){this.entries={},this.size=0}function r(e,t){this.scoreFunction=e,this.content=t||[],this.content.length&&this.build()}function i(e){this.stayFunc=e,this.methods=new t}function o(e,t){this.constraint=e,this.variable=t}function a(e){this.planner=e,this.methods=[]}function s(){this.variables=[],this.constraints=[],this.variableUIDCounter=1,this.methodUIDCounter=1}t.prototype={add:function(e){this.entries.indexOf(e)>=0||this.entries.push(e)},"delete":function(e){var t=this.entries.indexOf(e);0>t||this.entries.splice(t,1)},first:function(){return this.entries[0]},get size(){return this.entries.length}},n.prototype={add:function(e){void 0===this.entries[e.__UID__]&&(this.entries[e.__UID__]=e,this.size++)},"delete":function(e){void 0!==this.entries[e.__UID__]&&(this.entries[e.__UID__]=void 0,this.size--)}},r.prototype={get size(){return this.content.length},build:function(){for(var e=Math.floor(this.content.length/2)-1,t=e;t>=0;t--)this.sinkDown(t)},push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length&&(this.content[0]=t,this.sinkDown(0)),e},"delete":function(e){for(var t=this.content.length,n=0;t>n;n++)if(this.content[n]==e){var r=this.content.pop();return n!=t-1&&(this.content[n]=r,this.scoreFunction(r)<this.scoreFunction(node)?this.bubbleUp(n):this.sinkDown(n)),void 0}},bubbleUp:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this.content[n];if(this.scoreFunction(t)<=this.scoreFunction(r))break;this.content[n]=t,this.content[e]=r,e=n}},sinkDown:function(e){var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);do{var i=2*(e+1),o=i-1,a=null,s=r;if(t>o){var c=this.content[o],u=this.scoreFunction(c);u>r&&(a=o,s=u)}if(t>i){var h=this.content[i],l=this.scoreFunction(h);l>s&&(a=i)}null!=a&&(this.content[e]=this.content[a],this.content[a]=n,e=a)}while(null!=a)}},i.prototype={freeMethod:function(){return this.methods.first()}},a.prototype={addMethod:function(e){var t=new o(this,e);return this.methods.push(t),t.__UID__=this.planner.methodUIDCounter++,t},reset:function(){this.methods.forEach(function(e){e.variable.methods.add(e)})},remove:function(){this.methods.forEach(function(e){e.variable.methods.delete(e)})}},s.prototype={addVariable:function(e){var t=new i(e);return t.__UID__=this.variableUIDCounter++,this.variables.push(t),t},addConstraint:function(){var e=new a(this);return this.constraints.push(e),e},removeConstraint:function(e){var t=this.constraints.indexOf(e);0>t||(e.remove(),this.constraints.splice(t,1),this.constraints.forEach(function(e){e.reset()}),this.variables=this.variables.filter(function(e){return e.methods.size}))},getPlan:function(){this.variables.forEach(function(e){e.priority=e.stayFunc()}),this.constraints.forEach(function(e){e.reset()});var e=[],t=[],i=new n;for(this.variables.forEach(function(e){var n=e.methods.size;n>1?i.add(e):1==n&&t.push(e)}),t=new r(function(e){return e.priority},t);t.size;){var o;do o=t.pop();while(t.size&&!o.methods.size);if(!o.methods.size)break;var a=o.freeMethod(),s=a.constraint;s.remove(),s.methods.forEach(function(e){var n=e.variable;1==n.methods.size&&(i.delete(n),t.push(n))}),e.push(a)}return i.size?void 0:e.reverse()}},e.Planner=s}(this),function(e){"use strict";function t(e){return+e===e>>>0}function n(e){return+e}function r(e){return e===Object(e)}function i(e,t){return e===t?0!==e||1/e===1/t:k(e)&&k(t)?!0:e!==e&&t!==t}function o(){function e(e){var t=n.get(e);return t||(t=Object.create(null),n.set(e,t)),t}function t(e){if(null===e)return"$0";var t,n;switch(typeof e){case"undefined":return"$1";case"boolean":return"$"+(e+2);case"object":case"function":return n=r.get(e),n||(n="$"+a++,r.set(e,n)),n;case"number":t=i;break;case"string":t=o}return n=t[e],n||(n="$"+a++,t[e]=n),n}if(!Map.prototype.forEach||!Set.prototype.forEach){var n=new WeakMap,r=new WeakMap,i=Object.create(null),o=Object.create(null),a=4,s=Map.prototype.set,c=Map.prototype.delete,u=Set.prototype.add,h=Set.prototype.delete;Map.prototype.set=function(n,r){var i=t(n),o=e(this);return o[i]=n,s.call(this,n,r)},Map.prototype.delete=function(n){var r=t(n),i=e(this);return delete i[r],c.call(this,n)},Map.prototype.forEach=function(t,n){var r=e(this);for(var i in r){var o=r[i],a=this.get(o);t.call(n||this,a,o,this)}},Set.prototype.add=function(n){var r=t(n),i=e(this);return i[r]=n,u.call(this,n)},Set.prototype.delete=function(n){var r=t(n),i=e(this);return delete i[r],h.call(this,n)},Set.prototype.forEach=function(t,n){var r=e(this);for(var i in r){var o=r[i];t.call(n||this,o,o,this)}},Map.getValueSet=function(e){var t=new Set;return e.forEach(function(e){t.add(e)}),t}}}function a(e){function t(){this.values_=[],this.keys_=[]}function n(){this.keys_=[]}t.prototype={get:function(e){return this.values_[this.keys_.indexOf(e)]},set:function(e,t){var n=this.keys_.indexOf(e);0>n&&(n=this.keys_.length),this.keys_[n]=e,this.values_[n]=t},has:function(e){return this.keys_.indexOf(e)>=0},"delete":function(e){var t=this.keys_.indexOf(e);return 0>t?!1:(this.keys_.splice(t,1),this.values_.splice(t,1),!0)},forEach:function(e,t){for(var n=0;this.keys_.length>n;n++)e.call(t||this,this.values_[n],this.keys_[n],this)},get size(){return this.keys_.length}},n.prototype={add:function(e){0>this.keys_.indexOf(e)&&this.keys_.push(e)},has:function(e){return this.keys_.indexOf(e)>=0},"delete":function(e){var t=this.keys_.indexOf(e);return 0>t?!1:(this.keys_.splice(t,1),!0)},forEach:function(e,t){for(var n=0;this.keys_.length>n;n++)e.call(t||this,this.keys_[n],this.keys_[n],this)},get size(){return this.keys_.length}},t.getValueSet=function(e){var t=new n;return t.keys_=e.values_.slice(),t},e.Map=t,e.Set=n}function s(e){return"string"!=typeof e?!1:(e=e.replace(/\s/g,""),""==e?!0:"."==e[0]?!1:A.test(e))}function c(e){return""==e.trim()?this:t(e)?(this.push(String(e)),this):(e.split(/\./).filter(function(e){return e}).forEach(function(e){this.push(e)},this),void 0)}function u(t){var n,i=!0,o=!1,a=!1,u=!1,h={objectObservers:new Map,bindingPriorityCounter:1,getObjectObserver:function(e){return this.objectObservers.get(e)},getOrCreateObjectObserver:function(e){var t=this.objectObservers.get(e);return t||(t=new g(this,e),this.objectObservers.set(e,t)),t},removeObjectObserver:function(e){this.objectObservers.delete(e)},nextBindingPriority:function(){return this.bindingPriorityCounter++},addPathTracker:function(e,t){this.getOrCreateObjectObserver(e).addPathTracker(t)},removePathTracker:function(e,t){this.getObjectObserver(e).removePathTracker(t)},connect:function(){this.objectObservers.forEach(function(e){e.connect()})},disconnect:function(){this.objectObservers.forEach(function(e){e.disconnect()})},internalCallback:function(e){if(!e||!e.length)return console.error("Object.observe callback called with no records"),void 0;try{a||(this.activeObservers=new Set);for(var t,n,r=0;e.length>r;r++){var i=e[r];if(t!==i.object){if(t=i.object,n=this.getObjectObserver(t),!n){t=void 0;continue}this.activeObservers.add(n)}n.addChangeRecord(i)}if(a)return;a=!0,this.deliverSummaries(),a=!1}catch(o){console.error(o)}},dirtyCheck:function(){var e=0;do try{e++,this.activeObservers=Map.getValueSet(this.objectObservers),this.deliverSummaries()}catch(t){console.error(t)}while(u&&N>e)},resolveBindings:function(){var e=this.planner.getPlan();e||console.error("Error: bindings are over-constrained");for(var t=!1,n=0;e.length>n;n++){var r=e[n],i=r.to;if(!i.setValue(r.from.value))break;t=!0;var o=this.getOrCreateObjectObserver(i.object);o.addDirtyPath(i),this.activeObservers.add(o)}return t},deliverSummaries:function(){n=[];var e=!1;return this.activeObservers.forEach(function(t){e=t.checkPathValues()||e}),e&&this.resolveBindings()&&P&&Object.deliverChangeRecords(h.callback),this.activeObservers.forEach(function(e){e.checkObjectsAndArrays()}),this.activeObservers.forEach(function(e){var t=e.produceSummary();e.reset(),t&&n.push(t)}),this.activeObservers=void 0,n.length||(n=void 0),o||!n?(u=!1,void 0):(t(n),n=void 0,u=!0,void 0)}};if(h.callback=h.internalCallback.bind(h),P){var l={};Object.observe(l,h.callback),Object.unobserve(l,h.callback)}this.observeObject=function(e){if(!r(e))throw Error("Invalid attempt to observe non-object: "+e);h.getOrCreateObjectObserver(e).observeObject()},this.unobserveObject=function(e){if(!r(e))throw Error("Invalid attempt to unobserve non-object: "+e);var t=h.getObjectObserver(e);t&&t.unobserveObject()},this.observeArray=function(e){if(!Array.isArray(e))throw Error("Invalid attempt to observe non-array: "+e);h.getOrCreateObjectObserver(e).observeArray()},this.unobserveArray=function(e){if(Array.isArray(e)){var t=h.getObjectObserver(e);t&&t.unobserveArray()}},this.observePath=function(e,t){if(!s(t))return void 0;var n=new c(t);if(!n.length)return e;if(!r(e))return void 0;var i=h.getOrCreateObjectObserver(e).observePath(n);return i.value},this.unobservePath=function(e,t){if(s(t)){var n=new c(t);if(n.length&&r(e)){var i=h.getObjectObserver(e);i&&i.unobservePath(n)}}},this.bind=function(t,n,i,o){if("function"!=typeof e.Planner)throw Error("Binding requires Planner library");if(!s(n)||!s(o))throw Error("Not implemented");var a=new c(n),u=new c(o);if(!(a.length&&u.length&&r(t)&&r(i)))throw Error("Not implemented");h.planner||(h.planner=new Planner);var l=h.getOrCreateObjectObserver(t).observePath(a,!0),d=h.getOrCreateObjectObserver(i).observePath(u,!0);if(!(d.bindings&&tracker2.bindings.has(l)||l.bindings&&l.bindings.has(d))){if(l.bindings||(l.bindings=new Map),!l.variable){var p=h.nextBindingPriority();l.variable=h.planner.addVariable(function(){return l.changed?p:1/0})}if(!d.variable){var f=h.nextBindingPriority();d.variable=h.planner.addVariable(function(){return d.changed?f:1/0})}var v=h.planner.addConstraint();l.bindings.set(d,v);var m=v.addMethod(d.variable),b=v.addMethod(l.variable);m.from=l,m.to=d,m.name=d.path.toString()+"->"+l.path.toString(),b.from=d,b.to=l,m.name=l.path.toString()+"->"+d.path.toString(),l.value!==d.value&&(void 0===l.value?l.setValue(d.value):d.setValue(l.value))}},this.unbind=function(){throw Error("Not implemented")},this.deliver=function(){if(!i)throw Error("Disconnected");P?Object.deliverChangeRecords(h.callback):h.dirtyCheck()},this.disconnect=function(){if(i&&(o=!0,this.deliver(),o=!1,h.disconnect(),i=!1,n)){var e=n;return n=void 0,e}},this.connect=function(){i||(h.connect(),i=!0)}}function h(e,t,n){var i=!1;return t.walkPropertiesFrom(e,function(e,o,a){r(o)&&a==t.length-1&&(i=!0,o[e]=n)}),i}function l(e){for(var t in e)return!1;return!0}function d(e){return l(e.added)&&l(e.removed)&&l(e.changed)}function p(e,t){var n={},r={},i={};for(var o in t){var a=e[o];(void 0===a||a!==t[o])&&(o in e?a!==t[o]&&(i[o]=a):r[o]=void 0)}for(var o in e)o in t||(n[o]=e[o]);return Array.isArray(e)&&e.length!==t.length&&(i.length=e.length),{added:n,removed:r,changed:i}}function f(e,t){var n=t||(Array.isArray(e)?[]:{});for(var r in e)n[r]=e[r];return Array.isArray(e)&&(n.length=e.length),n}function v(e){this.object=e,this.changed=!1,this.diff=void 0,this.oldValues=void 0,this.reset(!0)}function m(e){this.array=e,this.changed=!1,this.splices=void 0,this.reset(!0)}function b(e,t,n,r){this.object=e,this.path=t,this.pathString=n,this.observed=t.length>1?new Array(t.length-2):void 0,this.changed=!1,this.oldValue=void 0,this.bound=!1,this.reporting=!1,this.bindings=void 0,this.variable=void 0,this.internal=r,this.reset(!0)}function g(e,t){this.internal=e,this.object=t,this.objectTracker=void 0,this.arrayTracker=void 0,this.pathTrackers=void 0,this.pathTrackerMap=void 0,this.changeRecords=void 0,this.dirtyPathTrackers=void 0,this.connect()}function y(e,t,n){for(var r={},i={},o=0;t.length>o;o++){var a=t[o];F[a.type]?(a.name in n||(n[a.name]=a.oldValue),"updated"!=a.type&&("new"!=a.type?a.name in r?(delete r[a.name],delete n[a.name]):i[a.name]=!0:a.name in i?delete i[a.name]:r[a.name]=!0)):(console.error("Unknown changeRecord type: "+a.type),console.error(a))}for(var s in r)r[s]=e[s];for(var s in i)i[s]=void 0;var c={};for(var s in n)if(!(s in r||s in i)){var u=e[s];n[s]!==u&&(c[s]=u)}return{added:r,removed:i,changed:c}}function w(e,t,n,r,i,o){for(var a=o-i+1,s=n-t+1,c=new Array(a),u=0;a>u;u++)c[u]=new Array(s),c[u][0]=u;for(var h=0;s>h;h++)c[0][h]=h;for(var u=1;a>u;u++)for(var h=1;s>h;h++)if(r[i+u-1]===e[t+h-1])c[u][h]=c[u-1][h-1];else{var l=c[u-1][h]+1,d=c[u][h-1]+1;c[u][h]=d>l?l:d}return c}function T(e){for(var t=e.length-1,n=e[0].length-1,r=e[t][n],i=[];t>0||n>0;)if(0!=t)if(0!=n){var o,a=e[t-1][n-1],s=e[t-1][n],c=e[t][n-1];o=c>s?a>s?s:a:a>c?c:a,o==a?(a==r?i.push(U):(i.push(V),r=a),t--,n--):o==s?(i.push(B),t--,r=s):(i.push(z),n--,r=c)}else i.push(B),t--;else i.push(z),n--;return i.reverse(),i}function E(e,t,n){for(var r=0;n>r;r++)if(e[r]!==t[r])return r;return n}function O(e,t,n){for(var r=e.length,i=t.length,o=0;n>o&&e[--r]===t[--i];)o++;return o}function _(e,t,n,r,i,o){function a(e,t,n){return{index:e,removed:t,addedCount:n}}var s=0,c=0,u=Math.min(n-t,o-i);if(0==t&&0==i&&(s=E(e,r,u)),n==e.length&&o==r.length&&(c=O(e,r,u-s)),t+=s,i+=s,n-=c,o-=c,0==n-t&&0==o-i)return[];if(t==n){for(var h=a(t,[],0);o>i;)h.removed.push(r[i++]);return[h]}if(i==o)return[a(t,[],n-t)];for(var l=T(w(e,t,n,r,i,o)),h=void 0,d=[],p=t,f=i,v=0;l.length>v;v++)switch(l[v]){case U:h&&(d.push(h),h=void 0),p++,f++;break;case V:h||(h=a(p,[],0)),h.addedCount++,p++,h.removed.push(r[f]),f++;break;case z:h||(h=a(p,[],0)),h.addedCount++,p++;break;case B:h||(h=a(p,[],0)),h.removed.push(r[f]),f++}return h&&d.push(h),d}function S(e,t,r){function i(t,r){Object.keys(t).forEach(function(t){var i=n(t);if(!(j(i)||0>i||i>=a)){var c=r[i];e.length>i?s[i]=c:o.removed[i-e.length]=r[i]}})}var o,a="length"in r?n(r.length):e.length;e.length>a?o={index:a,removed:[],addedCount:e.length-a}:a>e.length&&(o={index:e.length,removed:new Array(a-e.length),addedCount:0});var s=[];i(t.added,r),i(t.removed,r),i(t.changed,r);var c,u=[];for(var h in s){if(h=n(h),c){if(c.index+c.removed.length==h){c.removed.push(s[h]);continue}c.addedCount=Math.min(e.length,c.index+c.removed.length)-c.index,u.push(c),c=void 0}c={index:h,removed:[s[h]]}}return c?(c.addedCount=Math.min(e.length,c.index+c.removed.length)-c.index,o?c.index+c.removed.length==o.index?(c.addedCount=c.addedCount+o.addedCount,c.removed=c.removed.concat(o.removed),u.push(c)):(u.push(c),u.push(o)):u.push(c)):o&&u.push(o),u}function M(e,t,n){var r=[];return S(e,t,n).forEach(function(t){r=r.concat(_(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length))}),r}function C(){function e(e){var n=t.get(e.object);n&&(n.object&&(e.added||e.removed||e.changed)&&n.object.forEach(function(t){try{t(e.added,e.removed,e.changed,e.getOldValue,e.object)}catch(n){console.log("Exception thrown during callback: "+n),u._errorThrownDuringCallback=!0}}),n.array&&e.splices&&n.array.forEach(function(t){try{t(e.splices,e.object)}catch(n){console.log("Exception thrown during callback: "+n),u._errorThrownDuringCallback=!0}}),n.path&&e.pathChanged&&Object.keys(n.path).forEach(function(t){e.pathChanged.hasOwnProperty(t)&&n.path[t].forEach(function(n){try{n(e.pathChanged[t],e.getOldValue(t),e.object,t)}catch(r){console.log("Exception thrown during callback: "+r),u._errorThrownDuringCallback=!0}})}))}var t="function"==typeof WeakMap?new WeakMap:new Map,n=new u(function(t){t.forEach(e)});this.observeObject=function(e,r){var i=t.get(e);i||(i={},t.set(e,i)),i.object||(i.object=new Set,n.observeObject(e)),i.object.add(r)},this.unobserveObject=function(e,r){var i=t.get(e);i&&i.object&&(i.object.delete(r),i.object.size||(n.unobserveObject(e),i.object=void 0),i.object||i.array||i.path||t.delete(e))},this.observeArray=function(e,r){if(!Array.isArray(e))throw Error("Invalid attempt to observe non-array: "+arr);var i=t.get(e);i||(i={},t.set(e,i)),i.array||(i.array=new Set,n.observeArray(e)),i.array.add(r)},this.unobserveArray=function(e,r){if(Array.isArray(e)){var i=t.get(e);i&&i.array&&(i.array.delete(r),i.array.size||(n.unobserveArray(e),i.array=void 0),i.object||i.array||i.path||t.delete(e))}},this.observePath=function(e,i,o){if(!s(i))return void 0;if(""==i.trim())return e;if(!r(e))return void 0;var a=t.get(e);a||(a={},t.set(e,a)),a.path||(a.path={});var c,h=a.path[i];return h?c=u.getValueAtPath(e,i):(h=new Set,a.path[i]=h,c=n.observePath(e,i)),h.add(o),c},this.unobservePath=function(e,i,o){if(s(i)&&r(e)){var a=t.get(e);if(a&&a.path){var c=a.path[i];c&&(c.delete(o),c.size||(n.unobservePath(e,i),delete a.path[i]),Object.keys(a.path).length||(a.path=void 0),a.object||a.array||a.path||t.delete(e))}}},this.bind=function(e,t,r,i){n.bind(e,t,r,i)},this.unbind=function(e,t,r,i){n.unbind(e,t,r,i)},this.deliver=n.deliver.bind(n)}var P="function"==typeof Object.observe,k=e.Number.isNaN||function j(t){return"number"==typeof t&&e.isNaN(t)},L="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n};"function"==typeof Map&&"function"==typeof Set&&"function"==typeof WeakMap?o():a(e);var x="[$a-z0-9_]+[$a-z0-9_\\d]*",A=new RegExp("^(?:#?"+x+")?"+"(?:"+"(?:\\."+x+")"+")*"+"$","i");c.prototype=L({__proto__:[],toString:function(){return this.join(".")},walkPropertiesFrom:function(e,t,n){for(var r,i=0;this.length+1>i;i++)r=this[i],t.call(n,r,e,i),e=i==this.length||null===e||void 0===e?void 0:e[r]}});var N=1e3;u.getValueAtPath=function(e,t){if(!s(t))return void 0;var n=new c(t);if(!n.length)return e;if(r(e)){var i;return n.walkPropertiesFrom(e,function(e,t,n){n==this.length&&(i=t)},n),i}},u.setValueAtPath=function(e,t,n){if(s(t)){var i=new c(t);i.length&&r(e)&&h(e,i,n)}},u.applySplices=function(e,t,n){n.forEach(function(n){for(var r=[n.index,n.removed.length],i=n.index;n.index+n.addedCount>i;)r.push(t[i]),i++;Array.prototype.splice.apply(e,r)})},v.prototype={check:function(e){var t,n;if(P){if(!e)return!1;n={},t=y(this.object,e,n)}else n=this.oldObject,t=p(this.object,this.oldObject);return d(t)?!1:(this.diff=t,this.oldValues=n,this.changed=!0,!0)},summarize:function(e,t){e.added=this.changed?this.diff.added:{},e.removed=this.changed?this.diff.removed:{},e.changed=this.changed?this.diff.changed:{},f(this.oldValues,t)},reset:function(e){P||!e&&!this.diff||(this.oldObject=f(this.object)),this.changed=!1,this.diff=void 0,this.oldValues=void 0}},m.prototype={check:function(e){var t;if(P){if(!e)return!1;var n={},r=y(this.array,e,n);t=M(this.array,r,n)}else t=_(this.array,0,this.array.length,this.oldArray,0,this.oldArray.length);return t.length?(this.splices=t,this.changed=!0,!0):!1},summarize:function(e){e.splices=this.splices?this.splices:[]},reset:function(e){P||!e&&!this.splices||(this.oldArray=this.array.slice()),this.changed=!1,this.splices=void 0}};var D=!1;try{var H=new Function("","return true;");D=H()}catch(I){}var R;R=P?function(){var e;return this.path.walkPropertiesFrom(this.object,function(t,n,i){if(i===this.path.length)return e=n,void 0;if(0!==i){var o=this.observed[i-1];if(n!==o){if(void 0!==o){this.observed[i-1]=o=void 0;for(var a=!1,s=0;this.observed.length>s;s++)if(this.observed[s]===o){a=!0;break}a||this.internal.removePathTracker(o,this)}r(n)&&(this.observed[i-1]=o=n,this.internal.addPathTracker(o,this))}}},this),this.isChanged(e)}:D?function(){if(!this.checkFunc){var e="",t="obj",n=this.path.length;e+="if (obj";for(var r=0;n-1>r;r++){var i='["'+this.path[r]+'"]';t+=i,e+=" && "+t}e+=") ",t+='["'+this.path[n-1]+'"]',e+="return "+t+"; else return undefined;",this.checkFunc=new Function("obj",e)}return this.isChanged(this.checkFunc(this.object))}:function(){var e;return this.path.walkPropertiesFrom(this.object,function(t,n,r){r===this.path.length&&(e=n)},this),this.isChanged(e)},b.prototype={check:R,isChanged:function(e){return this.changed||(this.oldValue=this.value),this.value=e,this.changed=!i(this.oldValue,this.value),this.changed},setValue:function(e){var t=h(this.object,this.path,e);return t?(this.isChanged(e),t):!1},summarize:function(e,t){e.pathChanged[this.pathString]=this.value,t[this.pathString]=this.oldValue},reset:function(e){e&&this.check(),this.oldValue=void 0,this.changed=!1},destroy:function(){this.object=void 0,this.reset(!0)}},g.prototype={observeObject:function(){this.objectTracker=this.objectTracker||new v(this.object)},unobserveObject:function(){this.objectTracker=void 0,this.destroyIfEmpty()},observeArray:function(){this.arrayTracker=this.arrayTracker||new m(this.object)},unobserveArray:function(){this.arrayTracker=void 0,this.destroyIfEmpty()},addPathTracker:function(e,t){this.pathTrackers||(this.pathTrackers=[],this.pathTrackerMap={}),t&&(this.pathTrackerMap[t]=e),this.pathTrackers.push(e)},removePathTracker:function(e){this.pathTrackers&&(this.pathTrackers.splice(this.pathTrackers.indexOf(e),1),this.pathTrackers.length||(this.pathTrackers=void 0),this.destroyIfEmpty())},observePath:function(e,t){var n,r=e.toString();return this.pathTrackers&&this.pathTrackerMap&&(n=this.pathTrackerMap[r]),n?n.check():(n=new b(this.object,e,r,this.internal),this.addPathTracker(n,r)),t?n.bound=!0:n.reporting=!0,n},unobservePath:function(e,t){if(this.pathTrackerMap){var n=e.toString(),r=this.pathTrackerMap[n];r&&(t?r.bound=t:r.reporting=!1,r.bound||r.reporting||(r.destroy(),delete this.pathTrackerMap[n],Object.keys(this.pathTrackerMap).length||(this.pathTrackerMap=void 0),this.pathTrackers.splice(this.pathTrackers.indexOf(r),1),this.pathTrackers.length||(this.pathTrackers=void 0),this.destroyIfEmpty()))}},connect:function(){P&&Object.observe(this.object,this.internal.callback),this.reset(!0)},disconnect:function(){P&&Object.unobserve(this.object,this.internal.callback)},destroyIfEmpty:function(){this.objectTracker||this.arrayTracker||this.pathTrackers||(this.internal.removeObjectObserver(this.object),this.destroy())},destroy:function(){this.disconnect(),this.internal=void 0},addChangeRecord:function(e){this.changeRecords||(this.changeRecords=[]),this.changeRecords.push(e)},checkPathValues:function(){if(this.internal&&this.pathTrackers){for(var e=!1,t=0;this.pathTrackers.length>t;t++){var n=this.pathTrackers[t];if(n.check()){var r=this.object===n.object,i=r?this:this.internal.getOrCreateObjectObserver(n.object);i.addDirtyPath(n),r||this.internal.activeObservers.add(i),n.variable&&(e=!0)}}return e}},checkObjectsAndArrays:function(){this.internal&&(this.objectTracker&&this.objectTracker.check(this.changeRecords),this.arrayTracker&&this.arrayTracker.check(this.changeRecords))},addDirtyPath:function(e){this.dirtyPathTrackers||(this.dirtyPathTrackers=new Set),this.dirtyPathTrackers.add(e)},produceSummary:function(){if(this.objectTracker&&this.objectTracker.changed||this.arrayTracker&&this.arrayTracker.changed||this.dirtyPathTrackers){var e,t={object:this.object};(this.objectTracker||this.pathTrackerMap)&&(e={},t.getOldValue=function(t){return e[t]}),this.pathTrackerMap&&(t.pathChanged={});var n=!1;return this.objectTracker&&(this.objectTracker.summarize(t,e),n=n||this.objectTracker.changed),this.arrayTracker&&(this.arrayTracker.summarize(t),n=n||this.arrayTracker.changed),this.dirtyPathTrackers&&this.dirtyPathTrackers.forEach(function(r){r.changed&&r.reporting&&(r.summarize(t,e),n=!0)}),n?t:void 0}},reset:function(e){this.objectTracker&&this.objectTracker.reset(e),this.arrayTracker&&this.arrayTracker.reset(e);var t=e?this.pathTrackers:this.dirtyPathTrackers;t&&t.forEach(function(t){t.reset(e)}),this.changeRecords=void 0,this.dirtyPathTrackers=void 0}};var F={"new":!0,updated:!0,deleted:!0},U=0,V=1,z=2,B=3;e.ChangeSummary=u,e.ChangeSummary.CallbackRouter=C}(this);var createObject="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n};if("boolean"!=typeof document.createElement("div").hidden){Object.defineProperty(HTMLElement.prototype,"hidden",{get:function(){return this.hasAttribute("hidden")},set:function(e){e?this.setAttribute("hidden",""):this.removeAttribute("hidden")},enumerable:!0,configurable:!0});var styleElement=document.createElement("style");styleElement.textContent="[hidden] { display: none }",document.head.appendChild(styleElement)}var SideTable;"undefined"!=typeof WeakMap?SideTable=WeakMap:(SideTable=function(e){this.name="__$"+e+"$__"},SideTable.prototype={set:function(e,t){Object.defineProperty(e,this.name,{value:t,writable:!0})},get:function(e){return e[this.name]},"delete":function(e){this.set(e,void 0)}}),SideTableInherit.prototype={set:function(e,t){this.map.set(e,t)},get:function(e){if(null===e)return void 0;var t=this.map.get(e);return void 0!==t?t:this.get(Object.getPrototypeOf(e))},"delete":function(e){this.map.delete(e)}},this.Model=function(){var e=new ChangeSummary.CallbackRouter;return{notifyChanges:function(){e.deliver()},getValueAtPath:ChangeSummary.getValueAtPath,setValueAtPath:ChangeSummary.setValueAtPath,observeObject:e.observeObject.bind(e),unobserveObject:e.unobserveObject.bind(e),observeArray:e.observeArray.bind(e),unobserveArray:e.unobserveArray.bind(e),observePath:e.observePath.bind(e),unobservePath:e.unobservePath.bind(e),bind:e.bind.bind(e),unbind:e.unbind.bind(e)}}(),function(){"use strict";function e(e,t,n){console.error("Unhandled binding to Node: ",this,e,t,n)}function t(){}function n(){}function r(e,t,n){this.model=e,this.path=t,this.changed=n;var r=Model.observePath(this.model,this.path,this.changed);this.changed(r)}function i(e){return function(t){e.data=t}}function o(e,t,n){if("textContent"!==e)return Node.prototype.bind.call(this,e,t,n);this.unbind("textContent");var o=new r(t,n,i(this));E.set(this,o)}function a(e){if("textContent"!=e)return Node.prototype.unbind.call(this,e);var t=E.get(this);t&&(t.unbind(),E.delete(this))}function s(){this.unbind("textContent"),Node.prototype.unbindAll.call(this)}function c(e,t,n){return n?function(n){n?e.setAttribute(t,""):e.removeAttribute(t)}:function(n){e.setAttribute(t,String(void 0===n?"":n))}}function u(){this.bindingMap=Object.create(null)}function h(e,t,n){var r=O.get(this);r||(r=new u,O.set(this,r)),r.add(this,e,t,n)}function l(e){var t=O.get(this);t&&t.remove(e)}function d(){var e=O.get(this);e&&(O.delete(this),e.removeAll(),Node.prototype.unbindAll.call(this))}function p(e){switch(e.type){case"checkbox":return"click";case"radio":case"select-multiple":case"select-one":return"change";default:return"input"}}function f(e,t,n){this.element=e,this.boundValueChanged=this.valueChanged.bind(this),this.boundUpdateBinding=this.updateBinding.bind(this),this.binding=new r(t,n,this.boundValueChanged),this.element.addEventListener(p(this.element),this.boundUpdateBinding,!0)}function v(e,t,n){f.call(this,e,t,n)}function m(e){return e.ownerDocument.contains(e)}function b(e){if(!m(e))return[];if(e.form)return M(e.form.elements,function(t){return t!=e&&"INPUT"==t.tagName&&"radio"==t.type&&t.name==e.name});var t=e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]');return M(t,function(t){return t!=e&&!t.form})}function g(e,t,n){f.call(this,e,t,n)}function y(e,t,n){switch(e){case"value":this.unbind("value"),this.removeAttribute("value"),_.set(this,new v(this,t,n));break;case"checked":this.unbind("checked"),this.removeAttribute("checked"),S.set(this,new g(this,t,n));break;default:return Element.prototype.bind.call(this,e,t,n)}}function w(e){switch(e){case"value":var t=_.get(this);t&&(t.unbind(),_.delete(this));break;case"checked":var n=S.get(this);n&&(n.unbind(),S.delete(this));break;default:return Element.prototype.unbind.call(this,e)}}function T(){this.unbind("value"),this.unbind("checked"),Element.prototype.unbindAll.call(this)}Node.prototype.bind=e,Node.prototype.unbind=t,Node.prototype.unbindAll=n;var E=new SideTable("textContentBinding");r.prototype={unbind:function(){Model.unobservePath(this.model,this.path,this.changed)},set value(e){Model.setValueAtPath(this.model,this.path,e)}},Text.prototype.bind=o,Text.prototype.unbind=a,Text.prototype.unbindAll=s;var O=new SideTable("attributeBindings");u.prototype={add:function(e,t,n,i){e.removeAttribute(t);var o="?"==t[t.length-1];o&&(t=t.slice(0,-1)),this.remove(t);var a=new r(n,i,c(e,t,o));this.bindingMap[t]=a},remove:function(e){var t=this.bindingMap[e];t&&(t.unbind(),delete this.bindingMap[e])},removeAll:function(){Object.keys(this.bindingMap).forEach(function(e){this.remove(e)},this)}},Element.prototype.bind=h,Element.prototype.unbind=l,Element.prototype.unbindAll=d;var _=new SideTable("valueBinding"),S=new SideTable("checkedBinding");f.prototype={unbind:function(){this.binding.unbind(),this.element.removeEventListener(p(this.element),this.boundUpdateBinding,!0)}},v.prototype=createObject({__proto__:f.prototype,valueChanged:function(e){this.element.value=String(null==e?"":e)},updateBinding:function(){this.binding.value=this.element.value,Model.notifyChanges()}});var M=Array.prototype.filter.call.bind(Array.prototype.filter);g.prototype=createObject({__proto__:f.prototype,valueChanged:function(e){this.element.checked=Boolean(e)},updateBinding:function(){var e=this.element.checked;this.binding.value=e,"INPUT"===this.element.tagName&&"radio"===this.element.type&&b(this.element).forEach(function(e){var t=S.get(e);t&&(t.binding.value=!1)
}),Model.notifyChanges()}}),HTMLInputElement.prototype.bind=y,HTMLInputElement.prototype.unbind=w,HTMLInputElement.prototype.unbindAll=T}(),function(e){"use strict";function t(e){if(!e)throw new Error("Assertion failed")}function n(e){return e.querySelectorAll(B)}function r(e){return V[e.tagName]&&e.hasAttribute("template")}function i(e){return"TEMPLATE"==e.tagName||r(e)}function o(e){return z&&"TEMPLATE"==e.tagName}function a(e){function t(e){HTMLTemplateElement.decorate(e)||a(e.content)}var r=n(e);i(e)&&t(e),D(r,t)}function s(e,t){Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}function c(e){if(!e.defaultView)return e;var t=X.get(e);if(!t){for(t=e.implementation.createHTMLDocument("");t.lastChild;)t.removeChild(t.lastChild);X.set(e,t)}return t}function u(e){for(var t=e.cloneNode(!1),n=e.attributes,r=n.length;r-->0;){var i=n[r];U[i.name]?t.removeAttribute(i.name):e.removeAttribute(i.name)}return t}function h(e){var t=e.content;if(r(e)){for(var n,i=u(e);n=e.firstChild;)i.appendChild(n);t.appendChild(i)}else for(var n;n=e.firstChild;)t.appendChild(n)}function l(e){"TEMPLATE"===e.tagName?z||(Y?e.__proto__=HTMLTemplateElement.prototype:s(e,HTMLTemplateElement.prototype)):(s(e,HTMLTemplateElement.prototype),Object.defineProperty(e,"content",G))}function d(e){var t=e.ref?e.ref.content:e.content,n=w(t);return"function"==typeof HTMLTemplateElement.__instanceCreated&&HTMLTemplateElement.__instanceCreated(n),n}function p(e,t){this.type=e,this.value=t}function f(e){for(var t=[],n=e.length,r=0,i=0;n>i;){if(r=e.indexOf("{{",i),0>r){t.push(new p(Q,e.slice(i)));break}if(r>0&&r>i&&t.push(new p(Q,e.slice(i,r))),i=r+2,r=e.indexOf("}}",i),0>r){var o=e.slice(i-2),a=t[t.length-1];a&&a.type==Q?a.value+=o:t.push(new p(Q,o));break}var s=e.slice(i,r).trim();t.push(new p(Z,s)),i=r+2}return t}function v(e,t,n,r,i){var o;i&&"function"==typeof i&&(o=i(r,n),o&&(n=o,r="value")),e.bind(t,n,r)}function m(e,t,n,r,i){var o=f(t);if(o.length&&(1!=o.length||o[0].type!=Q)){if(1==o.length&&o[0].type==Z)return v(e,n,r,o[0].value,i),void 0;for(var a=new C,s=0;o.length>s;s++){var c=o[s];c.type==Z&&v(a,s,r,c.value,i)}a.combinator=function(e){for(var t="",n=0;o.length>n;n++){var r=o[n];if(r.type===Q)t+=r.value;else{var i=e[n];void 0!==i&&(t+=i)}}return t},e.bind(n,a,"value")}}function b(e,n,r){if(t(e),e.attributes&&e.attributes.length){for(var i=[],o=0;e.attributes.length>o;o++)i.push(e.attributes[o]);for(var o=0;i.length>o;o++)m(e,i[o].value,i[o].name,n,r)}}function g(e,n,r){t(e),e.nodeType===Node.ELEMENT_NODE?(r&&i(e)&&e.bind(R,r),b(e,n,r)):e.nodeType===Node.TEXT_NODE&&m(e,e.data,"textContent",n,r);for(var o=e.firstChild;o;o=o.nextSibling)g(o,n,r)}function y(e){e.unbindAll();for(var t=e.firstChild;t;t=t.nextSibling)y(t)}function w(e){var t=e.cloneNode(!1);i(t)&&HTMLTemplateElement.decorate(t,e);for(var n=e.firstChild;n;n=n.nextSibling)t.appendChild(w(n));return t}function T(e,t){if(S(t),i(t)){var n=et.get(t);n&&(n.abandon(),et.delete(t))}e.removeChild(t),y(t),t.model=t.delegate=void 0}function E(e,t){if(this.template_=e,this.previousTerminator_=null,this.previousIndex_=-1,this.terminator_=e,this.index_=0,t)for(;t-->0;)this.next()}function O(e,t,n){this.firstNode=e,this.lastNode=t,this.model=n}function _(e,t){if(e.firstChild)for(var n=new O(e.firstChild,e.lastChild,t),r=n.firstNode;r;)J.set(r,n),r=r.nextSibling}function S(e){J.delete(e)}function M(e,t,n){this.model=e,this.path=t,this.changed=n,this.changed(Model.observePath(this.model,this.path,this.changed))}function C(e){this.bindings={},this.values={},this.value=void 0,this.size=0,this.combinator_=e,this.boundResolve=this.resolve.bind(this),this.diposed=!1}function P(e){this.templateElement_=e,this.instanceCount=0,this.iteratedValue=void 0,this.observing=!1,this.boundHandleSplices=this.handleSplices.bind(this),this.inputs=new C(this.resolveInputs.bind(this)),this.valueBinding=new M(this.inputs,"value",this.valueChanged.bind(this))}function k(e){var t=et.get(e);return t?t.instanceCount:0}function j(){this.instanceTerminatorCount_=0}function L(e){var t=tt.get(e);return t||(t=new j,tt.set(e,t)),t}function x(e){L(e).incrementInstanceTerminatorCount()}function A(e){L(e).decrementInstanceTerminatorCount()}function N(e){var t=tt.get(e);return t?t.instanceTerminatorCount():0}var D=Array.prototype.forEach.call.bind(Array.prototype.forEach),H="bind",I="repeat",R="delegate",F="if",U={template:!0,repeat:!0,bind:!0,ref:!0},V={THEAD:!0,TBODY:!0,TFOOT:!0,TH:!0,TR:!0,TD:!0,COLGROUP:!0,COL:!0,OPTION:!0},z="undefined"!=typeof HTMLTemplateElement,B="template, "+Object.keys(V).map(function(e){return e.toLowerCase()+"[template]"}).join(", "),W=function(){function e(e){r.indexOf(e)>=0||n.indexOf(e)>=0||(n.push(e),o==i.value&&(i.value=!i.value))}function t(){for(o=i.value,r=n,n=[];r.length;){var e=r.shift();e()}}var n=[],r=[],i={value:0},o=i.value;return Model.observePath(i,"value",t),e}();document.addEventListener("DOMContentLoaded",function(){a(document),Model.notifyChanges()},!1),z||(e.HTMLTemplateElement=function(){throw TypeError("Illegal constructor")});var Y="__proto__"in{},q=new SideTable("templateContents"),X=new SideTable("templateContentsOwner"),$=new SideTable("templateInstanceRef");HTMLTemplateElement.decorate=function(e,t){if(e.templateIsDecorated_)return!1;if(e.templateIsDecorated_=!0,l(e),!o(e)){var n=c(e.ownerDocument);q.set(e,n.createDocumentFragment())}return t?($.set(e,t),!0):(o(e)?a(e.content):h(e),!0)},HTMLTemplateElement.bootstrap=a,HTMLTemplateElement.bindTree=g;var K=e.HTMLUnknownElement||HTMLElement,G={get:function(){return q.get(this)},enumerable:!0,configurable:!0};z||(HTMLTemplateElement.prototype=Object.create(K.prototype),Object.defineProperty(HTMLTemplateElement.prototype,"content",G)),s(HTMLTemplateElement.prototype,{bind:function(e,t,n){switch(e){case R:case H:case I:case F:var r=et.get(this);r||(r=new P(this),et.set(this,r)),e===R?r.delegate=t:r.inputs.bind(e,t,n||"");break;default:return Element.prototype.bind.call(this,e,t,n)}},unbind:function(e,t,n){switch(e){case R:break;case H:case I:case F:var r=et.get(this);if(!r)break;r.inputs.unbind(e);break;default:return Element.prototype.unbind.call(this,e,t,n)}},unbindAll:function(){this.unbind(H),this.unbind(I),this.unbind(F),Element.prototype.unbindAll.call(this)},createInstance:function(e,t){return d(this,e,t)},get ref(){var e,t=this.getAttribute("ref");return t&&(e=this.ownerDocument.getElementById(t)),e||(e=$.get(this)),e||null}});var Q=0,Z=1,J=new SideTable("templateInstance");Object.defineProperty(Node.prototype,"templateInstance",{get:function(){var e=J.get(this);return e?e:this.parentNode?this.parentNode.templateInstance:void 0}}),E.prototype={next:function(){for(this.previousTerminator_=this.terminator_,this.previousIndex_=this.index_,this.index_++;this.index_>N(this.terminator_);)this.index_-=N(this.terminator_),this.terminator_=this.terminator_.nextSibling,"TEMPLATE"===this.terminator_.tagName&&(this.index_+=k(this.terminator_))},abandon:function(){t(k(this.template_)),t(N(this.terminator_)),t(this.index_),A(this.terminator_),this.index_--},insert:function(e,n){t(this.template_.parentNode),this.previousTerminator_=this.terminator_,this.previousIndex_=this.index_,this.index_++;var r=d(this.template_);if(g(r,e,n),_(r,e),this.terminator_=r.lastChild||this.previousTerminator_,this.template_.parentNode.insertBefore(r,this.previousTerminator_.nextSibling),x(this.terminator_),this.terminator_!==this.previousTerminator_)for(;N(this.previousTerminator_)>this.previousIndex_;)A(this.previousTerminator_),x(this.terminator_)},remove:function(){if(t(-1!==this.previousIndex_),t(this.previousTerminator_&&(this.previousIndex_>0||this.previousTerminator_===this.template_)),t(this.terminator_&&this.index_>0),t(this.template_.parentNode),t(k(this.template_)),this.previousTerminator_===this.terminator_)return t(this.index_==this.previousIndex_+1),A(this.terminator_),this.terminator_=this.template_,this.previousTerminator_=null,this.previousIndex_=-1,void 0;A(this.terminator_);for(var e=this.template_.parentNode;this.previousTerminator_.nextSibling!==this.terminator_;)T(e,this.previousTerminator_.nextSibling);T(e,this.terminator_),this.terminator_=this.previousTerminator_,this.index_=this.previousIndex_,this.previousTerminator_=null,this.previousIndex_=-1}},M.prototype={dispose:function(){Model.unobservePath(this.model,this.path,this.changed)},set value(e){Model.setValueAtPath(this.model,this.path,e)}},C.prototype={set combinator(e){this.combinator_=e,this.scheduleResolve()},bind:function(e,t,n){this.unbind(e),this.size++,this.bindings[e]=new M(t,n,function(t){this.values[e]=t,this.scheduleResolve()}.bind(this))},unbind:function(e,t){this.bindings[e]&&(this.size--,this.bindings[e].dispose(),delete this.bindings[e],delete this.values[e],t||this.scheduleResolve())},scheduleResolve:function(){W(this.boundResolve)},resolve:function(){if(!this.disposed){if(!this.combinator_)throw Error("CompoundBinding attempted to resolve without a combinator");this.value=this.combinator_(this.values)}},dispose:function(){Object.keys(this.bindings).forEach(function(e){this.unbind(e,!0)},this),this.disposed=!0,this.value=void 0}},P.prototype={resolveInputs:function(e){return F in e&&!e[F]?void 0:I in e?e[I]:H in e?[e[H]]:void 0},valueChanged:function(e){this.clear(),Array.isArray(e)&&(this.iteratedValue=e,Model.observeArray(this.iteratedValue,this.boundHandleSplices),this.observing=!0,this.handleSplices([{index:0,addedCount:this.iteratedValue.length,removed:[]}]))},handleSplices:function(e){e.forEach(function(e){e.removed.forEach(function(){var t=new E(this.templateElement_,e.index+1);t.remove(),this.instanceCount--},this);for(var t=e.index;e.index+e.addedCount>t;t++){var n=new E(this.templateElement_,t);n.insert(this.iteratedValue[t],this.delegate),this.instanceCount++}},this)},unobserve:function(){this.observing&&(Model.unobserveArray(this.iteratedValue,this.boundHandleSplices),this.observing=!1)},clear:function(){if(this.unobserve(),this.iteratedValue=void 0,this.instanceCount){for(var e=0;this.instanceCount>e;e++){var t=new E(this.templateElement_,1);t.remove()}this.instanceCount=0}},abandon:function(){this.unobserve(),this.valueBinding.dispose(),this.inputs.dispose()}};var et=new SideTable("templateIterator");j.prototype={instanceTerminatorCount:function(){return this.instanceTerminatorCount_},incrementInstanceTerminatorCount:function(){this.instanceTerminatorCount_++},decrementInstanceTerminatorCount:function(){this.instanceTerminatorCount_--}};var tt=new SideTable("instanceTerminatorCount");e.CompoundBinding=C,HTMLTemplateElement.allTemplatesSelectors=B}(this),function(){HTMLTemplateElement.__instanceCreated=function(e){document.upgradeElements(e)},window.dirtyCheck=function(){logFlags.data&&console.group("Model.dirtyCheck()"),e(),logFlags.data&&console.groupEnd()};var e=function(){Model.notifyChanges()},t=125;window.addEventListener("WebComponentsReady",function(){dirtyCheck(),setInterval(e,t)})}(),function(){function e(e){return"link"===e.localName&&"component"===e.getAttribute("rel")}function e(e){return n(e,"component")}function t(e){return n(e,"stylesheet")}function n(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function r(e){return e.ownerDocument===document||e.ownerDocument.impl===document}function i(e,t){var n=document.implementation.createHTMLDocument("component");n._URL=t;var r=n.createElement("base");return r.setAttribute("href",document.baseURI),window.ShadowDOMPolyfill&&(r=ShadowDOMPolyfill.unwrap(r)),n.head.appendChild(r),n.body.innerHTML=e,n}var o={preloadSelectors:["link[rel=component]","script[src]","link[rel=stylesheet]"],preload:function(t,n){a.cache=s.cache;var i=t.querySelectorAll(a.preloadSelectors);i=Array.prototype.filter.call(i,function(t){return e(t)||!r(t)}),s.loadAll(i,n,a.eachPreload)},eachPreload:function(n,r,a,u){if(e(u)){var h=i(n,a);c.resolveHTML(h),u.component=u.__resource=s.cache[a]=h,o.preload(h,r)}else t(u)&&c.resolveSheet(u),r()},getDocumentUrl:function(e){return e&&(e._URL||e.impl&&e.impl._URL||e.URL)||""}},a=o;a.preloadSelectors=a.preloadSelectors.join(",");var s={cache:{},loadAll:function(e,t,n){function r(e){var t=c.nodeUrl(e);e.__nodeUrl=t;var n=s.cache[t];n?(e.__resource=n,i()):d.load(t,function(t,n,r){t?i():(e.__resource=s.cache[r]=n,o(n,i,r,e))})}function i(){--a||t()}e.length||t();var o=n||i,a=e.length;p(e,r)}},c={nodeUrl:function(e){return c.resolveNodeUrl(e,c.hrefOrSrc(e))},hrefOrSrc:function(e){return e.getAttribute("href")||e.getAttribute("src")},resolveNodeUrl:function(e,t){return this.resolveUrl(this.documentUrlFromNode(e),t)},documentUrlFromNode:function(e){var t=a.getDocumentUrl(e.ownerDocument);return t=t.split("#")[0]},resolveUrl:function(e,t){return this.isAbsUrl(t)?t:this.compressUrl(this.urlToPath(e)+t)},isAbsUrl:function(e){return/(^data:)|(^http[s]?:)|(^\/)/.test(e)},urlToPath:function(e){var t=e.split("/");return t.pop(),t.push(""),t.join("/")},compressUrl:function(e){for(var t,n=e.split("/"),r=0;n.length>r;r++)t=n[r],".."===t&&(n.splice(r-1,2),r-=2);return n.join("/")},resolveHTML:function(e){var t=c.documentUrlFromNode(e.body);c._resolveHTML(e.body,t)},_resolveHTML:function(e,t){if(c.resolveAttributes(e,t),c.resolveStyleElts(e,t),window.templateContent){var n=e.querySelectorAll("template");n&&p(n,function(e){window.ShadowDOMPolyfill&&!e.impl&&(e=ShadowDOMPolyfill.wrap(e)),c._resolveHTML(templateContent(e),t)})}},resolveSheet:function(e){var t=c.nodeUrl(e);e.__resource=c.resolveCssText(e.__resource,t)},resolveStyleElts:function(e,t){var n=e.querySelectorAll("style");n&&p(n,function(e){e.textContent=c.resolveCssText(e.textContent,t)})},resolveCssText:function(e,t){return e.replace(/url\([^)]*\)/g,function(e){var n=e.replace(/["']/g,"").slice(4,-1);return n=c.resolveUrl(t,n),"url("+n+")"})},resolveAttributes:function(e,t){var n=e&&e.querySelectorAll(h);n&&p(n,function(e){u.forEach(function(n){var r=e.attributes[n];r&&r.value&&0>r.value.search(l)&&(r.value=c.resolveUrl(t,r.value))})})}},u=["href","src","action"],h=":not(link)["+u.join("],[")+"]",l="{{.*}}",d={async:!0,ok:function(e){return e.status>=200&&300>e.status||304===e.status},load:function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e+"?"+Math.random(),d.async),r.addEventListener("readystatechange",function(){4===r.readyState&&t.call(n,!d.ok(r)&&r,r.response,e)}),r.send()}},p=Array.prototype.forEach.call.bind(Array.prototype.forEach);window.WebComponents=o,"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t});var f=window.addEventListener_||window.addEventListener;f.call(window,"load",function(){o.preload(document,function(){var e=window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrap(document):document;e.body.dispatchEvent(new CustomEvent("WebComponentsLoaded",{bubbles:!0}))})})}(),function(){function e(e,i){var o=i||{};if(!e)throw new Error("Name argument must not be empty");if(o.name=e,!o.prototype)throw new Error("Options missing required prototype property");return o.lifecycle=o.lifecycle||{},o.ancestry=t(o.extends),n(o),r(o),d(e,o),o.ctor=p(o),o.ctor.prototype=o.prototype,document.upgradeElements(),o.ctor}function t(e){var n=E[e];return n?t(n.extends).concat([n]):[]}function n(e){for(var t,n=e.extends,r=0;t=e.ancestry[r];r++)n=t.is&&t.tag;e.tag=n||e.name,n&&(e.is=e.name)}function r(e){if(!Object.__proto__)if(e.is){var t=S(e.tag);Object.getPrototypeOf(t);var n=Object.getPrototypeOf(t)}else n=HTMLElement.prototype;e.native=n}function i(e){return o(S(e.tag),e)}function o(e,t){return a(e,t),t.is&&e.setAttribute("is",t.is),e.__upgraded__=!0,m(e),c(e,t),e}function a(e,t){Object.__proto__?e.__proto__=t.prototype:(Object.__proto__||(e.__proto__=t.prototype),s(e,t.prototype,t.native))}function s(e,t,n){for(var r={},i=t;i!==n&&i!==HTMLUnknownElement.prototype;){for(var o,a=Object.getOwnPropertyNames(i),s=0;o=a[s];s++)r[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}function c(e,t){h(e,t),u(e,t),l("readyCallback",t,e)}function u(e,t){var n=window.MutationObserver||window.WebKitMutationObserver;if(n){var r=new n(function(n){n.forEach(function(n){"attributes"===n.type&&l("attributeChangedCallback",t,e,[n.attributeName,n.oldValue])})});window.ShadowDOMPolyfill&&e.impl&&(e=ShadowDOMPolyfill.unwrap(e)),r.observe(e,{attributes:!0,attributeOldValue:!0})}return r}function h(e,t){var n=function(n,r){e.addEventListener(n,function(n){n.target===e&&(n.stopPropagation(),l(r,t,e))},!1)};n("DOMNodeInserted","insertedCallback"),n("DOMNodeRemoved","removedCallback")}function l(e,t,n,r){var i=t.lifecycle[e]||n[e];i&&i.apply(n,r||T)}function d(e,t){E[e]=t,O+=O?",":"",t.extends&&(O+=t.tag+"[is="+t.is+"],"),O+=e}function p(e){return function(){return i(e)}}function f(e){var t=E[e];return t?new t.ctor:S(e)}function v(e){if(!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var t=e.getAttribute("is")||e.localName,n=E[t];return n&&o(e,n)}}function m(e,t){var n=e||document;if(n.querySelectorAll){var r=t||O;if(r){var i=n.querySelectorAll(r);_(i,v)}}}function b(e){for(var t=e||{},n=1;arguments.length>n;n++){var r=arguments[n];try{for(var i in r)g(i,r,t)}catch(o){}}return t}function g(e,t,n){var r=y(t,e);Object.defineProperty(n,e,r)}function y(e,t){if(e){var n=Object.getOwnPropertyDescriptor(e,t);return n||y(Object.getPrototypeOf(e),t)}}function w(e){var t=window.MutationObserver||window.WebKitMutationObserver;if(t){var n=new t(function(e){e.forEach(function(e){"childList"==e.type&&_(e.addedNodes,function(e){window.ShadowDOMPolyfill&&(e=ShadowDOMPolyfill.wrap(e)),v(e)||m(e)})})});return window.ShadowDOMPolyfill&&e.impl&&(e=ShadowDOMPolyfill.unwrap(e)),n.observe(e,{childList:!0,subtree:!0}),n}}console.group||(console.group=function(e){console.log("[group] "+e)},console.groupEnd=function(){console.log("[end]")});var T=[],E={},O="",_=Array.prototype.forEach.call.bind(Array.prototype.forEach),S=document.createElement.bind(document);if(document.register=document.webkitRegister||document.register,document.register&&"native"===flags.register){var M=function(){};document.upgradeElement=M,document.upgradeElements=M,document.watchDOM=M}else document.register=e,document.createElement=f,document.upgradeElement=v,document.upgradeElements=m,document.watchDOM=w;window.mixin=b}(),function(){function parseElementElement(e){var t={name:"","extends":null};takeAttributes(e,t);var n=HTMLElement.prototype;if(t.extends){var r=document.createElement(t.extends);n=r.__proto__||Object.getPrototypeOf(r)}t.prototype=Object.create(n),e.options=t;var i=e.querySelector("script,scripts");i&&executeComponentScript(i.textContent,e,t.name),document.register(t.name,t)}function takeAttributes(e,t){for(var n in t){var r=e.attributes[n];r&&(t[n]=r.value)}}function executeComponentScript(inScript,inContext,inName){context=inContext;var owner=context.ownerDocument,code="__componentScript('"+inName+"', function(){"+inScript+"});"+"\n//@ sourceURL="+(owner._URL||owner.URL)+"\n";eval(code)}var HTMLElementElement=function(e){return e.register=HTMLElementElement.prototype.register,parseElementElement(e),e};HTMLElementElement.prototype={register:function(e){e&&(this.options.lifecycle=e.lifecycle,e.prototype&&mixin(this.options.prototype,e.prototype))}};var context;window.__componentScript=function(e,t){t.call(context)},window.HTMLElementElement=HTMLElementElement}(),function(){function e(e){return e.ownerDocument===document||e.ownerDocument.impl===document}function t(e){return"link"===e.localName&&"component"===e.getAttribute("rel")}function n(e){return e.parentNode&&"element"===e.parentNode.localName?!0:void 0}function r(){setTimeout(function(){document.watchDOM(document.body),i.parse(document);var e=window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrap(document):document;e.body.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))},0)}var i={selectors:["link[rel=component]","link[rel=stylesheet]","script[src]","script","style","element"],map:{link:"parseLink",script:"parseScript",element:"parseElement",style:"parseStyle"},parse:function(e){if(e){document.upgradeElements(e);var t=e.querySelectorAll(o.selectors);a(t,function(e){o[o.map[e.localName]](e)})}},parseLink:function(r){if(t(r))o.parse(r.__resource);else if(!e(r)&&!n(r)){var i=document.createElement("style");i.textContent=r.__resource,document.head.appendChild(i)}},parseScript:function(t){if(!e(t)&&!n(t)){var r=t.__resource||t.textContent;r&&eval.call(window,r)}},parseStyle:function(e){n(e)||document.querySelector("head").appendChild(e)},parseElement:function(e){new HTMLElementElement(e)}},o=i,a=Array.prototype.forEach.call.bind(Array.prototype.forEach);"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t}),window.WebComponents?document.addEventListener("WebComponentsLoaded",r):window.addEventListener("load",r)}(),function(){function e(e){return'[touch-action="'+e+'"]'}function t(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}var n=["none","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["scroll","pan-x pan-y","pan-y pan-x"]}],r="";n.forEach(function(n){r+=String(n)===n?e(n)+t(n):n.selectors.map(e)+t(n.rule)});var i=document.createElement("style");i.textContent=r,document.head.appendChild(i)}(),function(e){function t(){this.ids=[],this.pointers=[]}e=e||{},t.prototype={set:function(e,t){var n=this.ids.indexOf(e);n>-1?this.pointers[n]=t:(this.ids.push(e),this.pointers.push(t))},has:function(e){return this.ids.indexOf(e)>-1},"delete":function(e){var t=this.ids.indexOf(e);t>-1&&(this.ids.splice(t,1),this.pointers.splice(t,1))},get:function(e){var t=this.ids.indexOf(e);return this.pointers[t]},item:function(e){return this.pointers[e]},get size(){return this.pointers.length}},e.PointerMap=t,window.PointerEventsPolyfill=e}(window.PointerEventsPolyfill),function(e){var t;"undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?t=WeakMap:(t=function(e){this.name="__$"+e+"$__"},t.prototype={set:function(e,t){Object.defineProperty(e,this.name,{value:t,writable:!0})},get:function(e){return e[this.name]}}),e.SideTable=t}(window.PointerEventsPolyfill),function(e){var t={targets:new e.SideTable("target"),handledEvents:new e.SideTable("pointer"),scrollType:new e.SideTable("scrollType"),pointermap:new e.PointerMap,events:[],eventMap:{},eventSources:{},registerSource:function(e,t){var n=t,r=n.events;r&&(this.events=this.events.concat(r),r.forEach(function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))},this),this.eventSources[e]=n)},registerTarget:function(e,t){this.scrollType.set(e,t||"none"),this.listen(this.events,e,this.boundHandler)},unregisterTarget:function(e){this.scrollType.set(e,null),this.unlisten(this.events,e,this.boundHandler)},down:function(e){this.fireEvent("pointerdown",e)},move:function(e){this.fireEvent("pointermove",e)},up:function(e){this.fireEvent("pointerup",e)},enter:function(e){this.fireEvent("pointerenter",e)},leave:function(e){this.fireEvent("pointerleave",e)},over:function(e){this.fireEvent("pointerover",e)},out:function(e){this.fireEvent("pointerout",e)},cancel:function(e){this.fireEvent("pointercancel",e)},eventHandler:function(e){if(!this.handledEvents.get(e)){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),this.handledEvents.set(e,!0)}},listen:function(e,t,n){e.forEach(function(e){this.addEvent(e,n,!1,t)},this)},unlisten:function(e,t,n){e.forEach(function(e){this.removeEvent(e,n,!1,t)},this)},addEvent:function(e,t,n,r){r.addEventListener(e,t,n)},removeEvent:function(e,t,n,r){r.removeEventListener(e,t,n)},makeEvent:function(e,t){var n=new PointerEvent(e,t);return this.targets.set(n,this.targets.get(t)||t.target),n},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){var t={};for(var n in e)t[n]=e[n];return t},getTarget:function(e){return this.captureInfo&&this.captureInfo.id===e.pointerId?this.captureInfo.target:this.targets.get(e)},setCapture:function(e,t){this.captureInfo&&this.releaseCapture(this.captureInfo.id),this.captureInfo={id:e,target:t};var n=new PointerEvent("gotpointercapture",{bubbles:!0});this.implicitRelease=this.releaseCapture.bind(this,e),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),this.targets.set(n,t),this.asyncDispatchEvent(n)},releaseCapture:function(e){if(this.captureInfo&&this.captureInfo.id===e){var t=new PointerEvent("lostpointercapture",{bubbles:!0}),n=this.captureInfo.target;this.captureInfo=null,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),this.targets.set(t,n),this.asyncDispatchEvent(t)}},dispatchEvent:function(e){var t=this.getTarget(e);return t?t.dispatchEvent(e):void 0},asyncDispatchEvent:function(e){setTimeout(this.dispatchEvent.bind(this,e),0)}};t.boundHandler=t.eventHandler.bind(t),e.dispatcher=t}(window.PointerEventsPolyfill),function(e){var t=e.dispatcher,n=Array.prototype.forEach.call.bind(Array.prototype.forEach),r=Array.prototype.map.call.bind(Array.prototype.map),i={ATTRIB:"touch-action",SELECTOR:"[touch-action]",EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|scroll$/,OBSERVER_INIT:{subtree:!0,childList:!0,attributes:!0,attributeFilter:["touch-action"]},watchSubtree:function(e){s.observe(e,this.OBSERVER_INIT)},enableOnSubtree:function(e){var t=e||document;Object.hasOwnProperty(e,"innerHTML")&&this.watchSubtree(e),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(e){n(this.findElements(e),this.addElement,this)},findElements:function(e){var t=e||document;return t.querySelectorAll?t.querySelectorAll(this.SELECTOR):[]},touchActionToScrollType:function(e){var t=e;return t===this.EMITTER?"none":t===this.XSCROLLER?"X":t===this.YSCROLLER?"Y":this.SCROLLER.exec(t)?"XY":void 0},removeElement:function(n){t.unregisterTarget(n);var r=e.targetFinding.shadow(n);r&&t.unregisterTarget(r)},addElement:function(n){var r=n.getAttribute&&n.getAttribute(this.ATTRIB),i=this.touchActionToScrollType(r);if(i){t.registerTarget(n,i);var o=e.targetFinding.shadow(n);o&&t.registerTarget(o,i)}},elementChanged:function(e){this.removeElement(e),this.addElement(e)},concatLists:function(e,t){for(var n,r=0,i=t.length;i>r&&(n=t[r]);r++)e.push(n);return e},installOnLoad:function(){document.addEventListener("DOMContentLoaded",this.installNewSubtree.bind(this,document))},flattenMutationTree:function(e){window.ShadowDOMPolyfill&&(e=r(e,ShadowDOMPolyfill.wrap));var t=r(e,this.findElements,this);return t.push(e),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){var t=e;if("childList"===t.type){var n=this.flattenMutationTree(t.addedNodes);n.forEach(this.addElement,this);var r=this.flattenMutationTree(t.removedNodes);r.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target)}},o=i.mutationWatcher.bind(i);e.installer=i,e.register=i.enableOnSubtree.bind(i),e.setTouchAction=function(e,n){var r=this.touchActionToScrollType(n);r?t.registerTarget(e,r):t.unregisterTarget(e)}.bind(i);var a=window.MutationObserver||window.WebKitMutationObserver;if(a)var s=new a(o);else i.watchSubtree=function(){console.warn("PointerEventsPolyfill: MutationObservers not found, touch-action will not be dynamically detected")}}(window.PointerEventsPolyfill),function(e){var t={shadow:function(e){if(e){var t=e.webkitShadowRoot||e.shadowRoot;if(t&&t.elementFromPoint)return t}},searchRoot:function(e,t,n){if(e){var r,i,o,a=e.elementFromPoint(t,n);for(i=this.shadow(a);i;){if(r=i.elementFromPoint(t,n)){var s=this.shadow(r);return this.searchRoot(s,t,n)||r}o=i.querySelector("shadow"),i=o&&o.olderShadowRoot}return a}},findTarget:function(e){var t=e.clientX,n=e.clientY;return this.searchRoot(document,t,n)}};e.targetFinding=t,e.findTarget=t.findTarget.bind(t)}(window.PointerEventsPolyfill),function(e){var t=e.dispatcher,n=e.installer,r=e.findTarget,i=t.pointermap,o=Array.prototype.map.call.bind(Array.prototype.map),a=2500,s=25,c={events:["touchstart","touchmove","touchend","touchcancel"],POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){null===this.firstTouch&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1)},removePrimaryTouch:function(e){this.isPrimaryTouch(e)&&(this.firstTouch=null,this.firstXY=null)},touchToPointer:function(e){var n=t.cloneEvent(e);return n.pointerId=e.identifier+2,n.target=r(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=1,n.isPrimary=this.isPrimaryTouch(e),n.pointerType=this.POINTER_TYPE,n},processTouches:function(e,t){var n=e.changedTouches,r=o(n,this.touchToPointer,this);r.forEach(t,this)},shouldScroll:function(e){if(this.firstXY){var n,r=t.scrollType.get(e.currentTarget);if("none"===r)n=!1;else if("XY"===r)n=!0;else{var i=e.changedTouches[0],o=r,a="Y"===r?"X":"Y",s=Math.abs(i["client"+o]-this.firstXY[o]),c=Math.abs(i["client"+a]-this.firstXY[a]);n=s>=c}return this.firstXY=null,n}},findTouch:function(e,t){for(var n,r=0,i=e.length;i>r&&(n=e[r]);r++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(i.size>=t.length){var n=[];i.ids.forEach(function(e){if(1!==e&&!this.findTouch(t,e-2)){var r=i.get(e).out;n.push(this.touchToPointer(r))}},this),n.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.scrolling||this.processTouches(e,this.overDown)},overDown:function(e){i.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),t.over(e),t.down(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):(e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var n=e,r=i.get(n.pointerId),o=r.out,a=r.outTarget;t.move(n),o&&a!==n.target&&(o.relatedTarget=n.target,n.relatedTarget=a,o.target=a,t.out(o),t.over(n)),r.out=n,r.outTarget=n.target},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(t.up(e),t.out(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){t.cancel(e),t.out(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){i.delete(e.pointerId),this.removePrimaryTouch(e)},dedupSynthMouse:function(e){var t=u.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};t.push(r);var i=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}.bind(null,t,r);setTimeout(i,a)}}},u={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],global:["mousedown","mouseup","mouseover","mouseout"],lastTouches:[],mouseHandler:t.eventHandler.bind(t),isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,r=e.clientX,i=e.clientY,o=0,a=n.length;a>o&&(t=n[o]);o++){var c=Math.abs(r-t.x),u=Math.abs(i-t.y);if(s>=c&&s>=u)return!0}},prepareEvent:function(e){var n=t.cloneEvent(e);return n.pointerId=this.POINTER_ID,n.isPrimary=!0,n.pointerType=this.POINTER_TYPE,n},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=i.has(this.POINTER_ID);if(n&&(this.cancel(e),n=!1),!n){var r=this.prepareEvent(e);i.set(this.POINTER_ID,e),t.down(r),t.listen(this.global,document,this.mouseHandler)}}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=this.prepareEvent(e);t.move(n)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=i.get(this.POINTER_ID);if(n&&n.button===e.button){var r=this.prepareEvent(e);t.up(r),this.cleanupMouse()}}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=this.prepareEvent(e);t.over(n)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var n=this.prepareEvent(e);
t.out(n)}},cancel:function(e){var n=this.prepareEvent(e);t.cancel(n),this.cleanupMouse()},cleanupMouse:function(){i.delete(this.POINTER_ID),t.unlisten(this.global,document,this.mouseHandler)}},h={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var n=t.cloneEvent(e);return n.pointerType=this.POINTER_TYPES[e.pointerType],n},MSPointerDown:function(e){var n=this.prepareEvent(e);t.down(n)},MSPointerMove:function(e){var n=this.prepareEvent(e);t.move(n)},MSPointerUp:function(e){var n=this.prepareEvent(e);t.up(n)},MSPointerOut:function(e){var n=this.prepareEvent(e);t.out(n)},MSPointerOver:function(e){var n=this.prepareEvent(e);t.over(n)},MSPointerCancel:function(e){var n=this.prepareEvent(e);t.cancel(n)},MSLostPointerCapture:function(e){var n=t.makeEvent("lostpointercapture",e);t.dispatchEvent(n)},MSGotPointerCapture:function(e){var n=t.makeEvent("gotpointercapture",e);t.dispatchEvent(n)}};if(void 0===window.navigator.pointerEnabled){if(window.navigator.msPointerEnabled){var l=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:l,enumerable:!0}),t.registerSource("ms",h),t.registerTarget(document)}else t.registerSource("mouse",u),"ontouchstart"in window&&t.registerSource("touch",c),n.enableOnSubtree(document),t.listen(["mousemove"],document,t.boundHandler);Object.defineProperty(window.navigator,"pointerEnabled",{value:!0,enumerable:!0})}}(window.PointerEventsPolyfill),function(e){var t,n,r=e.dispatcher,i=window.navigator,o=function(e){if(!r.pointermap.has(e))throw new Error("InvalidPointerId");return!0};i.msPointerEnabled?(t=Element.prototype.msSetPointerCapture,n=Element.prototype.msReleasePointerCapture):(t=function(e){o(e)&&r.setCapture(e,this)},n=function(e){o(e)&&r.releaseCapture(e,this)}),Element.prototype.setPointerCapture||Object.defineProperties(Element.prototype,{setPointerCapture:{value:t},releasePointerCapture:{value:n}})}(window.PointerEventsPolyfill);